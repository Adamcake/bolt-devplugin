(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();const an=!1;var Yr=Array.isArray,Zn=Array.prototype.indexOf,zr=Array.from,Qn=Object.defineProperty,Yt=Object.getOwnPropertyDescriptor,Fn=Object.getOwnPropertyDescriptors,Jn=Object.prototype,ea=Array.prototype,qr=Object.getPrototypeOf,on=Object.isExtensible;function ta(e){return e()}function Nr(e){for(var r=0;r<e.length;r++)e[r]()}const Qe=2,Tn=4,Fr=8,jr=16,ct=32,zt=64,hr=128,je=256,pr=512,ke=1024,dt=2048,Pt=4096,st=8192,Tr=16384,ra=32768,Gr=65536,Rn=1<<17,na=1<<19,Sn=1<<20,Vr=1<<21,Bt=Symbol("$state"),aa=Symbol("legacy props"),ia=Symbol("");function Un(e){return e===this.v}function oa(e,r){return e!=e?r==r:e!==r||e!==null&&typeof e=="object"||typeof e=="function"}function Kr(e){return!oa(e,this.v)}function ua(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function sa(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function la(e){throw new Error("https://svelte.dev/e/effect_orphan")}function fa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ca(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function da(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function _a(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function va(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ir=!1,xa=!1;function ha(){ir=!0}const Zr=1,Qr=2,In=4,pa=8,ga=16,wa=1,ma=2,ba=4,ya=8,Ea=16,Aa=1,Fa=2,$e=Symbol(),Ta="http://www.w3.org/1999/xhtml";let he=null;function un(e){he=e}function Ft(e,r=!1,t){var i=he={p:he,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};ir&&!r&&(he.l={s:null,u:null,r1:[],r2:tr(!1)}),kn(()=>{i.d=!0})}function Tt(e){const r=he;if(r!==null){const f=r.e;if(f!==null){var t=ie,i=ee;r.e=null;try{for(var o=0;o<f.length;o++){var u=f[o];At(u.effect),nt(u.reaction),en(u.fn)}}finally{At(t),nt(i)}}he=r.p,r.m=!0}return{}}function Rr(){return!ir||he!==null&&he.l===null}function Dt(e,r){if(typeof e!="object"||e===null||Bt in e)return e;const t=qr(e);if(t!==Jn&&t!==ea)return e;var i=new Map,o=Yr(e),u=gt(0),f=ee,x=c=>{var l=ee;nt(f);var d;return d=c(),nt(l),d};return o&&i.set("length",gt(e.length)),new Proxy(e,{defineProperty(c,l,d){(!("value"in d)||d.configurable===!1||d.enumerable===!1||d.writable===!1)&&da();var v=i.get(l);return v===void 0?(v=x(()=>gt(d.value)),i.set(l,v)):D(v,x(()=>Dt(d.value))),!0},deleteProperty(c,l){var d=i.get(l);if(d===void 0)l in c&&i.set(l,x(()=>gt($e)));else{if(o&&typeof l=="string"){var v=i.get("length"),s=Number(l);Number.isInteger(s)&&s<v.v&&D(v,s)}D(d,$e),sn(u)}return!0},get(c,l,d){var m;if(l===Bt)return e;var v=i.get(l),s=l in c;if(v===void 0&&(!s||(m=Yt(c,l))!=null&&m.writable)&&(v=x(()=>gt(Dt(s?c[l]:$e))),i.set(l,v)),v!==void 0){var w=n(v);return w===$e?void 0:w}return Reflect.get(c,l,d)},getOwnPropertyDescriptor(c,l){var d=Reflect.getOwnPropertyDescriptor(c,l);if(d&&"value"in d){var v=i.get(l);v&&(d.value=n(v))}else if(d===void 0){var s=i.get(l),w=s==null?void 0:s.v;if(s!==void 0&&w!==$e)return{enumerable:!0,configurable:!0,value:w,writable:!0}}return d},has(c,l){var w;if(l===Bt)return!0;var d=i.get(l),v=d!==void 0&&d.v!==$e||Reflect.has(c,l);if(d!==void 0||ie!==null&&(!v||(w=Yt(c,l))!=null&&w.writable)){d===void 0&&(d=x(()=>gt(v?Dt(c[l]):$e)),i.set(l,d));var s=n(d);if(s===$e)return!1}return v},set(c,l,d,v){var ae;var s=i.get(l),w=l in c;if(o&&l==="length")for(var m=d;m<s.v;m+=1){var W=i.get(m+"");W!==void 0?D(W,$e):m in c&&(W=x(()=>gt($e)),i.set(m+"",W))}s===void 0?(!w||(ae=Yt(c,l))!=null&&ae.writable)&&(s=x(()=>gt(void 0)),D(s,x(()=>Dt(d))),i.set(l,s)):(w=s.v!==$e,D(s,x(()=>Dt(d))));var j=Reflect.getOwnPropertyDescriptor(c,l);if(j!=null&&j.set&&j.set.call(v,d),!w){if(o&&typeof l=="string"){var le=i.get("length"),fe=Number(l);Number.isInteger(fe)&&fe>=le.v&&D(le,fe+1)}sn(u)}return!0},ownKeys(c){n(u);var l=Reflect.ownKeys(c).filter(s=>{var w=i.get(s);return w===void 0||w.v!==$e});for(var[d,v]of i)v.v!==$e&&!(d in c)&&l.push(d);return l},setPrototypeOf(){_a()}})}function sn(e,r=1){D(e,e.v+r)}const er=new Map;function tr(e,r){var t={f:0,v:e,reactions:null,equals:Un,rv:0,wv:0};return t}function gt(e,r){const t=tr(e);return Va(t),t}function V(e,r=!1){var i;const t=tr(e);return r||(t.equals=Kr),ir&&he!==null&&he.l!==null&&((i=he.l).s??(i.s=[])).push(t),t}function Ve(e,r){return D(e,ft(()=>n(e))),r}function D(e,r,t=!1){ee!==null&&!rt&&Rr()&&(ee.f&(Qe|jr))!==0&&!(Be!=null&&Be.includes(e))&&va();let i=t?Dt(r):r;return rr(e,i)}function rr(e,r){if(!e.equals(r)){var t=e.v;ur?er.set(e,r):er.set(e,t),e.v=r,e.wv=Yn(),Dn(e,dt),Rr()&&ie!==null&&(ie.f&ke)!==0&&(ie.f&(ct|zt))===0&&(ze===null?Oa([e]):ze.push(e))}return r}function Dn(e,r){var t=e.reactions;if(t!==null)for(var i=Rr(),o=t.length,u=0;u<o;u++){var f=t[u],x=f.f;(x&dt)===0&&(!i&&f===ie||(Je(f,r),(x&(ke|je))!==0&&((x&Qe)!==0?Dn(f,Pt):Dr(f))))}}let Ra=!1;var ln,Bn,Mn,Pn;function Sa(){if(ln===void 0){ln=window,Bn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,r=Node.prototype,t=Text.prototype;Mn=Yt(r,"firstChild").get,Pn=Yt(r,"nextSibling").get,on(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),on(t)&&(t.__t=void 0)}}function Jr(e=""){return document.createTextNode(e)}function gr(e){return Mn.call(e)}function Sr(e){return Pn.call(e)}function De(e,r){return gr(e)}function de(e,r){{var t=gr(e);return t instanceof Comment&&t.data===""?Sr(t):t}}function K(e,r=1,t=!1){let i=e;for(;r--;)i=Sr(i);return i}function Ua(e){e.textContent=""}function nr(e){var r=Qe|dt,t=ee!==null&&(ee.f&Qe)!==0?ee:null;return ie===null||t!==null&&(t.f&je)!==0?r|=je:ie.f|=Sn,{ctx:he,deps:null,effects:null,equals:Un,f:r,fn:e,reactions:null,rv:0,v:null,wv:0,parent:t??ie}}function k(e){const r=nr(e);return r.equals=Kr,r}function $n(e){var r=e.effects;if(r!==null){e.effects=null;for(var t=0;t<r.length;t+=1)Et(r[t])}}function Ia(e){for(var r=e.parent;r!==null;){if((r.f&Qe)===0)return r;r=r.parent}return null}function Da(e){var r,t=ie;At(Ia(e));try{$n(e),r=qn(e)}finally{At(t)}return r}function Cn(e){var r=Da(e),t=(yt||(e.f&je)!==0)&&e.deps!==null?Pt:ke;Je(e,t),e.equals(r)||(e.v=r,e.wv=Yn())}function Ln(e){ie===null&&ee===null&&la(),ee!==null&&(ee.f&je)!==0&&ie===null&&sa(),ur&&ua()}function Ba(e,r){var t=r.last;t===null?r.last=r.first=e:(t.next=e,e.prev=t,r.last=e)}function qt(e,r,t,i=!0){var o=ie,u={ctx:he,deps:null,nodes_start:null,nodes_end:null,f:e|dt,first:null,fn:r,last:null,next:null,parent:o,prev:null,teardown:null,transitions:null,wv:0};if(t)try{Ir(u),u.f|=ra}catch(c){throw Et(u),c}else r!==null&&Dr(u);var f=t&&u.deps===null&&u.first===null&&u.nodes_start===null&&u.teardown===null&&(u.f&(Sn|hr))===0;if(!f&&i&&(o!==null&&Ba(u,o),ee!==null&&(ee.f&Qe)!==0)){var x=ee;(x.effects??(x.effects=[])).push(u)}return u}function kn(e){const r=qt(Fr,null,!1);return Je(r,ke),r.teardown=e,r}function fn(e){Ln();var r=ie!==null&&(ie.f&ct)!==0&&he!==null&&!he.m;if(r){var t=he;(t.e??(t.e=[])).push({fn:e,effect:ie,reaction:ee})}else{var i=en(e);return i}}function Ma(e){return Ln(),or(e)}function Pa(e){const r=qt(zt,e,!0);return(t={})=>new Promise(i=>{t.outro?wr(r,()=>{Et(r),i(void 0)}):(Et(r),i(void 0))})}function en(e){return qt(Tn,e,!1)}function $a(e,r){var t=he,i={effect:null,ran:!1};t.l.r1.push(i),i.effect=or(()=>{e(),!i.ran&&(i.ran=!0,D(t.l.r2,!0),ft(r))})}function Ca(){var e=he;or(()=>{if(n(e.l.r2)){for(var r of e.l.r1){var t=r.effect;(t.f&ke)!==0&&Je(t,Pt),jt(t)&&Ir(t),r.ran=!1}e.l.r2.v=!1}})}function or(e){return qt(Fr,e,!0)}function qe(e,r=[],t=nr){const i=r.map(t);return tn(()=>e(...i.map(n)))}function tn(e,r=0){return qt(Fr|jr|r,e,!0)}function ar(e,r=!0){return qt(Fr|ct,e,!0,r)}function Nn(e){var r=e.teardown;if(r!==null){const t=ur,i=ee;cn(!0),nt(null);try{r.call(null)}finally{cn(t),nt(i)}}}function Vn(e,r=!1){var t=e.first;for(e.first=e.last=null;t!==null;){var i=t.next;(t.f&zt)!==0?t.parent=null:Et(t,r),t=i}}function La(e){for(var r=e.first;r!==null;){var t=r.next;(r.f&ct)===0&&Et(r),r=t}}function Et(e,r=!0){var t=!1;if((r||(e.f&na)!==0)&&e.nodes_start!==null){for(var i=e.nodes_start,o=e.nodes_end;i!==null;){var u=i===o?null:Sr(i);i.remove(),i=u}t=!0}Vn(e,r&&!t),Ar(e,0),Je(e,Tr);var f=e.transitions;if(f!==null)for(const c of f)c.stop();Nn(e);var x=e.parent;x!==null&&x.first!==null&&On(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function On(e){var r=e.parent,t=e.prev,i=e.next;t!==null&&(t.next=i),i!==null&&(i.prev=t),r!==null&&(r.first===e&&(r.first=i),r.last===e&&(r.last=t))}function wr(e,r){var t=[];rn(e,t,!0),Hn(t,()=>{Et(e),r&&r()})}function Hn(e,r){var t=e.length;if(t>0){var i=()=>--t||r();for(var o of e)o.out(i)}else r()}function rn(e,r,t){if((e.f&st)===0){if(e.f^=st,e.transitions!==null)for(const f of e.transitions)(f.is_global||t)&&r.push(f);for(var i=e.first;i!==null;){var o=i.next,u=(i.f&Gr)!==0||(i.f&ct)!==0;rn(i,r,u?t:!1),i=o}}}function mr(e){Xn(e,!0)}function Xn(e,r){if((e.f&st)!==0){e.f^=st,(e.f&ke)===0&&(e.f^=ke),jt(e)&&(Je(e,dt),Dr(e));for(var t=e.first;t!==null;){var i=t.next,o=(t.f&Gr)!==0||(t.f&ct)!==0;Xn(t,o?r:!1),t=i}if(e.transitions!==null)for(const u of e.transitions)(u.is_global||r)&&u.in()}}let br=[];function ka(){var e=br;br=[],Nr(e)}function nn(e){br.length===0&&queueMicrotask(ka),br.push(e)}let vr=!1,Or=!1,yr=null,Mt=!1,ur=!1;function cn(e){ur=e}let xr=[];let ee=null,rt=!1;function nt(e){ee=e}let ie=null;function At(e){ie=e}let Be=null;function Na(e){Be=e}function Va(e){ee!==null&&ee.f&Vr&&(Be===null?Na([e]):Be.push(e))}let Ie=null,Oe=0,ze=null;function Oa(e){ze=e}let Wn=1,Er=0,yt=!1,bt=null;function Yn(){return++Wn}function jt(e){var v;var r=e.f;if((r&dt)!==0)return!0;if((r&Pt)!==0){var t=e.deps,i=(r&je)!==0;if(t!==null){var o,u,f=(r&pr)!==0,x=i&&ie!==null&&!yt,c=t.length;if(f||x){var l=e,d=l.parent;for(o=0;o<c;o++)u=t[o],(f||!((v=u==null?void 0:u.reactions)!=null&&v.includes(l)))&&(u.reactions??(u.reactions=[])).push(l);f&&(l.f^=pr),x&&d!==null&&(d.f&je)===0&&(l.f^=je)}for(o=0;o<c;o++)if(u=t[o],jt(u)&&Cn(u),u.wv>e.wv)return!0}(!i||ie!==null&&!yt)&&Je(e,ke)}return!1}function Ha(e,r){for(var t=r;t!==null;){if((t.f&hr)!==0)try{t.fn(e);return}catch{t.f^=hr}t=t.parent}throw vr=!1,e}function Xa(e){return(e.f&Tr)===0&&(e.parent===null||(e.parent.f&hr)===0)}function Ur(e,r,t,i){if(vr){if(t===null&&(vr=!1),Xa(r))throw e;return}t!==null&&(vr=!0);{Ha(e,r);return}}function zn(e,r,t=!0){var i=e.reactions;if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Be!=null&&Be.includes(e)||((u.f&Qe)!==0?zn(u,r,!1):r===u&&(t?Je(u,dt):(u.f&ke)!==0&&Je(u,Pt),Dr(u)))}}function qn(e){var w;var r=Ie,t=Oe,i=ze,o=ee,u=yt,f=Be,x=he,c=rt,l=e.f;Ie=null,Oe=0,ze=null,yt=(l&je)!==0&&(rt||!Mt||ee===null),ee=(l&(ct|zt))===0?e:null,Be=null,un(e.ctx),rt=!1,Er++,e.f|=Vr;try{var d=(0,e.fn)(),v=e.deps;if(Ie!==null){var s;if(Ar(e,Oe),v!==null&&Oe>0)for(v.length=Oe+Ie.length,s=0;s<Ie.length;s++)v[Oe+s]=Ie[s];else e.deps=v=Ie;if(!yt)for(s=Oe;s<v.length;s++)((w=v[s]).reactions??(w.reactions=[])).push(e)}else v!==null&&Oe<v.length&&(Ar(e,Oe),v.length=Oe);if(Rr()&&ze!==null&&!rt&&v!==null&&(e.f&(Qe|Pt|dt))===0)for(s=0;s<ze.length;s++)zn(ze[s],e);return o!==null&&(Er++,ze!==null&&(i===null?i=ze:i.push(...ze))),d}finally{Ie=r,Oe=t,ze=i,ee=o,yt=u,Be=f,un(x),rt=c,e.f^=Vr}}function Wa(e,r){let t=r.reactions;if(t!==null){var i=Zn.call(t,e);if(i!==-1){var o=t.length-1;o===0?t=r.reactions=null:(t[i]=t[o],t.pop())}}t===null&&(r.f&Qe)!==0&&(Ie===null||!Ie.includes(r))&&(Je(r,Pt),(r.f&(je|pr))===0&&(r.f^=pr),$n(r),Ar(r,0))}function Ar(e,r){var t=e.deps;if(t!==null)for(var i=r;i<t.length;i++)Wa(e,t[i])}function Ir(e){var r=e.f;if((r&Tr)===0){Je(e,ke);var t=ie,i=he,o=Mt;ie=e,Mt=!0;try{(r&jr)!==0?La(e):Vn(e),Nn(e);var u=qn(e);e.teardown=typeof u=="function"?u:null,e.wv=Wn;var f=e.deps,x;an&&xa&&e.f&dt}catch(c){Ur(c,e,t,i||e.ctx)}finally{Mt=o,ie=t}}}function Ya(){try{fa()}catch(e){if(yr!==null)Ur(e,yr,null);else throw e}}function za(){var e=Mt;try{var r=0;for(Mt=!0;xr.length>0;){r++>1e3&&Ya();var t=xr,i=t.length;xr=[];for(var o=0;o<i;o++){var u=ja(t[o]);qa(u)}}}finally{Or=!1,Mt=e,yr=null,er.clear()}}function qa(e){var r=e.length;if(r!==0)for(var t=0;t<r;t++){var i=e[t];if((i.f&(Tr|st))===0)try{jt(i)&&(Ir(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?On(i):i.fn=null))}catch(o){Ur(o,i,null,i.ctx)}}}function Dr(e){Or||(Or=!0,queueMicrotask(za));for(var r=yr=e;r.parent!==null;){r=r.parent;var t=r.f;if((t&(zt|ct))!==0){if((t&ke)===0)return;r.f^=ke}}xr.push(r)}function ja(e){for(var r=[],t=e;t!==null;){var i=t.f,o=(i&(ct|zt))!==0,u=o&&(i&ke)!==0;if(!u&&(i&st)===0){if((i&Tn)!==0)r.push(t);else if(o)t.f^=ke;else{var f=ee;try{ee=t,jt(t)&&Ir(t)}catch(l){Ur(l,t,null,t.ctx)}finally{ee=f}}var x=t.first;if(x!==null){t=x;continue}}var c=t.parent;for(t=t.next;t===null&&c!==null;)t=c.next,c=c.parent}return r}function n(e){var r=e.f,t=(r&Qe)!==0;if(bt!==null&&bt.add(e),ee!==null&&!rt){if(!(Be!=null&&Be.includes(e))){var i=ee.deps;e.rv<Er&&(e.rv=Er,Ie===null&&i!==null&&i[Oe]===e?Oe++:Ie===null?Ie=[e]:(!yt||!Ie.includes(e))&&Ie.push(e))}}else if(t&&e.deps===null&&e.effects===null){var o=e,u=o.parent;u!==null&&(u.f&je)===0&&(o.f^=je)}return t&&(o=e,jt(o)&&Cn(o)),ur&&er.has(e)?er.get(e):e.v}function Ga(e){var r=bt;bt=new Set;var t=bt,i;try{if(ft(e),r!==null)for(i of bt)r.add(i)}finally{bt=r}return t}function Ce(e){var r=Ga(()=>ft(e));for(var t of r)if((t.f&Rn)!==0)for(const i of t.deps||[])(i.f&Qe)===0&&rr(i,i.v);else rr(t,t.v)}function ft(e){var r=rt;try{return rt=!0,e()}finally{rt=r}}const Ka=-7169;function Je(e,r){e.f=e.f&Ka|r}function Za(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Bt in e)Hr(e);else if(!Array.isArray(e))for(let r in e){const t=e[r];typeof t=="object"&&t&&Bt in t&&Hr(t)}}}function Hr(e,r=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!r.has(e)){r.add(e),e instanceof Date&&e.getTime();for(let i in e)try{Hr(e[i],r)}catch{}const t=qr(e);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const i=Fn(t);for(let o in i){const u=i[o].get;if(u)try{u.call(e)}catch{}}}}}const Qa=["touchstart","touchmove"];function Ja(e){return Qa.includes(e)}let dn=!1;function ei(){dn||(dn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var r;if(!e.defaultPrevented)for(const t of e.target.elements)(r=t.__on_r)==null||r.call(t)})},{capture:!0}))}function jn(e){var r=ee,t=ie;nt(null),At(null);try{return e()}finally{nt(r),At(t)}}function ti(e,r,t,i=t){e.addEventListener(r,()=>jn(t));const o=e.__on_r;o?e.__on_r=()=>{o(),i(!0)}:e.__on_r=()=>i(!0),ei()}const Gn=new Set,Xr=new Set;function ri(e,r,t,i={}){function o(u){if(i.capture||Jt.call(r,u),!u.cancelBubble)return jn(()=>t==null?void 0:t.call(this,u))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?nn(()=>{r.addEventListener(e,o,i)}):r.addEventListener(e,o,i),o}function It(e,r,t,i,o){var u={capture:i,passive:o},f=ri(e,r,t,u);(r===document.body||r===window||r===document)&&kn(()=>{r.removeEventListener(e,f,u)})}function Br(e){for(var r=0;r<e.length;r++)Gn.add(e[r]);for(var t of Xr)t(e)}function Jt(e){var fe;var r=this,t=r.ownerDocument,i=e.type,o=((fe=e.composedPath)==null?void 0:fe.call(e))||[],u=o[0]||e.target,f=0,x=e.__root;if(x){var c=o.indexOf(x);if(c!==-1&&(r===document||r===window)){e.__root=r;return}var l=o.indexOf(r);if(l===-1)return;c<=l&&(f=c)}if(u=o[f]||e.target,u!==r){Qn(e,"currentTarget",{configurable:!0,get(){return u||t}});var d=ee,v=ie;nt(null),At(null);try{for(var s,w=[];u!==null;){var m=u.assignedSlot||u.parentNode||u.host||null;try{var W=u["__"+i];if(W!=null&&(!u.disabled||e.target===u))if(Yr(W)){var[j,...le]=W;j.apply(u,[e,...le])}else W.call(u,e)}catch(ae){s?w.push(ae):s=ae}if(e.cancelBubble||m===r||m===null)break;u=m}if(s){for(let ae of w)queueMicrotask(()=>{throw ae});throw s}}finally{e.__root=r,delete e.currentTarget,nt(d),At(v)}}}function ni(e){var r=document.createElement("template");return r.innerHTML=e,r.content}function Wr(e,r){var t=ie;t.nodes_start===null&&(t.nodes_start=e,t.nodes_end=r)}function z(e,r){var t=(r&Aa)!==0,i=(r&Fa)!==0,o,u=!e.startsWith("<!>");return()=>{o===void 0&&(o=ni(u?e:"<!>"+e),t||(o=gr(o)));var f=i||Bn?document.importNode(o,!0):o.cloneNode(!0);if(t){var x=gr(f),c=f.lastChild;Wr(x,c)}else Wr(f,f);return f}}function dr(){var e=document.createDocumentFragment(),r=document.createComment(""),t=Jr();return e.append(r,t),Wr(r,t),e}function N(e,r){e!==null&&e.before(r)}function Ae(e,r){var t=r==null?"":typeof r=="object"?r+"":r;t!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=t,e.nodeValue=t+"")}function ai(e,r){return ii(e,r)}const Ht=new Map;function ii(e,{target:r,anchor:t,props:i={},events:o,context:u,intro:f=!0}){Sa();var x=new Set,c=v=>{for(var s=0;s<v.length;s++){var w=v[s];if(!x.has(w)){x.add(w);var m=Ja(w);r.addEventListener(w,Jt,{passive:m});var W=Ht.get(w);W===void 0?(document.addEventListener(w,Jt,{passive:m}),Ht.set(w,1)):Ht.set(w,W+1)}}};c(zr(Gn)),Xr.add(c);var l=void 0,d=Pa(()=>{var v=t??r.appendChild(Jr());return ar(()=>{if(u){Ft({});var s=he;s.c=u}o&&(i.$$events=o),l=e(v,i)||{},u&&Tt()}),()=>{var m;for(var s of x){r.removeEventListener(s,Jt);var w=Ht.get(s);--w===0?(document.removeEventListener(s,Jt),Ht.delete(s)):Ht.set(s,w)}Xr.delete(c),v!==t&&((m=v.parentNode)==null||m.removeChild(v))}});return oi.set(l,d),l}let oi=new WeakMap;function ne(e,r,[t,i]=[0,0]){var o=e,u=null,f=null,x=$e,c=t>0?Gr:0,l=!1;const d=(s,w=!0)=>{l=!0,v(w,s)},v=(s,w)=>{x!==(x=s)&&(x?(u?mr(u):w&&(u=ar(()=>w(o))),f&&wr(f,()=>{f=null})):(f?mr(f):w&&(f=ar(()=>w(o,[t+1,i]))),u&&wr(u,()=>{u=null})))};tn(()=>{l=!1,r(d),l||v(null,null)},c)}function ot(e,r){return r}function ui(e,r,t,i){for(var o=[],u=r.length,f=0;f<u;f++)rn(r[f].e,o,!0);var x=u>0&&o.length===0&&t!==null;if(x){var c=t.parentNode;Ua(c),c.append(t),i.clear(),mt(e,r[0].prev,r[u-1].next)}Hn(o,()=>{for(var l=0;l<u;l++){var d=r[l];x||(i.delete(d.k),mt(e,d.prev,d.next)),Et(d.e,!x)}})}function ut(e,r,t,i,o,u=null){var f=e,x={flags:r,items:new Map,first:null},c=(r&In)!==0;if(c){var l=e;f=l.appendChild(Jr())}var d=null,v=!1,s=k(()=>{var w=t();return Yr(w)?w:w==null?[]:zr(w)});tn(()=>{var w=n(s),m=w.length;v&&m===0||(v=m===0,si(w,x,f,o,r,i,t),u!==null&&(m===0?d?mr(d):d=ar(()=>u(f)):d!==null&&wr(d,()=>{d=null})),n(s))})}function si(e,r,t,i,o,u,f){var vt,Lt,xt,Rt;var x=(o&pa)!==0,c=(o&(Zr|Qr))!==0,l=e.length,d=r.items,v=r.first,s=v,w,m=null,W,j=[],le=[],fe,ae,P,Y;if(x)for(Y=0;Y<l;Y+=1)fe=e[Y],ae=u(fe,Y),P=d.get(ae),P!==void 0&&((vt=P.a)==null||vt.measure(),(W??(W=new Set)).add(P));for(Y=0;Y<l;Y+=1){if(fe=e[Y],ae=u(fe,Y),P=d.get(ae),P===void 0){var Z=s?s.e.nodes_start:t;m=fi(Z,r,m,m===null?r.first:m.next,fe,ae,Y,i,o,f),d.set(ae,m),j=[],le=[],s=m.next;continue}if(c&&li(P,fe,Y,o),(P.e.f&st)!==0&&(mr(P.e),x&&((Lt=P.a)==null||Lt.unfix(),(W??(W=new Set)).delete(P))),P!==s){if(w!==void 0&&w.has(P)){if(j.length<le.length){var q=le[0],G;m=q.prev;var oe=j[0],Me=j[j.length-1];for(G=0;G<j.length;G+=1)_n(j[G],q,t);for(G=0;G<le.length;G+=1)w.delete(le[G]);mt(r,oe.prev,Me.next),mt(r,m,oe),mt(r,Me,q),s=q,m=Me,Y-=1,j=[],le=[]}else w.delete(P),_n(P,s,t),mt(r,P.prev,P.next),mt(r,P,m===null?r.first:m.next),mt(r,m,P),m=P;continue}for(j=[],le=[];s!==null&&s.k!==ae;)(s.e.f&st)===0&&(w??(w=new Set)).add(s),le.push(s),s=s.next;if(s===null)continue;P=s}j.push(P),m=P,s=P.next}if(s!==null||w!==void 0){for(var He=w===void 0?[]:zr(w);s!==null;)(s.e.f&st)===0&&He.push(s),s=s.next;var _t=He.length;if(_t>0){var Ct=(o&In)!==0&&l===0?t:null;if(x){for(Y=0;Y<_t;Y+=1)(xt=He[Y].a)==null||xt.measure();for(Y=0;Y<_t;Y+=1)(Rt=He[Y].a)==null||Rt.fix()}ui(r,He,Ct,d)}}x&&nn(()=>{var St;if(W!==void 0)for(P of W)(St=P.a)==null||St.apply()}),ie.first=r.first&&r.first.e,ie.last=m&&m.e}function li(e,r,t,i){(i&Zr)!==0&&rr(e.v,r),(i&Qr)!==0?rr(e.i,t):e.i=t}function fi(e,r,t,i,o,u,f,x,c,l){var d=(c&Zr)!==0,v=(c&ga)===0,s=d?v?V(o):tr(o):o,w=(c&Qr)===0?f:tr(f),m={i:w,v:s,k:u,a:null,e:null,prev:t,next:i};try{return m.e=ar(()=>x(e,s,w,l),Ra),m.e.prev=t&&t.e,m.e.next=i&&i.e,t===null?r.first=m:(t.next=m,t.e.next=m.e),i!==null&&(i.prev=m,i.e.prev=m.e),m}finally{}}function _n(e,r,t){for(var i=e.next?e.next.e.nodes_start:t,o=r?r.e.nodes_start:t,u=e.e.nodes_start;u!==i;){var f=Sr(u);o.before(u),u=f}}function mt(e,r,t){r===null?e.first=t:(r.next=t,r.e.next=t&&t.e),t!==null&&(t.prev=r,t.e.prev=r&&r.e)}function Kn(e){var r,t,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(r=0;r<o;r++)e[r]&&(t=Kn(e[r]))&&(i&&(i+=" "),i+=t)}else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function ci(){for(var e,r,t=0,i="",o=arguments.length;t<o;t++)(e=arguments[t])&&(r=Kn(e))&&(i&&(i+=" "),i+=r);return i}function di(e){return typeof e=="object"?ci(e):e??""}function _i(e,r,t){var i=e==null?"":""+e;return i===""?null:i}function vn(e,r,t,i,o,u){var f=e.__className;if(f!==t){var x=_i(t);x==null?e.removeAttribute("class"):e.className=x,e.__className=t}return u}const vi=Symbol("is custom element"),xi=Symbol("is html");function Xt(e,r,t,i){var o=hi(e);o[r]!==(o[r]=t)&&(r==="loading"&&(e[ia]=t),t==null?e.removeAttribute(r):typeof t!="string"&&pi(e).includes(r)?e[r]=t:e.setAttribute(r,t))}function hi(e){return e.__attributes??(e.__attributes={[vi]:e.nodeName.includes("-"),[xi]:e.namespaceURI===Ta})}var xn=new Map;function pi(e){var r=xn.get(e.nodeName);if(r)return r;xn.set(e.nodeName,r=[]);for(var t,i=e,o=Element.prototype;o!==i;){t=Fn(i);for(var u in t)t[u].set&&r.push(u);i=qr(i)}return r}function gi(e,r,t=r){ti(e,"change",i=>{var o=i?e.defaultChecked:e.checked;t(o)}),ft(r)==null&&t(e.checked),or(()=>{var i=r();e.checked=!!i})}function hn(e,r){return e===r||(e==null?void 0:e[Bt])===r}function wi(e={},r,t,i){return en(()=>{var o,u;return or(()=>{o=u,u=[],ft(()=>{e!==t(...u)&&(r(e,...u),o&&hn(t(...o),e)&&r(null,...o))})}),()=>{nn(()=>{u&&hn(t(...u),e)&&r(null,...u)})}}),e}function $t(e=!1){const r=he,t=r.l.u;if(!t)return;let i=()=>Za(r.s);if(e){let o=0,u={};const f=nr(()=>{let x=!1;const c=r.s;for(const l in c)c[l]!==u[l]&&(u[l]=c[l],x=!0);return x&&o++,o});i=()=>n(f)}t.b.length&&Ma(()=>{pn(r,i),Nr(t.b)}),fn(()=>{const o=ft(()=>t.m.map(ta));return()=>{for(const u of o)typeof u=="function"&&u()}}),t.a.length&&fn(()=>{pn(r,i),Nr(t.a)})}function pn(e,r){if(e.l.s)for(const t of e.l.s)n(t);r()}let _r=!1;function mi(e){var r=_r;try{return _r=!1,[e(),_r]}finally{_r=r}}function gn(e){var r;return((r=e.ctx)==null?void 0:r.d)??!1}function Le(e,r,t,i){var q;var o=(t&wa)!==0,u=!ir||(t&ma)!==0,f=(t&ya)!==0,x=(t&Ea)!==0,c=!1,l;f?[l,c]=mi(()=>e[r]):l=e[r];var d=Bt in e||aa in e,v=f&&(((q=Yt(e,r))==null?void 0:q.set)??(d&&r in e&&(G=>e[r]=G)))||void 0,s=i,w=!0,m=!1,W=()=>(m=!0,w&&(w=!1,x?s=ft(i):s=i),s);l===void 0&&i!==void 0&&(v&&u&&ca(),l=W(),v&&v(l));var j;if(u)j=()=>{var G=e[r];return G===void 0?W():(w=!0,m=!1,G)};else{var le=(o?nr:k)(()=>e[r]);le.f|=Rn,j=()=>{var G=n(le);return G!==void 0&&(s=void 0),G===void 0?s:G}}if((t&ba)===0)return j;if(v){var fe=e.$$legacy;return function(G,oe){return arguments.length>0?((!u||!oe||fe||c)&&v(oe?j():G),G):j()}}var ae=!1,P=!1,Y=V(l),Z=nr(()=>{var G=j(),oe=n(Y);return ae?(ae=!1,P=!0,oe):(P=!1,Y.v=G)});return f&&n(Z),o||(Z.equals=Kr),function(G,oe){if(bt!==null&&(ae=P,j(),n(Y)),arguments.length>0){const Me=oe?n(Z):u&&f?Dt(G):G;if(!Z.equals(Me)){if(ae=!0,D(Y,Me),m&&s!==void 0&&(s=Me),gn(Z))return G;ft(()=>n(Z))}return G}return gn(Z)?Z.v:n(Z)}}const bi="5";var An;typeof window<"u"&&((An=window.__svelte??(window.__svelte={})).v??(An.v=new Set)).add(bi);ha();const yi=`#version 300 es
layout (location = 0) in highp vec4 xy_uv;
layout (location = 1) in highp vec4 in_image_xywh;
layout (location = 2) in highp vec4 in_rgba;
layout (location = 3) in lowp vec3 in_discard_wrapx_wrapy;
out highp vec4 rgba;
out highp vec2 uv;
out highp vec4 image_xywh;
out lowp vec3 discard_wrapx_wrapy;
uniform highp vec4 atlas_wh_screen_wh;
void main() {
    rgba = in_rgba;
    uv = xy_uv.pq;
    image_xywh = in_image_xywh;
    discard_wrapx_wrapy = in_discard_wrapx_wrapy;
    gl_Position = vec4(
        (xy_uv.x * 2.0 / atlas_wh_screen_wh.p) - 1.0,
        1.0 - (xy_uv.y * 2.0 / atlas_wh_screen_wh.q),
        0.0,
        1.0
    );
}
`,Ei=`#version 300 es
in highp vec4 rgba;
in highp vec2 uv;
in highp vec4 image_xywh;
in lowp vec3 discard_wrapx_wrapy;
out highp vec4 col;
uniform sampler2D tex;
uniform highp vec4 atlas_wh_screen_wh;
void main() {
    if (discard_wrapx_wrapy.x > 0.5) {
        col = rgba;
    } else {
        highp vec2 atlas_wh = atlas_wh_screen_wh.st;
        highp vec2 mod_atlas_uv = (image_xywh.st + (fract((uv - (image_xywh.st / atlas_wh)) / (image_xywh.pq / atlas_wh)) * image_xywh.pq)) / atlas_wh;
        highp vec2 clamp_atlas_uv = min(max(uv * atlas_wh, image_xywh.st), image_xywh.st + image_xywh.pq) / atlas_wh;
        col = texture(tex, mix(clamp_atlas_uv, mod_atlas_uv, discard_wrapx_wrapy.yz)) * rgba;
    }
}
`,Ai=`#version 300 es
layout (location = 0) in highp vec4 xyz_and_bone;
layout (location = 1) in highp vec2 in_uv;
layout (location = 2) in highp vec4 in_image_xywh;
layout (location = 3) in highp vec4 in_rgba;
out highp vec4 rgba;
out highp vec2 uv;
out highp vec4 image_xywh;
uniform mat4 modelmatrix;
uniform mat4 viewmatrix;
uniform mat4 projmatrix;
uniform highp vec2 atlas_wh;
void main() {
    rgba = in_rgba;
    uv = in_uv;
    image_xywh = vec4(
        in_image_xywh.s / atlas_wh.s,
        in_image_xywh.t / atlas_wh.t,
        in_image_xywh.p / atlas_wh.s,
        in_image_xywh.q / atlas_wh.t
    );
    gl_Position = projmatrix * viewmatrix * modelmatrix * vec4(xyz_and_bone.xyz, 1.0);
}
`,Fi=`#version 300 es
layout (location = 0) in highp vec4 xyz_and_bone;
layout (location = 1) in highp vec2 in_uv;
layout (location = 2) in highp vec4 in_image_xywh;
layout (location = 3) in highp vec4 in_rgba;
layout (location = 4) in highp mat4 anim;
out highp vec4 rgba;
out highp vec2 uv;
out highp vec4 image_xywh;
uniform mat4 modelmatrix;
uniform mat4 viewmatrix;
uniform mat4 projmatrix;
uniform highp vec2 atlas_wh;
void main() {
    rgba = in_rgba;
    uv = in_uv;
    image_xywh = vec4(
        in_image_xywh.s / atlas_wh.s,
        in_image_xywh.t / atlas_wh.t,
        in_image_xywh.p / atlas_wh.s,
        in_image_xywh.q / atlas_wh.t
    );
    gl_Position = projmatrix * viewmatrix * modelmatrix * anim * vec4(xyz_and_bone.xyz, 1.0);
}
`,Ti=`#version 300 es
in highp vec4 rgba;
in highp vec2 uv;
in highp vec4 image_xywh;
out highp vec4 col;
uniform sampler2D tex;
void main() {
    col = texture(tex, image_xywh.st + (fract(uv) * image_xywh.pq)) * rgba;
}
`,Ri=`#version 300 es
layout (location = 0) in highp vec3 xyz;
layout (location = 1) in highp vec4 in_rgba;
layout (location = 2) in highp vec2 offset2d;
layout (location = 3) in highp vec3 offset3d;
layout (location = 4) in highp vec2 in_uv;
layout (location = 5) in highp vec4 in_image_xywh;
out highp vec4 rgba;
out highp vec2 uv;
out highp vec4 image_xywh;
uniform mat4 viewmatrix;
uniform mat4 projmatrix;
uniform highp vec2 atlas_wh;
void main() {
    rgba = in_rgba;
    uv = in_uv;
    image_xywh = vec4(
        in_image_xywh.s / atlas_wh.s,
        in_image_xywh.t / atlas_wh.t,
        in_image_xywh.p / atlas_wh.s,
        in_image_xywh.q / atlas_wh.t
    );
    gl_Position = projmatrix * (vec4(offset2d, 0.0, 0.0) + (viewmatrix * vec4(xyz + offset3d, 1.0)));
}
`,Si=`#version 300 es
layout (location = 0) in highp vec2 in_xy;
out highp vec2 xy;
uniform highp vec2 screen_wh;
void main() {
    xy = in_xy;
    gl_Position = vec4(
        in_xy.x * 2.0 - 1.0,
        in_xy.y * 2.0 - 1.0,
        0.0,
        1.0
    );
}
`,Ui=`#version 300 es
in highp vec2 xy;
out highp vec4 col;
uniform highp vec2 screen_wh;
void main() {
    highp float xpixel = xy.x * screen_wh.s;
    highp float ypixel = xy.y * screen_wh.t;
    highp float rgb = mod(floor(xpixel / 24.0) + floor(ypixel / 24.0), 2.0) >= 1.0 ? 0.8 : 0.7;
    col = vec4(rgb, rgb, rgb, 1.0);
}
`,Zt=[{count:4,offset:0},{count:4,offset:16},{count:4,offset:32},{count:3,offset:48}],wn=[{count:4,offset:0},{count:2,offset:16},{count:4,offset:24},{count:4,offset:40}],Ii=[{count:4,offset:0},{count:2,offset:16},{count:4,offset:24},{count:4,offset:40},{count:4,offset:56},{count:4,offset:72},{count:4,offset:88},{count:4,offset:104}],Di=[{count:3,offset:0},{count:4,offset:28},{count:2,offset:44},{count:3,offset:52},{count:2,offset:64},{count:4,offset:12}],Bi=[{count:2,offset:0}],wt=(e,r,t,i)=>{const o=e.createShader(r);if(!o)throw new Error(`failed to create shader '${i}'`);if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){const u=e.getShaderInfoLog(o);throw new Error(`compilation error in shader '${i}':
${u}`)}return o},Qt=(e,r,t,i)=>{const o=e.createProgram();if(!o)throw new Error(`failed to create program '${i}'`);if(e.attachShader(o,r),e.attachShader(o,t),e.linkProgram(o),e.detachShader(o,r),e.detachShader(o,t),!e.getProgramParameter(o,e.LINK_STATUS)){const u=e.getProgramInfoLog(o);throw new Error(`link error in program '${i}':
${u}`)}return o};function*Mi(e,r){let t=0;for(;!(t>e.length);){const i=t+r;yield e.slice(t,i),t=i}}function*Pi(e,r){let t=0;for(;;){const i=t+r;if(i>e.length)break;yield e.slice(t,i),t=i}}function Lr(e,r,t,i){const o=r*2,u=e.map(t);return u.length<o?u:Mi(u,r).map(f=>[...f]).map(i).toArray()}function lt(e){return Math.round(e*255)}let tt=null;const $i=(e,r,t,i)=>{tt={value:e,level:r,draggedID:t,set:i}},Ci=()=>{tt=null},Li=(e,r,t)=>{!tt||tt.level!==e||tt.draggedID===r||(tt.set&&(tt.set(tt.value),tt.set=null),t(tt.value))};var ki=(e,r)=>r(!1),Ni=z('<button class="h-4 w-4 rounded-lg hover:bg-white"><img src="plugin://app/images/caret-down-solid.svg" class="h-full w-full" alt="hide"></button>'),Vi=(e,r)=>r(!0),Oi=z('<button class="h-4 w-4 rounded-lg hover:bg-white"><img src="plugin://app/images/caret-down-solid.svg" class="h-full w-full rotate-270" alt="expand"></button>'),Hi=z('<input type="checkbox">'),Xi=z("<!> <!> <label> </label> <br>",1);function Ue(e,r){Ft(r,!1);let t=Le(r,"expanded",12),i=Le(r,"id",8),o=Le(r,"text",8),u=Le(r,"checked",12,null),f=Le(r,"level",8),x=Le(r,"onexpandedchange",8,null),c=Le(r,"oncheckedchange",8,null);const l=Z=>{t(Z),x()&&x()()},d=Z=>{u(Z),c()&&c()()},v=()=>$i(!u(),f(),i(),d),s=()=>Li(f(),i(),d),w=Ci;$t();var m=Xi(),W=de(m);{var j=Z=>{var q=Ni();q.__click=[ki,l],qe(()=>Xt(q,"id",u()===null?i():null)),N(Z,q)},le=Z=>{var q=Oi();q.__click=[Vi,l],qe(()=>Xt(q,"id",u()===null?i():null)),N(Z,q)};ne(W,Z=>{t()?Z(j):Z(le,!1)})}var fe=K(W,2);{var ae=Z=>{var q=Hi();Xt(q,"draggable",!0),q.__change=function(...G){var oe;(oe=c())==null||oe.apply(this,G)},qe(()=>Xt(q,"id",i())),It("dragstart",q,v),It("dragenter",q,s),It("dragend",q,w),gi(q,u),N(Z,q)};ne(fe,Z=>{u()!==null&&Z(ae)})}var P=K(fe,2);Xt(P,"draggable",!0),P.__change=function(...Z){var q;(q=c())==null||q.apply(this,Z)};var Y=De(P);qe(()=>{Xt(P,"for",i()),Ae(Y,o())}),It("dragstart",P,v),It("dragenter",P,s),It("dragend",P,w),N(e,m),Tt()}Br(["click","change"]);var Wi=z('<div class="ml-2 w-full"> <br> <br> <br> <br></div>');function mn(e,r){Ft(r,!1);let t=Le(r,"image",8);$t();var i=Wi(),o=De(i),u=K(o,2),f=K(u,2),x=K(f,2);qe((c,l,d,v)=>{Ae(o,`screen: ${t().x??""},${t().y??""}
  ${t().w??""}x${t().h??""} `),Ae(u,` atlas: ${t().ax??""},${t().ay??""}
  ${t().aw??""}x${t().ah??""} `),Ae(f,` rgb: ${c??""}, ${l??""}, ${d??""} `),Ae(x,` alpha: ${v??""} `)},[()=>lt(t().r),()=>lt(t().g),()=>lt(t().b),()=>t().a.toPrecision(4)],k),N(e,i),Tt()}var Yi=z(" <br>",1),zi=z('<div class="ml-2 w-full"><!> <br> <br> <br> <br></div>');function bn(e,r){Ft(r,!1);let t=Le(r,"vertex",8);$t();var i=zi(),o=De(i);{var u=d=>{var v=Yi(),s=de(v);qe(()=>Ae(s,`model: ${t().modelpoint.x??""},${t().modelpoint.y??""},${t().modelpoint.z??""} `)),N(d,v)};ne(o,d=>{t().modelpoint&&d(u)})}var f=K(o),x=K(f,2),c=K(x,2),l=K(c,2);qe((d,v,s,w,m,W)=>{Ae(f,` atlas: ${t().ax??""},${t().ay??""}
  ${t().aw??""}x${t().ah??""} `),Ae(x,` uv: ${d??""}, ${v??""} `),Ae(c,` rgb: ${s??""}, ${w??""}, ${m??""} `),Ae(l,` alpha: ${W??""} `)},[()=>t().u.toPrecision(4),()=>t().v.toPrecision(4),()=>lt(t().r),()=>lt(t().g),()=>lt(t().b),()=>t().a.toPrecision(4)],k),N(e,i),Tt()}var qi=z('<div class="ml-2 w-full"> <br> <br> <br></div>');function yn(e,r){Ft(r,!1);let t=Le(r,"vertex",8);$t();var i=qi(),o=De(i),u=K(o,2),f=K(u,2);qe((x,c,l,d)=>{Ae(o,`model: ${t().modelpoint.x??""},${t().modelpoint.y??""},${t().modelpoint.z??""} `),Ae(u,` rgb: ${x??""}, ${c??""}, ${l??""} `),Ae(f,` alpha: ${d??""} `)},[()=>lt(t().r),()=>lt(t().g),()=>lt(t().b),()=>t().a.toPrecision(4)],k),N(e,i),Tt()}var ji=z("<div> </div>"),Gi=(e,r,t)=>{const i=r().textureId,o=t().textures[i];t(t().selectedTextureId=i.toString(),!0),t(t().selectedTexture=o,!0),t(t().textureBoundX=0,!0),t(t().textureBoundY=0,!0),t(t().textureBoundW=o.width,!0),t(t().textureBoundH=o.height,!0),t(t().textureViewX=0,!0),t(t().textureViewY=0,!0),t(t().textureViewScale=100,!0),t().redraw()},Ki=z('<button class="hover:bg-gray-200"> </button> <br>',1),Zi=z("<!> <!>",1),Qi=z('<div class="ml-1"></div>'),Ji=z("<!> <!>",1),eo=z("<!> <!>",1),to=z('<div class="ml-1"><!></div>'),ro=z("<!> <!>",1),no=z("<!> <!>",1),ao=z('<div class="ml-1"></div>'),io=z("<!> <!>",1),oo=z("<!> <!>",1),uo=z('<div class="ml-1"><!></div>'),so=z("<!> <!>",1),lo=z("<!> <!>",1),fo=z('<div class="ml-1"></div>'),co=z("<!> <!>",1),_o=z("<!> <!>",1),vo=z('<div class="ml-1"><!></div>'),xo=z("<!> <!>",1),ho=z('<div class="ml-1"><!> <!></div>'),po=z(" <br> <!> <!>",1),go=z('<div class="ml-3 text-sm"><!> <!> <!> <!> <!></div>');function wo(e,r){Ft(r,!1);let t=Le(r,"entity",12),i=Le(r,"menuData",12),o=Le(r,"level",8);const u=6,f=100;let x=V(!1),c=V(!1),l=V(!1);function d(S){return"images"in S}function v(S){return"vertices"in S}function s(S){return"vertices"in S}const w=(S,Q)=>{const O=S[0];let _e=O.x,Xe=O.x,Te=O.y,Fe=O.y;for(const te of S)te.x<_e&&(_e=te.x),te.x>Xe&&(Xe=te.x),te.y<Te&&(Te=te.y),te.y>Fe&&(Fe=te.y);return{x:_e,y:Te,w:Xe-_e,h:Fe-Te,ax:O.ax,ay:O.ay,aw:O.aw,ah:O.ah,r:O.r,g:O.g,b:O.b,a:O.a,expanded:!1,index:Q}},m=(S,Q)=>{const O=Q*f,_e=O*u;return{images:S,desc:`${O}-${O+S.length-1}`,expanded:!1,vertexRangeStart:_e,vertexRangeEnd:_e+S.length*u}},W=(S,Q)=>({modelpoint:{...S},expanded:!1,index:Q,...S}),j=(S,Q)=>({modelpoint:null,expanded:!1,index:Q,...S}),le=(S,Q)=>{const O=Q*f;return{vertices:S,desc:`${O}-${O+S.length-1}`,expanded:!1}},fe=(S,Q)=>({modelpoint:{...S},expanded:!1,index:Q,...S}),ae=(S,Q)=>{const O=Q*f;return{vertices:S,desc:`${O}-${O+S.length-1}`,expanded:!1}},P=(S,Q)=>({vertices:Lr(S.vertices,f,fe,ae),vertexCount:S.vertices.length,expanded:!1,verticesExpanded:!1,index:Q});let Y=V(null),Z=V(0),q=V(null),G=V(0),oe=V(null),Me=V(0);if(t().type==="batch2d"||t().type==="minimap2d"){const S=[...Pi(t().vertices,u)];D(Z,S.length),D(Y,Lr(S,f,w,m))}else if(t().vertices){const S=t().type!=="renderparticles"?W:j;D(G,t().vertices.length),D(q,Lr(t().vertices,f,S,le))}t().models&&(D(Me,t().models.length),D(oe,t().models.map(P))),$t();var He=go(),_t=De(He);{var Ct=S=>{var Q=ji(),O=De(Q);qe(()=>Ae(O,`animated: ${t().animated??""}`)),N(S,Q)};ne(_t,S=>{typeof t().animated=="boolean"&&S(Ct)})}var vt=K(_t,2);{var Lt=S=>{var Q=Ki(),O=de(Q);O.__click=[Gi,t,i];var _e=De(O);qe(()=>Ae(_e,`texture: #${t().textureId??""}`)),N(S,Q)};ne(vt,S=>{typeof t().textureId=="number"&&S(Lt)})}var xt=K(vt,2);{var Rt=S=>{var Q=ro(),O=de(Q);const _e=k(()=>`${t().uuid}-images2d`),Xe=k(()=>`2D images (${n(Z)})`);Ue(O,{get id(){return n(_e)},get text(){return n(Xe)},get level(){return o()},get expanded(){return n(x)},set expanded(te){D(x,te)},$$legacy:!0});var Te=K(O,2);{var Fe=te=>{var ge=dr(),Pe=de(ge);ut(Pe,1,()=>n(Y),ot,(at,H,ve)=>{var et=to(),Ge=De(et);{var xe=ue=>{var se=Ji(),Re=de(se),Ke=()=>n(H).images.every(pe=>t().enabledVerticesList[pe.index*u]),Se=pe=>{for(let ye=n(H).vertexRangeStart;ye<n(H).vertexRangeEnd;ye+=1)t(t().enabledVerticesList[ye]=pe,!0)};const Ne=k(()=>`${t().uuid}-images-${n(H).desc}`),be=k(()=>`[Images ${n(H).desc}]`),We=k(()=>o()+1);Ue(Re,{get checked(){return Ke()},set checked(pe){Se(pe)},get oncheckedchange(){return i().redraw},get id(){return n(Ne)},get text(){return n(be)},get level(){return n(We)},get expanded(){return n(H).expanded},set expanded(pe){n(H).expanded=pe,Ce(()=>n(Y))},$$legacy:!0});var we=K(Re,2);{var me=pe=>{var ye=Qi();ut(ye,5,()=>n(H).images,ot,(p,a,g)=>{var _=Zi(),B=de(_),E=()=>t().enabledVerticesList[n(a).index*u],y=M=>{for(let F=0;F<u;F+=1)t(t().enabledVerticesList[n(a).index*u+F]=M,!0)};const U=k(()=>`${t().uuid}-images-${n(H).desc}-${g}`),A=k(()=>o()+2);Ue(B,{get checked(){return E()},set checked(M){y(M)},get oncheckedchange(){return i().redraw},get id(){return n(U)},text:`Image ${ve*f+g}`,get level(){return n(A)},get expanded(){return n(a).expanded},set expanded(M){n(a).expanded=M,Ce(()=>(n(Y),n(H).images))},$$legacy:!0});var $=K(B,2);{var C=M=>{mn(M,{get image(){return n(a)}})};ne($,M=>{n(a).expanded&&M(C)})}N(p,_)}),N(pe,ye)};ne(we,pe=>{n(H).expanded&&pe(me)})}N(ue,se)},h=ue=>{var se=eo(),Re=de(se),Ke=()=>t().enabledVerticesList[n(H).index*u],Se=me=>{for(let pe=0;pe<u;pe+=1)t(t().enabledVerticesList[n(H).index*u+pe]=me,!0)};const Ne=k(()=>`${t().uuid}-images-${ve}`),be=k(()=>o()+1);Ue(Re,{get checked(){return Ke()},set checked(me){Se(me)},get oncheckedchange(){return i().redraw},get id(){return n(Ne)},text:`Image ${ve}`,get level(){return n(be)},get expanded(){return n(H).expanded},set expanded(me){n(H).expanded=me,Ce(()=>n(Y))},$$legacy:!0});var We=K(Re,2);{var we=me=>{mn(me,{get image(){return n(H)}})};ne(We,me=>{n(H).expanded&&me(we)})}N(ue,se)};ne(Ge,ue=>{d(n(H))?ue(xe):ue(h,!1)})}N(at,et)}),N(te,ge)};ne(Te,te=>{n(x)&&te(Fe)})}N(S,Q)};ne(xt,S=>{n(Y)&&n(Z)&&S(Rt)})}var St=K(xt,2);{var kt=S=>{var Q=so(),O=de(Q);const _e=k(()=>`${t().uuid}-vertices3d`),Xe=k(()=>`3D vertices (${n(G)})`);Ue(O,{get id(){return n(_e)},get text(){return n(Xe)},get level(){return o()},get expanded(){return n(c)},set expanded(te){D(c,te)},$$legacy:!0});var Te=K(O,2);{var Fe=te=>{var ge=dr(),Pe=de(ge);ut(Pe,1,()=>n(q),ot,(at,H,ve)=>{var et=uo(),Ge=De(et);{var xe=ue=>{var se=io(),Re=de(se);const Ke=k(()=>`${t().uuid}-vertices-${n(H).desc}`),Se=k(()=>`[Vertices ${n(H).desc}]`),Ne=k(()=>o()+1);Ue(Re,{get id(){return n(Ke)},get text(){return n(Se)},get level(){return n(Ne)},get expanded(){return n(H).expanded},set expanded(we){n(H).expanded=we,Ce(()=>n(q))},$$legacy:!0});var be=K(Re,2);{var We=we=>{var me=ao();ut(me,5,()=>n(H).vertices,ot,(pe,ye,p)=>{var a=no(),g=de(a);const _=k(()=>`${t().uuid}-vertices-${n(H).desc}-${n(ye).index}`),B=k(()=>`Vertex ${n(ye).index}`),E=k(()=>o()+2);Ue(g,{get id(){return n(_)},get text(){return n(B)},get level(){return n(E)},get expanded(){return n(ye).expanded},set expanded(A){n(ye).expanded=A,Ce(()=>(n(q),n(H).vertices))},$$legacy:!0});var y=K(g,2);{var U=A=>{bn(A,{get vertex(){return n(ye)}})};ne(y,A=>{n(ye).expanded&&A(U)})}N(pe,a)}),N(we,me)};ne(be,we=>{n(H).expanded&&we(We)})}N(ue,se)},h=ue=>{var se=oo(),Re=de(se);const Ke=k(()=>`${t().uuid}-vertices-${n(H).index}`),Se=k(()=>`Vertex ${n(H).index}`),Ne=k(()=>o()+1);Ue(Re,{get id(){return n(Ke)},get text(){return n(Se)},get level(){return n(Ne)},get expanded(){return n(H).expanded},set expanded(we){n(H).expanded=we,Ce(()=>n(q))},$$legacy:!0});var be=K(Re,2);{var We=we=>{bn(we,{get vertex(){return n(H)}})};ne(be,we=>{n(H).expanded&&we(We)})}N(ue,se)};ne(Ge,ue=>{v(n(H))?ue(xe):ue(h,!1)})}N(at,et)}),N(te,ge)};ne(Te,te=>{n(c)&&te(Fe)})}N(S,Q)};ne(St,S=>{n(q)&&n(G)&&S(kt)})}var Nt=K(St,2);{var sr=S=>{var Q=po(),O=de(Q),_e=K(O,3);const Xe=k(()=>`${t().uuid}-models`),Te=k(()=>`Models (${n(Me)})`);Ue(_e,{get id(){return n(Xe)},get text(){return n(Te)},get level(){return o()},get expanded(){return n(l)},set expanded(ge){D(l,ge)},$$legacy:!0});var Fe=K(_e,2);{var te=ge=>{var Pe=dr(),at=de(Pe);ut(at,1,()=>n(oe),ot,(H,ve,et)=>{var Ge=ho(),xe=De(Ge);const h=k(()=>`${t().uuid}-models`),ue=k(()=>`Model ${n(ve).index}`),se=k(()=>o()+1);Ue(xe,{get id(){return n(h)},get text(){return n(ue)},get level(){return n(se)},get expanded(){return n(ve).expanded},set expanded(Se){n(ve).expanded=Se,Ce(()=>n(oe))},$$legacy:!0});var Re=K(xe,2);{var Ke=Se=>{var Ne=xo(),be=de(Ne);const We=k(()=>`${t().uuid}-vertices`),we=k(()=>`Vertices (${n(ve).vertexCount})`),me=k(()=>o()+2);Ue(be,{get id(){return n(We)},get text(){return n(we)},get level(){return n(me)},get expanded(){return n(ve).verticesExpanded},set expanded(p){n(ve).verticesExpanded=p,Ce(()=>n(oe))},$$legacy:!0});var pe=K(be,2);{var ye=p=>{var a=dr(),g=de(a);ut(g,1,()=>n(ve).vertices,ot,(_,B,E)=>{var y=vo(),U=De(y);{var A=C=>{var M=co(),F=de(M);const X=k(()=>`${t().uuid}-vertices-${n(B).desc}`),b=k(()=>`[Vertices ${n(B).desc}]`),T=k(()=>o()+3);Ue(F,{get id(){return n(X)},get text(){return n(b)},get level(){return n(T)},get expanded(){return n(B).expanded},set expanded(I){n(B).expanded=I,Ce(()=>(n(oe),n(ve).vertices))},$$legacy:!0});var L=K(F,2);{var R=I=>{var J=fo();ut(J,5,()=>n(B).vertices,ot,(ce,re,ht)=>{var it=lo(),Vt=de(it);const Gt=k(()=>`${t().uuid}-vertices-${n(B).desc}-${n(re).index}`),lr=k(()=>`Vertex ${n(re).index}`),Kt=k(()=>o()+4);Ue(Vt,{get id(){return n(Gt)},get text(){return n(lr)},get level(){return n(Kt)},get expanded(){return n(re).expanded},set expanded(Ut){n(re).expanded=Ut,Ce(()=>(n(oe),n(ve).vertices,n(B).vertices))},$$legacy:!0});var Ot=K(Vt,2);{var fr=Ut=>{yn(Ut,{get vertex(){return n(re)}})};ne(Ot,Ut=>{n(re).expanded&&Ut(fr)})}N(ce,it)}),N(I,J)};ne(L,I=>{n(B).expanded&&I(R)})}N(C,M)},$=C=>{var M=_o(),F=de(M);const X=k(()=>`${t().uuid}-${n(ve).index}-vertex-${n(B).index}`),b=k(()=>`Vertex ${n(B).index}`),T=k(()=>o()+3);Ue(F,{get id(){return n(X)},get text(){return n(b)},get level(){return n(T)},get expanded(){return n(B).expanded},set expanded(I){n(B).expanded=I,Ce(()=>(n(oe),n(ve).vertices))},$$legacy:!0});var L=K(F,2);{var R=I=>{yn(I,{get vertex(){return n(B)}})};ne(L,I=>{n(B).expanded&&I(R)})}N(C,M)};ne(U,C=>{s(n(B))?C(A):C($,!1)})}N(_,y)}),N(p,a)};ne(pe,p=>{n(ve).verticesExpanded&&p(ye)})}N(Se,Ne)};ne(Re,Se=>{n(ve).expanded&&Se(Ke)})}N(H,Ge)}),N(ge,Pe)};ne(Fe,ge=>{n(l)&&ge(te)})}qe(()=>Ae(O,`screen: ${t().targetx??""},${t().targety??""}
    ${t().targetw??""}x${t().targeth??""} `)),N(S,Q)};ne(Nt,S=>{n(oe)&&n(Me)&&S(sr)})}N(e,He),Tt()}Br(["click"]);var mo=(e,r,t,i)=>r(t(),i()),bo=z('<div class="static select-none m-0 border-none w-full text-left"><button> </button></div>'),yo=z("<div><!> <!></div>"),Eo=z('<div class="static select-none m-0 border-none w-full"><b>All textures</b></div> <!> <br> <div class="static select-none m-0 border-none w-full"><b>All entities</b></div> <!>',1);function Ao(e,r){Ft(r,!1);let t=Le(r,"data",12);const i=(c,l)=>{t().selectedTexture===l?t(t().selectedTexture=null,!0):(t(t().selectedTextureId=c,!0),t(t().selectedTexture=l,!0),t(t().textureBoundX=0,!0),t(t().textureBoundY=0,!0),t(t().textureBoundW=l.width,!0),t(t().textureBoundH=l.height,!0),t(t().textureViewX=0,!0),t(t().textureViewY=0,!0),t(t().textureViewScale=100,!0)),t().redraw()},o=1;$t();var u=Eo(),f=K(de(u),2);ut(f,1,()=>Object.entries(t().textures),ot,(c,l)=>{let d=()=>n(l)[0],v=()=>n(l)[1];var s=bo(),w=De(s);w.__click=[mo,i,d,v];var m=De(w);qe(()=>{vn(w,1,di(t().selectedTexture===v()?"bg-rose-400 hover:bg-rose-500 w-full":"bg-slate-300 hover:bg-slate-400 w-full")),Ae(m,`#${d()??""}`)}),N(c,s)});var x=K(f,6);ut(x,1,()=>t().entities,ot,(c,l,d)=>{var v=yo();vn(v,1,`select-none m-0 border-none w-full ${d&1?"bg-[#c4c4e4]":"bg-[#b8b8d8]"}`);var s=De(v);Ue(s,{id:`menu${d}`,get text(){return t().entities[d].type},get oncheckedchange(){return t().redraw},level:o,get expanded(){return t().entities[d].expanded},set expanded(W){t().entities[d].expanded=W,Ce(()=>t().entities)},get checked(){return t().entities[d].enabled},set checked(W){t().entities[d].enabled=W,Ce(()=>t().entities)},$$legacy:!0});var w=K(s,2);{var m=W=>{wo(W,{level:o+1,get entity(){return t().entities[d]},set entity(j){t().entities[d]=j,Ce(()=>t().entities)},get menuData(){return t()},set menuData(j){t(j)},$$legacy:!0})};ne(w,W=>{t().entities[d].expanded&&W(m)})}N(c,v)}),N(e,u),Tt()}Br(["click"]);const Ee=[];for(let e=0;e<256;++e)Ee.push((e+256).toString(16).slice(1));function Fo(e,r=0){return(Ee[e[r+0]]+Ee[e[r+1]]+Ee[e[r+2]]+Ee[e[r+3]]+"-"+Ee[e[r+4]]+Ee[e[r+5]]+"-"+Ee[e[r+6]]+Ee[e[r+7]]+"-"+Ee[e[r+8]]+Ee[e[r+9]]+"-"+Ee[e[r+10]]+Ee[e[r+11]]+Ee[e[r+12]]+Ee[e[r+13]]+Ee[e[r+14]]+Ee[e[r+15]]).toLowerCase()}let kr;const To=new Uint8Array(16);function Ro(){if(!kr){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");kr=crypto.getRandomValues.bind(crypto)}return kr(To)}const So=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),En={randomUUID:So};function Wt(e,r,t){var o;if(En.randomUUID&&!e)return En.randomUUID();e=e||{};const i=e.random??((o=e.rng)==null?void 0:o.call(e))??Ro();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,Fo(i)}var Uo=(e,r,t)=>D(r,t),Io=(e,r)=>D(r,null),Do=(e,r)=>D(r,!1),Bo=z('<div class="overflow-auto absolute w-60 h-full left-0 top-0 m-0 p-0 bg-slate-200"><!></div> <input type="image" src="plugin://app/images/bars-solid.svg" class="absolute rounded-sm mx-61 my-6 p-1 w-9 h-9 bg-gray-200 opacity-75 hover:opacity-100" alt="hide menu">',1),Mo=(e,r)=>D(r,!0),Po=z('<input type="image" src="plugin://app/images/bars-solid.svg" class="absolute rounded-sm m-6 p-1 w-9 h-9 bg-gray-200 opacity-75 hover:opacity-100" alt="show menu">'),$o=(e,r,t,i,o)=>{Ve(r,n(r).selectedTexture=null),t(n(i),n(o))},Co=z('<input type="image" src="plugin://app/images/xmark-solid.svg" class="absolute right-0 rounded-sm m-4 p-1 w-8 h-8 bg-gray-200 opacity-75 hover:opacity-100" alt="close">'),Lo=z('<canvas class="absolute right-0"></canvas> <!> <!>',1);function ko(e,r){Ft(r,!1);let t=V({textures:{},entities:[],selectedTexture:null,selectedTextureId:"",textureBoundX:0,textureBoundY:0,textureBoundW:1,textureBoundH:1,textureViewX:0,textureViewY:0,textureViewScale:100,redraw:()=>se(n(xe),n(h))});const i=p=>{const a=xt.get(p);return a?parseInt(a):0},o=0;let u=V(null),f=V(null),x=V(null),c=V(null),l=V(null),d=V(null),v=V(null),s=V(null),w=V(null),m=V(null),W=V(null),j=V(null),le=V(null),fe=V(null),ae=V(null),P=V(null),Y=V(null),Z=V(null),q=V(null),G=V(null),oe=V(null),Me=V(null),He=null;const _t=new Float32Array([0,0,1,0,0,1,1,0,1,1,0,1]),Ct=10,vt=1e3,Lt=10,xt=new URLSearchParams(window.location.search),Rt=xt.get("n"),St=Rt?Math.max(parseInt(Rt),1):1,kt=i("w"),Nt=i("h"),sr=i("gx"),S=i("gy"),Q=i("gw"),O=i("gh");let _e=0,Xe=V(0),Te=V(),Fe=null,te=null,ge=0,Pe=0,at,H,ve=V(!1),et=V(!1),Ge=V(null),xe=V(null),h=V(null);const ue=(p,a,g,_)=>{p.bindBuffer(p.ARRAY_BUFFER,a.vbo);for(let E=0;E<n(Xe);E+=1){const y=a.attribs[E];if(!y){p.disableVertexAttribArray(E);continue}p.enableVertexAttribArray(E),p.vertexAttribPointer(E,y.count,p.FLOAT,!1,a.step,y.offset)}if(!_){p.drawArrays(p.TRIANGLES,0,g);return}let B=null;for(let E=0;E<g;E+=1){const y=_[E];B===null?y&&(B=E):y||(p.drawArrays(p.TRIANGLES,B,E-B),B=null)}B!==null&&p.drawArrays(p.TRIANGLES,B,g-B)},se=(p,a)=>{if(a.viewport(0,0,p.width,p.height),a.scissor(0,0,p.width,p.height),a.clearColor(0,0,0,1),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),!n(ve)){a.viewport(0,0,p.width,p.height);const g=()=>{a.clearColor(.525,.968,.495,1),a.clear(a.COLOR_BUFFER_BIT)},_=()=>{a.clearColor(.2,.2,.2,1),a.clear(a.COLOR_BUFFER_BIT)},B=Math.min(_e/St,1),E=Math.floor(p.width*.65)&-2,y=70,U=8,A=U*2,$=E*B;if(g(),p.width<=A||p.height<=A)return;a.scissor(U,U,p.width-A,p.height-A),_(),a.scissor(p.width/2-(E/2+U),p.height/2-(y/2+U),E+A,y+A),g(),a.scissor(p.width/2-E/2+$,p.height/2-y/2,E-$,y),_();return}if(n(t).selectedTexture){n(t).textureViewScale<Ct&&Ve(t,n(t).textureViewScale=Ct),n(t).textureViewScale>vt&&Ve(t,n(t).textureViewScale=vt);const g=n(t).textureViewScale/100,_=g*2,B=n(t).textureBoundX,E=n(t).textureBoundX+n(t).textureBoundW,y=n(t).textureBoundY,U=n(t).textureBoundY+n(t).textureBoundH;let A=n(t).textureViewX+p.width/_,$=n(t).textureViewY+p.height/_,C=!1;if(A<B&&(A=B,C=!0),$<y&&($=y,C=!0),A>E&&(A=E,C=!0),$>U&&($=U,C=!0),n(t).textureBoundW*g<=p.width&&(A=B+n(t).textureBoundW/2,C=!0),n(t).textureBoundH*g<=p.height&&($=y+n(t).textureBoundH/2,C=!0),C&&(Ve(t,n(t).textureViewX=A-p.width/_),Ve(t,n(t).textureViewY=$-p.height/_)),a.useProgram(n(oe)),a.viewport(0,0,p.width,p.height),a.uniform2fv(n(Me),[p.width,p.height]),!He){const I=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,I),a.bufferData(a.ARRAY_BUFFER,_t,a.STATIC_DRAW),He={vbo:I,step:8,attribs:Bi}}ue(a,He,6);const M=n(t).selectedTexture,F=n(t).textureBoundX-n(t).textureViewX*g,X=F+M.width*g,b=n(t).textureBoundY-n(t).textureViewY*g,T=b+M.height*g;a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA),a.disable(a.DEPTH_TEST),a.useProgram(n(u)),a.uniform4fv(n(f),[M.width,M.height,p.width,p.height]),a.bindTexture(a.TEXTURE_2D,M.texture),a.uniform1i(n(x),o);const L=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,L),a.bufferData(a.ARRAY_BUFFER,new Float32Array([F,b,0,0,n(t).textureBoundX,n(t).textureBoundY,n(t).textureBoundW,n(t).textureBoundH,1,1,1,1,0,0,0,X,b,1,0,n(t).textureBoundX,n(t).textureBoundY,n(t).textureBoundW,n(t).textureBoundH,1,1,1,1,0,0,0,F,T,0,1,n(t).textureBoundX,n(t).textureBoundY,n(t).textureBoundW,n(t).textureBoundH,1,1,1,1,0,0,0,X,b,1,0,n(t).textureBoundX,n(t).textureBoundY,n(t).textureBoundW,n(t).textureBoundH,1,1,1,1,0,0,0,X,T,1,1,n(t).textureBoundX,n(t).textureBoundY,n(t).textureBoundW,n(t).textureBoundH,1,1,1,1,0,0,0,F,T,0,1,n(t).textureBoundX,n(t).textureBoundY,n(t).textureBoundW,n(t).textureBoundH,1,1,1,1,0,0,0]),a.STATIC_DRAW),ue(a,{vbo:L,step:60,attribs:Zt},6),a.deleteBuffer(L);return}te&&(a.bindFramebuffer(a.DRAW_FRAMEBUFFER,te),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null)),a.disable(a.SCISSOR_TEST);for(let g of n(t).entities)if(g.enabled){if(g.type==="batch2d"){a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA),a.disable(a.DEPTH_TEST);const _=n(t).textures[g.textureId];a.useProgram(n(u)),a.viewport(0,0,kt,Nt),a.uniform4fv(n(f),[_.width,_.height,g.targetWidth,g.targetHeight]),a.bindTexture(a.TEXTURE_2D,_.texture),a.uniform1i(n(x),o),ue(a,g.buffer,g.vertexCount,g.enabledVerticesList)}if(g.type==="render3d"){a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA),a.enable(a.DEPTH_TEST);const _=n(t).textures[g.textureId];a.useProgram(g.animated?n(m):n(c)),a.viewport(sr,S,Q,O),a.uniformMatrix4fv(g.animated?n(W):n(l),!1,g.modelMatrix),a.uniformMatrix4fv(g.animated?n(j):n(d),!1,at),a.uniformMatrix4fv(g.animated?n(le):n(v),!1,H),a.uniform2fv(g.animated?n(fe):n(s),[_.width,_.height]),a.bindTexture(a.TEXTURE_2D,_.texture),a.uniform1i(g.animated?n(ae):n(w),o),ue(a,g.buffer,g.vertexCount)}if(g.type==="renderparticles"){a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA),a.enable(a.DEPTH_TEST);const _=n(t).textures[g.textureId];a.useProgram(n(P)),a.viewport(sr,S,Q,O),a.uniformMatrix4fv(n(Y),!1,at),a.uniformMatrix4fv(n(Z),!1,H),a.uniform2fv(n(G),[_.width,_.height]),a.bindTexture(a.TEXTURE_2D,_.texture),a.uniform1i(n(q),o),ue(a,g.buffer,g.vertexCount)}if(g.type==="icon"||g.type==="bigicon"){const _=g.texSize;a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA),a.disable(a.DEPTH_TEST),a.useProgram(n(u)),a.viewport(0,0,kt,Nt),a.bindTexture(a.TEXTURE_2D,g.texture),a.uniform1i(n(x),o),a.uniform4fv(n(f),[_,_,g.targetWidth,g.targetHeight]),ue(a,g.buffer,6)}if(g.type==="minimap2d"){!Fe||!te?(Fe=a.createTexture(),a.bindTexture(a.TEXTURE_2D,Fe),a.texStorage2D(a.TEXTURE_2D,1,a.RGBA8,ge,Pe),te=a.createFramebuffer(),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,te),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,Fe,0)):a.bindFramebuffer(a.DRAW_FRAMEBUFFER,te),a.viewport(0,0,ge,Pe),a.disable(a.DEPTH_TEST);const _=n(t).textures[g.textureId];a.useProgram(n(u)),a.uniform4fv(n(f),[_.width,_.height,ge,Pe]),a.bindTexture(a.TEXTURE_2D,_.texture),a.uniform1i(n(x),o),ue(a,g.buffer,g.vertexCount,g.enabledVerticesList),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null)}if(g.type==="minimap"){if(Fe===null)continue;a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA),a.disable(a.DEPTH_TEST),a.useProgram(n(u)),a.viewport(0,0,kt,Nt),a.uniform4fv(n(f),[ge,Pe,g.targetWidth,g.targetHeight]),a.bindTexture(a.TEXTURE_2D,Fe),a.uniform1i(n(x),o),ue(a,g.buffer,6)}}},Re=(p,a,g)=>{const _=new DataView(g),B=_.getUint32(0,!0);switch(B){case 0:{D(ve,!0),se(p,a);break}case 1:{const E=_.getUint32(4,!0),y=_.getUint32(8,!0),U=_.getUint32(12,!0),A=a.createTexture(),$=new Uint8Array(g,16,y*U*4);a.bindTexture(a.TEXTURE_2D,A),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,y,U,0,a.RGBA,a.UNSIGNED_BYTE,$),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),Ve(t,n(t).textures[E]={texture:A,width:y,height:U,data:$});break}case 2:case 3:{const E=B===3,y=E?104:40,U=E?120:56,A=_.getUint32(4,!0),$=_.getUint32(8,!0),C=new Float32Array(16);C.set(new Float32Array(g,16,16));const M=new DataView(g,80,A*y),F=new Array(A),X=new ArrayBuffer(A*U),b=new DataView(X);for(let L=0;L<A;L+=1){const R=y*L,I=U*L;let J=null;E&&(J=new Float32Array(16),J.set(new Float32Array(g,80+y*L+40,16)));const ce={x:M.getInt16(R,!0),y:M.getInt16(R+2,!0),z:M.getInt16(R+4,!0),u:M.getFloat32(R+8,!0),v:M.getFloat32(R+12,!0),ax:M.getUint16(R+16,!0),ay:M.getUint16(R+18,!0),aw:M.getUint16(R+20,!0),ah:M.getUint16(R+22,!0),r:M.getFloat32(R+24,!0),g:M.getFloat32(R+28,!0),b:M.getFloat32(R+32,!0),a:M.getFloat32(R+36,!0),anim:J};if(F[L]=ce,b.setFloat32(I,ce.x,!0),b.setFloat32(I+4,ce.y,!0),b.setFloat32(I+8,ce.z,!0),b.setFloat32(I+12,0,!0),b.setFloat32(I+16,ce.u,!0),b.setFloat32(I+20,ce.v,!0),b.setFloat32(I+24,ce.ax,!0),b.setFloat32(I+28,ce.ay,!0),b.setFloat32(I+32,ce.aw,!0),b.setFloat32(I+36,ce.ah,!0),b.setFloat32(I+40,ce.r,!0),b.setFloat32(I+44,ce.g,!0),b.setFloat32(I+48,ce.b,!0),b.setFloat32(I+52,ce.a,!0),J)for(let re=0;re<16;re+=1)b.setFloat32(I+56+re*4,J[re],!0)}const T=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,T),a.bufferData(a.ARRAY_BUFFER,b,a.STATIC_DRAW),n(t).entities.push({type:"render3d",animated:E,textureId:$,vertexCount:A,modelMatrix:C,vertices:F,buffer:{vbo:T,step:U,attribs:E?Ii:wn},enabled:!0,expanded:!1,uuid:Wt()}),_e+=A,se(p,a);break}case 4:{const U=_.getUint32(4,!0),A=_.getUint32(8,!0),$=_.getUint16(12,!0),C=_.getUint16(14,!0),M=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,M);const F=new DataView(g,16,U*40),X=new ArrayBuffer(U*60),b=new DataView(X),T=new Array(U);for(let L=0;L<U;L+=1){const R=40*L,I=60*L,J={x:F.getInt16(R,!0),y:F.getInt16(R+2,!0),ax:F.getInt16(R+4,!0),ay:F.getInt16(R+6,!0),aw:F.getInt16(R+8,!0),ah:F.getInt16(R+10,!0),discard:F.getUint8(R+12),wrapx:F.getUint8(R+13),wrapy:F.getUint8(R+14),u:F.getFloat32(R+16,!0),v:F.getFloat32(R+20,!0),r:F.getFloat32(R+24,!0),g:F.getFloat32(R+28,!0),b:F.getFloat32(R+32,!0),a:F.getFloat32(R+36,!0)};T[L]=J,b.setFloat32(I,J.x,!0),b.setFloat32(I+4,J.y,!0),b.setFloat32(I+8,J.u,!0),b.setFloat32(I+12,J.v,!0),b.setFloat32(I+16,J.ax,!0),b.setFloat32(I+20,J.ay,!0),b.setFloat32(I+24,J.aw,!0),b.setFloat32(I+28,J.ah,!0),b.setFloat32(I+32,J.r,!0),b.setFloat32(I+36,J.g,!0),b.setFloat32(I+40,J.b,!0),b.setFloat32(I+44,J.a,!0),b.setFloat32(I+48,J.discard,!0),b.setFloat32(I+52,J.wrapx,!0),b.setFloat32(I+56,J.wrapy,!0)}a.bufferData(a.ARRAY_BUFFER,b,a.STATIC_DRAW),n(t).entities.push({type:"batch2d",textureId:A,vertexCount:U,vertices:T,targetWidth:$,targetHeight:C,buffer:{vbo:M,step:60,attribs:Zt},enabled:!0,expanded:!1,uuid:Wt(),enabledVerticesList:Array(Math.floor(U)).fill(!0)}),_e+=U,se(p,a);break}case 5:case 8:{const y=B===5?64:512,U=_.getInt16(4,!0),A=_.getInt16(6,!0),$=_.getInt16(8,!0),C=_.getInt16(10,!0),M=_.getUint32(12,!0),F=_.getFloat32(16,!0),X=_.getFloat32(20,!0),b=_.getFloat32(24,!0),T=_.getFloat32(28,!0),L=_.getUint16(32,!0),R=_.getUint16(34,!0),I=a.createTexture(),J=a.createFramebuffer();a.bindTexture(a.TEXTURE_2D,I),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,J),a.texStorage2D(a.TEXTURE_2D,1,a.RGBA8,y,y),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,I,0),a.enable(a.CULL_FACE),a.cullFace(a.FRONT),a.viewport(0,0,y,y),a.scissor(0,0,y,y);let ce=Array(M),re=36;for(let Kt=0;Kt<M;Kt+=1){const Ot=_.getUint32(re,!0);let fr=Array(Ot);const Ut=new ArrayBuffer(Ot*56),Ye=new DataView(Ut),Mr=new Float32Array(16);Mr.set(new Float32Array(g,re+4,16));const Pr=new Float32Array(16);Pr.set(new Float32Array(g,re+68,16));const $r=new Float32Array(16);$r.set(new Float32Array(g,re+132,16)),re+=196;for(let cr=0;cr<Ot;cr+=1){const pt={x:_.getInt16(re,!0),y:_.getInt16(re+2,!0),z:_.getInt16(re+4,!0),r:_.getFloat32(re+8,!0),g:_.getFloat32(re+12,!0),b:_.getFloat32(re+16,!0),a:_.getFloat32(re+20,!0)},Ze=cr*56;Ye.setFloat32(Ze,pt.x,!0),Ye.setFloat32(Ze+4,pt.y,!0),Ye.setFloat32(Ze+8,pt.z,!0),Ye.setFloat32(Ze+24,0,!0),Ye.setFloat32(Ze+28,0,!0),Ye.setFloat32(Ze+32,y,!0),Ye.setFloat32(Ze+36,y,!0),Ye.setFloat32(Ze+40,pt.r,!0),Ye.setFloat32(Ze+44,pt.g,!0),Ye.setFloat32(Ze+48,pt.b,!0),Ye.setFloat32(Ze+52,pt.a,!0),fr[cr]=pt,re+=24}ce[Kt]={vertices:fr,modelMatrix:Mr,viewMatrix:Pr,projMatrix:$r};const Cr=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,Cr),a.bufferData(a.ARRAY_BUFFER,Ye,a.STATIC_DRAW),a.useProgram(n(c)),a.uniformMatrix4fv(n(l),!1,Mr),a.uniformMatrix4fv(n(d),!1,Pr),a.uniformMatrix4fv(n(v),!1,$r),a.uniform2fv(n(s),[1,1]),a.bindTexture(a.TEXTURE_2D,n(Te)),a.uniform1i(n(w),o),ue(a,{vbo:Cr,attribs:wn,step:56},Ot),a.deleteBuffer(Cr)}const ht=U,it=U+$,Vt=A,Gt=A+C,lr=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,lr),a.bufferData(a.ARRAY_BUFFER,new Float32Array([ht,Vt,0,1,0,0,y,y,F,b,X,T,0,0,0,it,Vt,1,1,0,0,y,y,F,b,X,T,0,0,0,ht,Gt,0,0,0,0,y,y,F,b,X,T,0,0,0,it,Vt,1,1,0,0,y,y,F,b,X,T,0,0,0,it,Gt,1,0,0,0,y,y,F,b,X,T,0,0,0,ht,Gt,0,0,0,0,y,y,F,b,X,T,0,0,0]),a.STATIC_DRAW),n(t).entities.push({type:B===5?"icon":"bigicon",models:ce,texture:I,targetWidth:L,targetHeight:R,texSize:y,buffer:{vbo:lr,step:60,attribs:Zt},targetx:U,targety:A,targetw:$,targeth:C,enabled:!0,expanded:!1,uuid:Wt()}),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null),a.deleteFramebuffer(J),a.disable(a.CULL_FACE);break}case 6:{const E=_.getUint32(4,!0),y=_.getUint32(8,!0);ge=_.getUint16(12,!0),Pe=_.getUint16(14,!0);const U=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,U);const A=new DataView(g,16,E*40),$=new ArrayBuffer(E*60),C=new DataView($),M=new Array(E);for(let F=0;F<E;F+=1){const X=40*F,b=60*F,T={x:A.getInt16(X,!0),y:A.getInt16(X+2,!0),ax:A.getInt16(X+4,!0),ay:A.getInt16(X+6,!0),aw:A.getInt16(X+8,!0),ah:A.getInt16(X+10,!0),discard:A.getUint8(X+12),wrapx:A.getUint8(X+13),wrapy:A.getUint8(X+14),u:A.getFloat32(X+16,!0),v:A.getFloat32(X+20,!0),r:A.getFloat32(X+24,!0),g:A.getFloat32(X+28,!0),b:A.getFloat32(X+32,!0),a:A.getFloat32(X+36,!0)};M[F]=T,C.setFloat32(b,T.x,!0),C.setFloat32(b+4,T.y,!0),C.setFloat32(b+8,T.u,!0),C.setFloat32(b+12,T.v,!0),C.setFloat32(b+16,T.ax,!0),C.setFloat32(b+20,T.ay,!0),C.setFloat32(b+24,T.aw,!0),C.setFloat32(b+28,T.ah,!0),C.setFloat32(b+32,T.r,!0),C.setFloat32(b+36,T.g,!0),C.setFloat32(b+40,T.b,!0),C.setFloat32(b+44,T.a,!0),C.setFloat32(b+48,T.discard,!0),C.setFloat32(b+52,T.wrapx,!0),C.setFloat32(b+56,T.wrapy,!0)}a.bufferData(a.ARRAY_BUFFER,C,a.STATIC_DRAW),n(t).entities.push({type:"minimap2d",textureId:y,buffer:{vbo:U,attribs:Zt,step:60},vertices:M,vertexCount:E,enabled:!0,expanded:!1,enabledVerticesList:Array(Math.floor(E)).fill(!0),uuid:Wt()}),_e+=E,se(p,a);break}case 7:{const E=_.getInt16(4,!0),y=_.getInt16(6,!0),U=_.getUint16(8,!0),A=_.getUint16(10,!0),$=_.getInt16(12,!0),C=_.getInt16(14,!0),M=_.getUint16(16,!0),F=_.getUint16(18,!0),X=_.getUint16(20,!0),b=_.getUint16(22,!0),T=$,L=$+M,R=C,I=C+F,J=E/ge,ce=(E+U)/ge,re=y/Pe,ht=(y+A)/Pe,it=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,it),a.bufferData(a.ARRAY_BUFFER,new Float32Array([T,R,J,ht,E,y,U,A,1,1,1,1,0,0,0,L,R,ce,ht,E,y,U,A,1,1,1,1,0,0,0,T,I,J,re,E,y,U,A,1,1,1,1,0,0,0,L,R,ce,ht,E,y,U,A,1,1,1,1,0,0,0,L,I,ce,re,E,y,U,A,1,1,1,1,0,0,0,T,I,J,re,E,y,U,A,1,1,1,1,0,0,0]),a.STATIC_DRAW),n(t).entities.push({type:"minimap",sourcex:E,sourcey:y,sourcew:U,sourceh:A,targetx:$,targety:C,targetw:M,targeth:F,targetWidth:X,targetHeight:b,buffer:{vbo:it,step:60,attribs:Zt},enabled:!0,expanded:!1,uuid:Wt()}),se(p,a);break}case 9:{const E=_.getUint32(4,!0),y=_.getUint32(8,!0),U=64,A=72,$=new DataView(g,16,E*U),C=new Array(E),M=new ArrayBuffer(E*A),F=new DataView(M);for(let b=0;b<E;b+=1){const T=U*b,L=A*b,R={x:$.getFloat32(T,!0),y:$.getFloat32(T+4,!0),z:$.getFloat32(T+8,!0),offsetx2d:$.getFloat32(T+12,!0),offsety2d:$.getFloat32(T+16,!0),offsetx3d:$.getFloat32(T+20,!0),offsety3d:$.getFloat32(T+24,!0),offsetz3d:$.getFloat32(T+28,!0),ax:$.getUint16(T+32,!0),ay:$.getUint16(T+34,!0),aw:$.getUint16(T+36,!0),ah:$.getUint16(T+38,!0),r:$.getFloat32(T+40,!0),g:$.getFloat32(T+44,!0),b:$.getFloat32(T+48,!0),a:$.getFloat32(T+52,!0),u:$.getFloat32(T+56,!0),v:$.getFloat32(T+60,!0)};C[b]=R,F.setFloat32(L,R.x,!0),F.setFloat32(L+4,R.y,!0),F.setFloat32(L+8,R.z,!0),F.setFloat32(L+12,R.ax,!0),F.setFloat32(L+16,R.ay,!0),F.setFloat32(L+20,R.aw,!0),F.setFloat32(L+24,R.ah,!0),F.setFloat32(L+28,R.r,!0),F.setFloat32(L+32,R.g,!0),F.setFloat32(L+36,R.b,!0),F.setFloat32(L+40,R.a,!0),F.setFloat32(L+44,R.offsetx2d,!0),F.setFloat32(L+48,R.offsety2d,!0),F.setFloat32(L+52,R.offsetx3d,!0),F.setFloat32(L+56,R.offsety3d,!0),F.setFloat32(L+60,R.offsetz3d,!0),F.setFloat32(L+64,R.u,!0),F.setFloat32(L+68,R.v,!0)}const X=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,X),a.bufferData(a.ARRAY_BUFFER,F,a.STATIC_DRAW),n(t).entities.push({type:"renderparticles",textureId:y,vertexCount:E,vertices:C,buffer:{vbo:X,step:A,attribs:Di},enabled:!0,expanded:!1,uuid:Wt()}),_e+=E,se(p,a);break}case 10:{at=new Float32Array(g,4,16),H=new Float32Array(g,68,16);break}}};window.addEventListener("message",async p=>{if(typeof p.data=="object"&&p.data.type==="pluginMessage"){if(typeof p.data.content!="object"||!n(xe)||!n(h))return;Re(n(xe),n(h),p.data.content)}});const Ke=p=>{if(!(p.buttons&1)){D(Ge,null);return}const a=n(t).textureViewScale/100;Ve(t,n(t).textureViewX-=p.movementX/a),Ve(t,n(t).textureViewY-=p.movementY/a),n(t).redraw()},Se=p=>{const a=n(xe),g=n(t).textureViewScale,_=n(t).textureViewScale-Lt*Math.sign(p.deltaY);Ve(t,n(t).textureViewScale=_);const B=2*g/100,E=2*_/100,y=n(t).textureViewX+a.width/B,U=n(t).textureViewY+a.height/B;Ve(t,n(t).textureViewX=y-a.width/E),Ve(t,n(t).textureViewY=U-a.height/E),se(a,n(h))};$a(()=>(n(xe),n(h),n(Te),n(u),n(c),n(m),n(P),n(oe)),()=>{if(n(xe)&&(Ve(xe,n(xe).width=kt),Ve(xe,n(xe).height=Nt),D(h,n(xe).getContext("webgl2")),n(h))){D(Xe,n(h).getParameter(n(h).MAX_VERTEX_ATTRIBS)),D(Te,n(h).createTexture()),n(h).bindTexture(n(h).TEXTURE_2D,n(Te));const p=new Uint8Array([255,255,255,255]);n(h).texImage2D(n(h).TEXTURE_2D,0,n(h).RGBA,1,1,0,n(h).RGBA,n(h).UNSIGNED_BYTE,p);const a=wt(n(h),n(h).VERTEX_SHADER,yi,"2D vertex shader"),g=wt(n(h),n(h).FRAGMENT_SHADER,Ei,"2D fragment shader"),_=wt(n(h),n(h).VERTEX_SHADER,Ai,"3D vertex shader"),B=wt(n(h),n(h).VERTEX_SHADER,Fi,"3D anim vertex shader"),E=wt(n(h),n(h).FRAGMENT_SHADER,Ti,"3D fragment shader"),y=wt(n(h),n(h).VERTEX_SHADER,Ri,"particle vertex shader"),U=wt(n(h),n(h).VERTEX_SHADER,Si,"checkers vertex shader"),A=wt(n(h),n(h).FRAGMENT_SHADER,Ui,"checkers fragment shader");D(u,Qt(n(h),a,g,"2D program")),D(f,n(h).getUniformLocation(n(u),"atlas_wh_screen_wh")),D(x,n(h).getUniformLocation(n(u),"tex")),D(c,Qt(n(h),_,E,"3D program")),D(l,n(h).getUniformLocation(n(c),"modelmatrix")),D(d,n(h).getUniformLocation(n(c),"viewmatrix")),D(v,n(h).getUniformLocation(n(c),"projmatrix")),D(s,n(h).getUniformLocation(n(c),"atlas_wh")),D(w,n(h).getUniformLocation(n(c),"tex")),D(m,Qt(n(h),B,E,"3D animated program")),D(W,n(h).getUniformLocation(n(m),"modelmatrix")),D(j,n(h).getUniformLocation(n(m),"viewmatrix")),D(le,n(h).getUniformLocation(n(m),"projmatrix")),D(fe,n(h).getUniformLocation(n(m),"atlas_wh")),D(ae,n(h).getUniformLocation(n(m),"tex")),D(P,Qt(n(h),y,E,"Particles program")),D(Y,n(h).getUniformLocation(n(P),"viewmatrix")),D(Z,n(h).getUniformLocation(n(P),"projmatrix")),D(q,n(h).getUniformLocation(n(P),"tex")),D(G,n(h).getUniformLocation(n(P),"atlas_wh")),D(oe,Qt(n(h),U,A,"Checkers program")),D(Me,n(h).getUniformLocation(n(oe),"screen_wh")),n(h).deleteShader(a),n(h).deleteShader(g),n(h).deleteShader(_),n(h).deleteShader(E),n(h).deleteShader(B),n(h).deleteShader(y),n(h).deleteShader(U),n(h).deleteShader(A),n(h).activeTexture(n(h).TEXTURE0+o),n(h).enable(n(h).SCISSOR_TEST),n(h).disable(n(h).CULL_FACE),n(h).disable(n(h).DEPTH_TEST),n(h).enable(n(h).BLEND),n(h).blendEquationSeparate(n(h).FUNC_ADD,n(h).FUNC_ADD),n(h).depthFunc(n(h).LEQUAL),se(n(xe),n(h))}}),Ca(),$t();var Ne=Lo(),be=de(Ne);be.__mousedown=[Uo,Ge,Ke],be.__mouseup=[Io,Ge],be.__mousemove=function(...p){var a;(a=n(Ge))==null||a.apply(this,p)},wi(be,p=>D(xe,p),()=>n(xe));var We=K(be,2);{var we=p=>{var a=Bo(),g=de(a),_=De(g);Ao(_,{get data(){return n(t)},set data(E){D(t,E)},$$legacy:!0});var B=K(g,2);B.__click=[Do,et],N(p,a)},me=(p,a)=>{{var g=_=>{var B=Po();B.__click=[Mo,et],N(_,B)};ne(p,_=>{n(ve)&&_(g)},a)}};ne(We,p=>{n(et)?p(we):p(me,!1)})}var pe=K(We,2);{var ye=p=>{var a=Co();a.__click=[$o,t,se,xe,h],N(p,a)};ne(pe,p=>{n(t).selectedTexture&&p(ye)})}It("wheel",be,Se),N(e,Ne),Tt()}Br(["mousedown","mouseup","mousemove","click"]);ai(ko,{target:document.body});
