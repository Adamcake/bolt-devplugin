(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const o of u)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&a(c)}).observe(document,{childList:!0,subtree:!0});function r(u){const o={};return u.integrity&&(o.integrity=u.integrity),u.referrerPolicy&&(o.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?o.credentials="include":u.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(u){if(u.ep)return;u.ep=!0;const o=r(u);fetch(u.href,o)}})();const Er=!1;var Je=Array.isArray,Fn=Array.prototype.indexOf,tr=Array.from,Tn=Object.defineProperty,Xt=Object.getOwnPropertyDescriptor,Vr=Object.getOwnPropertyDescriptors,Rn=Object.prototype,Sn=Array.prototype,er=Object.getPrototypeOf,Ar=Object.isExtensible;function Un(t){return t()}function je(t){for(var e=0;e<t.length;e++)t[e]()}const ct=2,Xr=4,Se=8,rr=16,yt=32,Yt=64,xe=128,st=256,me=512,rt=1024,Et=2048,kt=4096,mt=8192,Ue=16384,Dn=32768,nr=65536,zr=1<<17,In=1<<19,Yr=1<<20,Ge=1<<21,Nt=Symbol("$state"),Pn=Symbol("legacy props"),Ln=Symbol("");function qr(t){return t===this.v}function Cn(t,e){return t!=t?e==e:t!==e||t!==null&&typeof t=="object"||typeof t=="function"}function ar(t){return!Cn(t,this.v)}function Mn(t){throw new Error("https://svelte.dev/e/effect_in_teardown")}function On(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function Nn(t){throw new Error("https://svelte.dev/e/effect_orphan")}function Bn(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function kn(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Hn(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Wn(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let ie=!1,Vn=!1;function Xn(){ie=!0}const zn=1,Yn=2,qn=16,jn=1,Gn=2,$n=4,Kn=8,Zn=16,Qn=1,Jn=2,et=Symbol(),ta="http://www.w3.org/1999/xhtml";let G=null;function gr(t){G=t}function ir(t,e=!1,r){var a=G={p:G,c:null,d:!1,e:null,m:!1,s:t,x:null,l:null};ie&&!e&&(G.l={s:null,u:null,r1:[],r2:re(!1)}),en(()=>{a.d=!0})}function or(t){const e=G;if(e!==null){const c=e.e;if(c!==null){var r=X,a=H;e.e=null;try{for(var u=0;u<c.length;u++){var o=c[u];Pt(o.effect),pt(o.reaction),ur(o.fn)}}finally{Pt(r),pt(a)}}G=e.p,e.m=!0}return{}}function De(){return!ie||G!==null&&G.l===null}function Mt(t,e){if(typeof t!="object"||t===null||Nt in t)return t;const r=er(t);if(r!==Rn&&r!==Sn)return t;var a=new Map,u=Je(t),o=Tt(0),c=H,w=d=>{var f=H;pt(c);var _;return _=d(),pt(f),_};return u&&a.set("length",Tt(t.length)),new Proxy(t,{defineProperty(d,f,_){(!("value"in _)||_.configurable===!1||_.enumerable===!1||_.writable===!1)&&kn();var v=a.get(f);return v===void 0?(v=w(()=>Tt(_.value)),a.set(f,v)):C(v,w(()=>Mt(_.value))),!0},deleteProperty(d,f){var _=a.get(f);if(_===void 0)f in d&&a.set(f,w(()=>Tt(et)));else{if(u&&typeof f=="string"){var v=a.get("length"),s=Number(f);Number.isInteger(s)&&s<v.v&&C(v,s)}C(_,et),Fr(o)}return!0},get(d,f,_){var E;if(f===Nt)return t;var v=a.get(f),s=f in d;if(v===void 0&&(!s||(E=Xt(d,f))!=null&&E.writable)&&(v=w(()=>Tt(Mt(s?d[f]:et))),a.set(f,v)),v!==void 0){var m=i(v);return m===et?void 0:m}return Reflect.get(d,f,_)},getOwnPropertyDescriptor(d,f){var _=Reflect.getOwnPropertyDescriptor(d,f);if(_&&"value"in _){var v=a.get(f);v&&(_.value=i(v))}else if(_===void 0){var s=a.get(f),m=s==null?void 0:s.v;if(s!==void 0&&m!==et)return{enumerable:!0,configurable:!0,value:m,writable:!0}}return _},has(d,f){var m;if(f===Nt)return!0;var _=a.get(f),v=_!==void 0&&_.v!==et||Reflect.has(d,f);if(_!==void 0||X!==null&&(!v||(m=Xt(d,f))!=null&&m.writable)){_===void 0&&(_=w(()=>Tt(v?Mt(d[f]):et)),a.set(f,_));var s=i(_);if(s===et)return!1}return v},set(d,f,_,v){var V;var s=a.get(f),m=f in d;if(u&&f==="length")for(var E=_;E<s.v;E+=1){var L=a.get(E+"");L!==void 0?C(L,et):E in d&&(L=w(()=>Tt(et)),a.set(E+"",L))}s===void 0?(!m||(V=Xt(d,f))!=null&&V.writable)&&(s=w(()=>Tt(void 0)),C(s,w(()=>Mt(_))),a.set(f,s)):(m=s.v!==et,C(s,w(()=>Mt(_))));var W=Reflect.getOwnPropertyDescriptor(d,f);if(W!=null&&W.set&&W.set.call(v,_),!m){if(u&&typeof f=="string"){var O=a.get("length"),B=Number(f);Number.isInteger(B)&&B>=O.v&&C(O,B+1)}Fr(o)}return!0},ownKeys(d){i(o);var f=Reflect.ownKeys(d).filter(s=>{var m=a.get(s);return m===void 0||m.v!==et});for(var[_,v]of a)v.v!==et&&!(_ in d)&&f.push(_);return f},setPrototypeOf(){Hn()}})}function Fr(t,e=1){C(t,t.v+e)}const ee=new Map;function re(t,e){var r={f:0,v:t,reactions:null,equals:qr,rv:0,wv:0};return r}function Tt(t,e){const r=re(t);return va(r),r}function k(t,e=!1){var a;const r=re(t);return e||(r.equals=ar),ie&&G!==null&&G.l!==null&&((a=G.l).s??(a.s=[])).push(r),r}function ve(t,e){return C(t,bt(()=>i(t))),e}function C(t,e,r=!1){H!==null&&!vt&&De()&&(H.f&(ct|rr))!==0&&!(J!=null&&J.includes(t))&&Wn();let a=r?Mt(e):e;return be(t,a)}function be(t,e){if(!t.equals(e)){var r=t.v;ue?ee.set(t,e):ee.set(t,r),t.v=e,t.wv=ln(),jr(t,Et),De()&&X!==null&&(X.f&rt)!==0&&(X.f&(yt|Yt))===0&&(ut===null?pa([t]):ut.push(t))}return e}function jr(t,e){var r=t.reactions;if(r!==null)for(var a=De(),u=r.length,o=0;o<u;o++){var c=r[o],w=c.f;(w&Et)===0&&(!a&&c===X||(_t(c,e),(w&(rt|st))!==0&&((w&ct)!==0?jr(c,kt):Ce(c))))}}let ea=!1;var Tr,Gr,$r,Kr;function ra(){if(Tr===void 0){Tr=window,Gr=/Firefox/.test(navigator.userAgent);var t=Element.prototype,e=Node.prototype,r=Text.prototype;$r=Xt(e,"firstChild").get,Kr=Xt(e,"nextSibling").get,Ar(t)&&(t.__click=void 0,t.__className=void 0,t.__attributes=null,t.__style=void 0,t.__e=void 0),Ar(r)&&(r.__t=void 0)}}function na(t=""){return document.createTextNode(t)}function ye(t){return $r.call(t)}function Ie(t){return Kr.call(t)}function Jt(t,e){return ye(t)}function $e(t,e){{var r=ye(t);return r instanceof Comment&&r.data===""?Ie(r):r}}function zt(t,e=1,r=!1){let a=t;for(;e--;)a=Ie(a);return a}function aa(t){t.textContent=""}function ne(t){var e=ct|Et,r=H!==null&&(H.f&ct)!==0?H:null;return X===null||r!==null&&(r.f&st)!==0?e|=st:X.f|=Yr,{ctx:G,deps:null,effects:null,equals:qr,f:e,fn:t,reactions:null,rv:0,v:null,wv:0,parent:r??X}}function Zr(t){const e=ne(t);return e.equals=ar,e}function Qr(t){var e=t.effects;if(e!==null){t.effects=null;for(var r=0;r<e.length;r+=1)It(e[r])}}function ia(t){for(var e=t.parent;e!==null;){if((e.f&ct)===0)return e;e=e.parent}return null}function oa(t){var e,r=X;Pt(ia(t));try{Qr(t),e=_n(t)}finally{Pt(r)}return e}function Jr(t){var e=oa(t),r=(Dt||(t.f&st)!==0)&&t.deps!==null?kt:rt;_t(t,r),t.equals(e)||(t.v=e,t.wv=ln())}function tn(t){X===null&&H===null&&Nn(),H!==null&&(H.f&st)!==0&&X===null&&On(),ue&&Mn()}function ua(t,e){var r=e.last;r===null?e.last=e.first=t:(r.next=t,t.prev=r,e.last=t)}function qt(t,e,r,a=!0){var u=X,o={ctx:G,deps:null,nodes_start:null,nodes_end:null,f:t|Et,first:null,fn:e,last:null,next:null,parent:u,prev:null,teardown:null,transitions:null,wv:0};if(r)try{Le(o),o.f|=Dn}catch(d){throw It(o),d}else e!==null&&Ce(o);var c=r&&o.deps===null&&o.first===null&&o.nodes_start===null&&o.teardown===null&&(o.f&(Yr|xe))===0;if(!c&&a&&(u!==null&&ua(o,u),H!==null&&(H.f&ct)!==0)){var w=H;(w.effects??(w.effects=[])).push(o)}return o}function en(t){const e=qt(Se,null,!1);return _t(e,rt),e.teardown=t,e}function Rr(t){tn();var e=X!==null&&(X.f&yt)!==0&&G!==null&&!G.m;if(e){var r=G;(r.e??(r.e=[])).push({fn:t,effect:X,reaction:H})}else{var a=ur(t);return a}}function sa(t){return tn(),oe(t)}function fa(t){const e=qt(Yt,t,!0);return(r={})=>new Promise(a=>{r.outro?Ee(e,()=>{It(e),a(void 0)}):(It(e),a(void 0))})}function ur(t){return qt(Xr,t,!1)}function la(t,e){var r=G,a={effect:null,ran:!1};r.l.r1.push(a),a.effect=oe(()=>{t(),!a.ran&&(a.ran=!0,C(r.l.r2,!0),bt(e))})}function ca(){var t=G;oe(()=>{if(i(t.l.r2)){for(var e of t.l.r1){var r=e.effect;(r.f&rt)!==0&&_t(r,kt),jt(r)&&Le(r),e.ran=!1}t.l.r2.v=!1}})}function oe(t){return qt(Se,t,!0)}function Sr(t,e=[],r=ne){const a=e.map(r);return sr(()=>t(...a.map(i)))}function sr(t,e=0){return qt(Se|rr|e,t,!0)}function ae(t,e=!0){return qt(Se|yt,t,!0,e)}function rn(t){var e=t.teardown;if(e!==null){const r=ue,a=H;Ur(!0),pt(null);try{e.call(null)}finally{Ur(r),pt(a)}}}function nn(t,e=!1){var r=t.first;for(t.first=t.last=null;r!==null;){var a=r.next;(r.f&Yt)!==0?r.parent=null:It(r,e),r=a}}function _a(t){for(var e=t.first;e!==null;){var r=e.next;(e.f&yt)===0&&It(e),e=r}}function It(t,e=!0){var r=!1;if((e||(t.f&In)!==0)&&t.nodes_start!==null){for(var a=t.nodes_start,u=t.nodes_end;a!==null;){var o=a===u?null:Ie(a);a.remove(),a=o}r=!0}nn(t,e&&!r),Re(t,0),_t(t,Ue);var c=t.transitions;if(c!==null)for(const d of c)d.stop();rn(t);var w=t.parent;w!==null&&w.first!==null&&an(t),t.next=t.prev=t.teardown=t.ctx=t.deps=t.fn=t.nodes_start=t.nodes_end=null}function an(t){var e=t.parent,r=t.prev,a=t.next;r!==null&&(r.next=a),a!==null&&(a.prev=r),e!==null&&(e.first===t&&(e.first=a),e.last===t&&(e.last=r))}function Ee(t,e){var r=[];fr(t,r,!0),on(r,()=>{It(t),e&&e()})}function on(t,e){var r=t.length;if(r>0){var a=()=>--r||e();for(var u of t)u.out(a)}else e()}function fr(t,e,r){if((t.f&mt)===0){if(t.f^=mt,t.transitions!==null)for(const c of t.transitions)(c.is_global||r)&&e.push(c);for(var a=t.first;a!==null;){var u=a.next,o=(a.f&nr)!==0||(a.f&yt)!==0;fr(a,e,o?r:!1),a=u}}}function Ae(t){un(t,!0)}function un(t,e){if((t.f&mt)!==0){t.f^=mt,(t.f&rt)===0&&(t.f^=rt),jt(t)&&(_t(t,Et),Ce(t));for(var r=t.first;r!==null;){var a=r.next,u=(r.f&nr)!==0||(r.f&yt)!==0;un(r,u?e:!1),r=a}if(t.transitions!==null)for(const o of t.transitions)(o.is_global||e)&&o.in()}}let ge=[];function da(){var t=ge;ge=[],je(t)}function sn(t){ge.length===0&&queueMicrotask(da),ge.push(t)}let pe=!1,Ke=!1,Fe=null,Bt=!1,ue=!1;function Ur(t){ue=t}let we=[];let H=null,vt=!1;function pt(t){H=t}let X=null;function Pt(t){X=t}let J=null;function ha(t){J=t}function va(t){H!==null&&H.f&Ge&&(J===null?ha([t]):J.push(t))}let Q=null,nt=0,ut=null;function pa(t){ut=t}let fn=1,Te=0,Dt=!1,Ut=null;function ln(){return++fn}function jt(t){var v;var e=t.f;if((e&Et)!==0)return!0;if((e&kt)!==0){var r=t.deps,a=(e&st)!==0;if(r!==null){var u,o,c=(e&me)!==0,w=a&&X!==null&&!Dt,d=r.length;if(c||w){var f=t,_=f.parent;for(u=0;u<d;u++)o=r[u],(c||!((v=o==null?void 0:o.reactions)!=null&&v.includes(f)))&&(o.reactions??(o.reactions=[])).push(f);c&&(f.f^=me),w&&_!==null&&(_.f&st)===0&&(f.f^=st)}for(u=0;u<d;u++)if(o=r[u],jt(o)&&Jr(o),o.wv>t.wv)return!0}(!a||X!==null&&!Dt)&&_t(t,rt)}return!1}function wa(t,e){for(var r=e;r!==null;){if((r.f&xe)!==0)try{r.fn(t);return}catch{r.f^=xe}r=r.parent}throw pe=!1,t}function xa(t){return(t.f&Ue)===0&&(t.parent===null||(t.parent.f&xe)===0)}function Pe(t,e,r,a){if(pe){if(r===null&&(pe=!1),xa(e))throw t;return}r!==null&&(pe=!0);{wa(t,e);return}}function cn(t,e,r=!0){var a=t.reactions;if(a!==null)for(var u=0;u<a.length;u++){var o=a[u];J!=null&&J.includes(t)||((o.f&ct)!==0?cn(o,e,!1):e===o&&(r?_t(o,Et):(o.f&rt)!==0&&_t(o,kt),Ce(o)))}}function _n(t){var m;var e=Q,r=nt,a=ut,u=H,o=Dt,c=J,w=G,d=vt,f=t.f;Q=null,nt=0,ut=null,Dt=(f&st)!==0&&(vt||!Bt||H===null),H=(f&(yt|Yt))===0?t:null,J=null,gr(t.ctx),vt=!1,Te++,t.f|=Ge;try{var _=(0,t.fn)(),v=t.deps;if(Q!==null){var s;if(Re(t,nt),v!==null&&nt>0)for(v.length=nt+Q.length,s=0;s<Q.length;s++)v[nt+s]=Q[s];else t.deps=v=Q;if(!Dt)for(s=nt;s<v.length;s++)((m=v[s]).reactions??(m.reactions=[])).push(t)}else v!==null&&nt<v.length&&(Re(t,nt),v.length=nt);if(De()&&ut!==null&&!vt&&v!==null&&(t.f&(ct|kt|Et))===0)for(s=0;s<ut.length;s++)cn(ut[s],t);return u!==null&&(Te++,ut!==null&&(a===null?a=ut:a.push(...ut))),_}finally{Q=e,nt=r,ut=a,H=u,Dt=o,J=c,gr(w),vt=d,t.f^=Ge}}function ma(t,e){let r=e.reactions;if(r!==null){var a=Fn.call(r,t);if(a!==-1){var u=r.length-1;u===0?r=e.reactions=null:(r[a]=r[u],r.pop())}}r===null&&(e.f&ct)!==0&&(Q===null||!Q.includes(e))&&(_t(e,kt),(e.f&(st|me))===0&&(e.f^=me),Qr(e),Re(e,0))}function Re(t,e){var r=t.deps;if(r!==null)for(var a=e;a<r.length;a++)ma(t,r[a])}function Le(t){var e=t.f;if((e&Ue)===0){_t(t,rt);var r=X,a=G,u=Bt;X=t,Bt=!0;try{(e&rr)!==0?_a(t):nn(t),rn(t);var o=_n(t);t.teardown=typeof o=="function"?o:null,t.wv=fn;var c=t.deps,w;Er&&Vn&&t.f&Et}catch(d){Pe(d,t,r,a||t.ctx)}finally{Bt=u,X=r}}}function ba(){try{Bn()}catch(t){if(Fe!==null)Pe(t,Fe,null);else throw t}}function ya(){var t=Bt;try{var e=0;for(Bt=!0;we.length>0;){e++>1e3&&ba();var r=we,a=r.length;we=[];for(var u=0;u<a;u++){var o=Aa(r[u]);Ea(o)}}}finally{Ke=!1,Bt=t,Fe=null,ee.clear()}}function Ea(t){var e=t.length;if(e!==0)for(var r=0;r<e;r++){var a=t[r];if((a.f&(Ue|mt))===0)try{jt(a)&&(Le(a),a.deps===null&&a.first===null&&a.nodes_start===null&&(a.teardown===null?an(a):a.fn=null))}catch(u){Pe(u,a,null,a.ctx)}}}function Ce(t){Ke||(Ke=!0,queueMicrotask(ya));for(var e=Fe=t;e.parent!==null;){e=e.parent;var r=e.f;if((r&(Yt|yt))!==0){if((r&rt)===0)return;e.f^=rt}}we.push(e)}function Aa(t){for(var e=[],r=t;r!==null;){var a=r.f,u=(a&(yt|Yt))!==0,o=u&&(a&rt)!==0;if(!o&&(a&mt)===0){if((a&Xr)!==0)e.push(r);else if(u)r.f^=rt;else{var c=H;try{H=r,jt(r)&&Le(r)}catch(f){Pe(f,r,null,r.ctx)}finally{H=c}}var w=r.first;if(w!==null){r=w;continue}}var d=r.parent;for(r=r.next;r===null&&d!==null;)r=d.next,d=d.parent}return e}function i(t){var e=t.f,r=(e&ct)!==0;if(Ut!==null&&Ut.add(t),H!==null&&!vt){if(!(J!=null&&J.includes(t))){var a=H.deps;t.rv<Te&&(t.rv=Te,Q===null&&a!==null&&a[nt]===t?nt++:Q===null?Q=[t]:(!Dt||!Q.includes(t))&&Q.push(t))}}else if(r&&t.deps===null&&t.effects===null){var u=t,o=u.parent;o!==null&&(o.f&st)===0&&(u.f^=st)}return r&&(u=t,jt(u)&&Jr(u)),ue&&ee.has(t)?ee.get(t):t.v}function ga(t){var e=Ut;Ut=new Set;var r=Ut,a;try{if(bt(t),e!==null)for(a of Ut)e.add(a)}finally{Ut=e}return r}function Fa(t){var e=ga(()=>bt(t));for(var r of e)if((r.f&zr)!==0)for(const a of r.deps||[])(a.f&ct)===0&&be(a,a.v);else be(r,r.v)}function bt(t){var e=vt;try{return vt=!0,t()}finally{vt=e}}const Ta=-7169;function _t(t,e){t.f=t.f&Ta|e}function Ra(t){if(!(typeof t!="object"||!t||t instanceof EventTarget)){if(Nt in t)Ze(t);else if(!Array.isArray(t))for(let e in t){const r=t[e];typeof r=="object"&&r&&Nt in r&&Ze(r)}}}function Ze(t,e=new Set){if(typeof t=="object"&&t!==null&&!(t instanceof EventTarget)&&!e.has(t)){e.add(t),t instanceof Date&&t.getTime();for(let a in t)try{Ze(t[a],e)}catch{}const r=er(t);if(r!==Object.prototype&&r!==Array.prototype&&r!==Map.prototype&&r!==Set.prototype&&r!==Date.prototype){const a=Vr(r);for(let u in a){const o=a[u].get;if(o)try{o.call(t)}catch{}}}}}const Sa=["touchstart","touchmove"];function Ua(t){return Sa.includes(t)}let Dr=!1;function Da(){Dr||(Dr=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const r of t.target.elements)(e=r.__on_r)==null||e.call(r)})},{capture:!0}))}function dn(t){var e=H,r=X;pt(null),Pt(null);try{return t()}finally{pt(e),Pt(r)}}function Ia(t,e,r,a=r){t.addEventListener(e,()=>dn(r));const u=t.__on_r;u?t.__on_r=()=>{u(),a(!0)}:t.__on_r=()=>a(!0),Da()}const hn=new Set,Qe=new Set;function Pa(t,e,r,a={}){function u(o){if(a.capture||te.call(e,o),!o.cancelBubble)return dn(()=>r==null?void 0:r.call(this,o))}return t.startsWith("pointer")||t.startsWith("touch")||t==="wheel"?sn(()=>{e.addEventListener(t,u,a)}):e.addEventListener(t,u,a),u}function Zt(t,e,r,a,u){var o={capture:a,passive:u},c=Pa(t,e,r,o);(e===document.body||e===window||e===document)&&en(()=>{e.removeEventListener(t,c,o)})}function vn(t){for(var e=0;e<t.length;e++)hn.add(t[e]);for(var r of Qe)r(t)}function te(t){var B;var e=this,r=e.ownerDocument,a=t.type,u=((B=t.composedPath)==null?void 0:B.call(t))||[],o=u[0]||t.target,c=0,w=t.__root;if(w){var d=u.indexOf(w);if(d!==-1&&(e===document||e===window)){t.__root=e;return}var f=u.indexOf(e);if(f===-1)return;d<=f&&(c=d)}if(o=u[c]||t.target,o!==e){Tn(t,"currentTarget",{configurable:!0,get(){return o||r}});var _=H,v=X;pt(null),Pt(null);try{for(var s,m=[];o!==null;){var E=o.assignedSlot||o.parentNode||o.host||null;try{var L=o["__"+a];if(L!=null&&(!o.disabled||t.target===o))if(Je(L)){var[W,...O]=L;W.apply(o,[t,...O])}else L.call(o,t)}catch(V){s?m.push(V):s=V}if(t.cancelBubble||E===e||E===null)break;o=E}if(s){for(let V of m)queueMicrotask(()=>{throw V});throw s}}finally{t.__root=e,delete t.currentTarget,pt(_),Pt(v)}}}function La(t){var e=document.createElement("template");return e.innerHTML=t,e.content}function Ir(t,e){var r=X;r.nodes_start===null&&(r.nodes_start=t,r.nodes_end=e)}function Ht(t,e){var r=(e&Qn)!==0,a=(e&Jn)!==0,u,o=!t.startsWith("<!>");return()=>{u===void 0&&(u=La(o?t:"<!>"+t),r||(u=ye(u)));var c=a||Gr?document.importNode(u,!0):u.cloneNode(!0);if(r){var w=ye(c),d=c.lastChild;Ir(w,d)}else Ir(c,c);return c}}function Ot(t,e){t!==null&&t.before(e)}function Pr(t,e){var r=e==null?"":typeof e=="object"?e+"":e;r!==(t.__t??(t.__t=t.nodeValue))&&(t.__t=r,t.nodeValue=r+"")}function Ca(t,e){return Ma(t,e)}const Vt=new Map;function Ma(t,{target:e,anchor:r,props:a={},events:u,context:o,intro:c=!0}){ra();var w=new Set,d=v=>{for(var s=0;s<v.length;s++){var m=v[s];if(!w.has(m)){w.add(m);var E=Ua(m);e.addEventListener(m,te,{passive:E});var L=Vt.get(m);L===void 0?(document.addEventListener(m,te,{passive:E}),Vt.set(m,1)):Vt.set(m,L+1)}}};d(tr(hn)),Qe.add(d);var f=void 0,_=fa(()=>{var v=r??e.appendChild(na());return ae(()=>{if(o){ir({});var s=G;s.c=o}u&&(a.$$events=u),f=t(v,a)||{},o&&or()}),()=>{var E;for(var s of w){e.removeEventListener(s,te);var m=Vt.get(s);--m===0?(document.removeEventListener(s,te),Vt.delete(s)):Vt.set(s,m)}Qe.delete(d),v!==r&&((E=v.parentNode)==null||E.removeChild(v))}});return Oa.set(f,_),f}let Oa=new WeakMap;function qe(t,e,[r,a]=[0,0]){var u=t,o=null,c=null,w=et,d=r>0?nr:0,f=!1;const _=(s,m=!0)=>{f=!0,v(m,s)},v=(s,m)=>{w!==(w=s)&&(w?(o?Ae(o):m&&(o=ae(()=>m(u))),c&&Ee(c,()=>{c=null})):(c?Ae(c):m&&(c=ae(()=>m(u,[r+1,a]))),o&&Ee(o,()=>{o=null})))};sr(()=>{f=!1,e(_),f||v(null,null)},d)}function Lr(t,e){return e}function Na(t,e,r,a){for(var u=[],o=e.length,c=0;c<o;c++)fr(e[c].e,u,!0);var w=o>0&&u.length===0&&r!==null;if(w){var d=r.parentNode;aa(d),d.append(r),a.clear(),St(t,e[0].prev,e[o-1].next)}on(u,()=>{for(var f=0;f<o;f++){var _=e[f];w||(a.delete(_.k),St(t,_.prev,_.next)),It(_.e,!w)}})}function Cr(t,e,r,a,u,o=null){var c=t,w={flags:e,items:new Map,first:null},d=null,f=!1,_=Zr(()=>{var v=r();return Je(v)?v:v==null?[]:tr(v)});sr(()=>{var v=i(_),s=v.length;f&&s===0||(f=s===0,Ba(v,w,c,u,e,a,r),o!==null&&(s===0?d?Ae(d):d=ae(()=>o(c)):d!==null&&Ee(d,()=>{d=null})),i(_))})}function Ba(t,e,r,a,u,o,c){var w=t.length,d=e.items,f=e.first,_=f,v,s=null,m=[],E=[],L,W,O,B;for(B=0;B<w;B+=1){if(L=t[B],W=o(L,B),O=d.get(W),O===void 0){var V=_?_.e.nodes_start:r;s=Ha(V,e,s,s===null?e.first:s.next,L,W,B,a,u,c),d.set(W,s),m=[],E=[],_=s.next;continue}if(ka(O,L,B),(O.e.f&mt)!==0&&Ae(O.e),O!==_){if(v!==void 0&&v.has(O)){if(m.length<E.length){var Z=E[0],z;s=Z.prev;var K=m[0],wt=m[m.length-1];for(z=0;z<m.length;z+=1)Mr(m[z],Z,r);for(z=0;z<E.length;z+=1)v.delete(E[z]);St(e,K.prev,wt.next),St(e,s,K),St(e,wt,Z),_=Z,s=wt,B-=1,m=[],E=[]}else v.delete(O),Mr(O,_,r),St(e,O.prev,O.next),St(e,O,s===null?e.first:s.next),St(e,s,O),s=O;continue}for(m=[],E=[];_!==null&&_.k!==W;)(_.e.f&mt)===0&&(v??(v=new Set)).add(_),E.push(_),_=_.next;if(_===null)continue;O=_}m.push(O),s=O,_=O.next}if(_!==null||v!==void 0){for(var Y=v===void 0?[]:tr(v);_!==null;)(_.e.f&mt)===0&&Y.push(_),_=_.next;var ft=Y.length;if(ft>0){var dt=null;Na(e,Y,dt,d)}}X.first=e.first&&e.first.e,X.last=s&&s.e}function ka(t,e,r,a){be(t.v,e),t.i=r}function Ha(t,e,r,a,u,o,c,w,d,f){var _=(d&zn)!==0,v=(d&qn)===0,s=_?v?k(u):re(u):u,m=(d&Yn)===0?c:re(c),E={i:m,v:s,k:o,a:null,e:null,prev:r,next:a};try{return E.e=ae(()=>w(t,s,m,f),ea),E.e.prev=r&&r.e,E.e.next=a&&a.e,r===null?e.first=E:(r.next=E,r.e.next=E.e),a!==null&&(a.prev=E,a.e.prev=E.e),E}finally{}}function Mr(t,e,r){for(var a=t.next?t.next.e.nodes_start:r,u=e?e.e.nodes_start:r,o=t.e.nodes_start;o!==a;){var c=Ie(o);u.before(o),o=c}}function St(t,e,r){e===null?t.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}function pn(t){var e,r,a="";if(typeof t=="string"||typeof t=="number")a+=t;else if(typeof t=="object")if(Array.isArray(t)){var u=t.length;for(e=0;e<u;e++)t[e]&&(r=pn(t[e]))&&(a&&(a+=" "),a+=r)}else for(r in t)t[r]&&(a&&(a+=" "),a+=r);return a}function Wa(){for(var t,e,r=0,a="",u=arguments.length;r<u;r++)(t=arguments[r])&&(e=pn(t))&&(a&&(a+=" "),a+=e);return a}function Va(t){return typeof t=="object"?Wa(t):t??""}function Xa(t,e,r){var a=t==null?"":""+t;return a===""?null:a}function za(t,e,r,a,u,o){var c=t.__className;if(c!==r){var w=Xa(r);w==null?t.removeAttribute("class"):t.className=w,t.__className=r}return o}const Ya=Symbol("is custom element"),qa=Symbol("is html");function _e(t,e,r,a){var u=ja(t);u[e]!==(u[e]=r)&&(e==="loading"&&(t[Ln]=r),r==null?t.removeAttribute(e):typeof r!="string"&&Ga(t).includes(e)?t[e]=r:t.setAttribute(e,r))}function ja(t){return t.__attributes??(t.__attributes={[Ya]:t.nodeName.includes("-"),[qa]:t.namespaceURI===ta})}var Or=new Map;function Ga(t){var e=Or.get(t.nodeName);if(e)return e;Or.set(t.nodeName,e=[]);for(var r,a=t,u=Element.prototype;u!==a;){r=Vr(a);for(var o in r)r[o].set&&e.push(o);a=er(a)}return e}function $a(t,e,r=e){Ia(t,"change",a=>{var u=a?t.defaultChecked:t.checked;r(u)}),bt(e)==null&&r(t.checked),oe(()=>{var a=e();t.checked=!!a})}function Nr(t,e){return t===e||(t==null?void 0:t[Nt])===e}function Ka(t={},e,r,a){return ur(()=>{var u,o;return oe(()=>{u=o,o=[],bt(()=>{t!==r(...o)&&(e(t,...o),u&&Nr(r(...u),t)&&e(null,...u))})}),()=>{sn(()=>{o&&Nr(r(...o),t)&&e(null,...o)})}}),t}function wn(t=!1){const e=G,r=e.l.u;if(!r)return;let a=()=>Ra(e.s);if(t){let u=0,o={};const c=ne(()=>{let w=!1;const d=e.s;for(const f in d)d[f]!==o[f]&&(o[f]=d[f],w=!0);return w&&u++,u});a=()=>i(c)}r.b.length&&sa(()=>{Br(e,a),je(r.b)}),Rr(()=>{const u=bt(()=>r.m.map(Un));return()=>{for(const o of u)typeof o=="function"&&o()}}),r.a.length&&Rr(()=>{Br(e,a),je(r.a)})}function Br(t,e){if(t.l.s)for(const r of t.l.s)i(r);e()}let de=!1;function Za(t){var e=de;try{return de=!1,[t(),de]}finally{de=e}}function kr(t){var e;return((e=t.ctx)==null?void 0:e.d)??!1}function Hr(t,e,r,a){var wt;var u=(r&jn)!==0,o=!ie||(r&Gn)!==0,c=(r&Kn)!==0,w=(r&Zn)!==0,d=!1,f;c?[f,d]=Za(()=>t[e]):f=t[e];var _=Nt in t||Pn in t,v=c&&(((wt=Xt(t,e))==null?void 0:wt.set)??(_&&e in t&&(Y=>t[e]=Y)))||void 0,s=a,m=!0,E=!1,L=()=>(E=!0,m&&(m=!1,w?s=bt(a):s=a),s),W;if(o)W=()=>{var Y=t[e];return Y===void 0?L():(m=!0,E=!1,Y)};else{var O=(u?ne:Zr)(()=>t[e]);O.f|=zr,W=()=>{var Y=i(O);return Y!==void 0&&(s=void 0),Y===void 0?s:Y}}if((r&$n)===0)return W;if(v){var B=t.$$legacy;return function(Y,ft){return arguments.length>0?((!o||!ft||B||d)&&v(ft?W():Y),Y):W()}}var V=!1,Z=!1,z=k(f),K=ne(()=>{var Y=W(),ft=i(z);return V?(V=!1,Z=!0,ft):(Z=!1,z.v=Y)});return c&&i(K),u||(K.equals=ar),function(Y,ft){if(Ut!==null&&(V=Z,W(),i(z)),arguments.length>0){const dt=ft?i(K):o&&c?Mt(Y):Y;if(!K.equals(dt)){if(V=!0,C(z,dt),E&&s!==void 0&&(s=dt),kr(K))return Y;bt(()=>i(K))}return Y}return kr(K)?K.v:i(K)}}const Qa="5";var Wr;typeof window<"u"&&((Wr=window.__svelte??(window.__svelte={})).v??(Wr.v=new Set)).add(Qa);Xn();const Ja=`#version 300 es
layout (location = 0) in highp vec4 xy_uv;
layout (location = 1) in highp vec4 in_image_xywh;
layout (location = 2) in highp vec4 in_rgba;
layout (location = 3) in lowp vec3 in_discard_wrapx_wrapy;
out highp vec4 rgba;
out highp vec2 uv;
out highp vec4 image_xywh;
out lowp vec3 discard_wrapx_wrapy;
uniform highp vec4 atlas_wh_screen_wh;
void main() {
    rgba = in_rgba;
    uv = xy_uv.pq;
    image_xywh = in_image_xywh;
    discard_wrapx_wrapy = in_discard_wrapx_wrapy;
    gl_Position = vec4(
        (xy_uv.x * 2.0 / atlas_wh_screen_wh.p) - 1.0,
        1.0 - (xy_uv.y * 2.0 / atlas_wh_screen_wh.q),
        0.0,
        1.0
    );
}
`,ti=`#version 300 es
in highp vec4 rgba;
in highp vec2 uv;
in highp vec4 image_xywh;
in lowp vec3 discard_wrapx_wrapy;
out highp vec4 col;
uniform sampler2D tex;
uniform highp vec4 atlas_wh_screen_wh;
void main() {
    if (discard_wrapx_wrapy.x > 0.5) {
        col = rgba;
    } else {
        highp vec2 atlas_wh = atlas_wh_screen_wh.st;
        highp vec2 mod_atlas_uv = (image_xywh.st + (fract((uv - (image_xywh.st / atlas_wh)) / (image_xywh.pq / atlas_wh)) * image_xywh.pq)) / atlas_wh;
        highp vec2 clamp_atlas_uv = min(max(uv * atlas_wh, image_xywh.st), image_xywh.st + image_xywh.pq) / atlas_wh;
        col = texture(tex, mix(clamp_atlas_uv, mod_atlas_uv, discard_wrapx_wrapy.yz)) * rgba;
    }
}
`,ei=`#version 300 es
layout (location = 0) in highp vec4 xyz_and_bone;
layout (location = 1) in highp vec2 in_uv;
layout (location = 2) in highp vec4 in_image_xywh;
layout (location = 3) in highp vec4 in_rgba;
out highp vec4 rgba;
out highp vec2 uv;
out highp vec4 image_xywh;
uniform mat4 modelmatrix;
uniform mat4 viewmatrix;
uniform mat4 projmatrix;
uniform highp vec2 atlas_wh;
void main() {
    rgba = in_rgba;
    uv = in_uv;
    image_xywh = vec4(
        in_image_xywh.s / atlas_wh.s,
        in_image_xywh.t / atlas_wh.t,
        in_image_xywh.p / atlas_wh.s,
        in_image_xywh.q / atlas_wh.t
    );
    gl_Position = projmatrix * viewmatrix * modelmatrix * vec4(xyz_and_bone.xyz, 1.0);
}
`,ri=`#version 300 es
layout (location = 0) in highp vec4 xyz_and_bone;
layout (location = 1) in highp vec2 in_uv;
layout (location = 2) in highp vec4 in_image_xywh;
layout (location = 3) in highp vec4 in_rgba;
layout (location = 4) in highp mat4 anim;
out highp vec4 rgba;
out highp vec2 uv;
out highp vec4 image_xywh;
uniform mat4 modelmatrix;
uniform mat4 viewmatrix;
uniform mat4 projmatrix;
uniform highp vec2 atlas_wh;
void main() {
    rgba = in_rgba;
    uv = in_uv;
    image_xywh = vec4(
        in_image_xywh.s / atlas_wh.s,
        in_image_xywh.t / atlas_wh.t,
        in_image_xywh.p / atlas_wh.s,
        in_image_xywh.q / atlas_wh.t
    );
    gl_Position = projmatrix * viewmatrix * modelmatrix * anim * vec4(xyz_and_bone.xyz, 1.0);
}
`,ni=`#version 300 es
in highp vec4 rgba;
in highp vec2 uv;
in highp vec4 image_xywh;
out highp vec4 col;
uniform sampler2D tex;
void main() {
    col = texture(tex, image_xywh.st + (fract(uv) * image_xywh.pq)) * rgba;
}
`,ai=`#version 300 es
layout (location = 0) in highp vec3 xyz;
layout (location = 1) in highp vec4 in_rgba;
layout (location = 2) in highp vec2 offset2d;
layout (location = 3) in highp vec3 offset3d;
layout (location = 4) in highp vec2 in_uv;
layout (location = 5) in highp vec4 in_image_xywh;
out highp vec4 rgba;
out highp vec2 uv;
out highp vec4 image_xywh;
uniform mat4 viewmatrix;
uniform mat4 projmatrix;
uniform highp vec2 atlas_wh;
void main() {
    rgba = in_rgba;
    uv = in_uv;
    image_xywh = vec4(
        in_image_xywh.s / atlas_wh.s,
        in_image_xywh.t / atlas_wh.t,
        in_image_xywh.p / atlas_wh.s,
        in_image_xywh.q / atlas_wh.t
    );
    gl_Position = projmatrix * (vec4(offset2d, 0.0, 0.0) + (viewmatrix * vec4(xyz + offset3d, 1.0)));
}
`,ii=`#version 300 es
layout (location = 0) in highp vec2 in_xy;
out highp vec2 xy;
uniform highp vec2 screen_wh;
void main() {
    xy = in_xy;
    gl_Position = vec4(
        in_xy.x * 2.0 - 1.0,
        in_xy.y * 2.0 - 1.0,
        0.0,
        1.0
    );
}
`,oi=`#version 300 es
in highp vec2 xy;
out highp vec4 col;
uniform highp vec2 screen_wh;
void main() {
    highp float xpixel = xy.x * screen_wh.s;
    highp float ypixel = xy.y * screen_wh.t;
    highp float rgb = mod(floor(xpixel / 24.0) + floor(ypixel / 24.0), 2.0) >= 1.0 ? 0.8 : 0.7;
    col = vec4(rgb, rgb, rgb, 1.0);
}
`,he=[{count:4,offset:0},{count:4,offset:16},{count:4,offset:32},{count:3,offset:48}],ui=[{count:4,offset:0},{count:2,offset:16},{count:4,offset:24},{count:4,offset:40}],si=[{count:4,offset:0},{count:2,offset:16},{count:4,offset:24},{count:4,offset:40},{count:4,offset:56},{count:4,offset:72},{count:4,offset:88},{count:4,offset:104}],fi=[{count:3,offset:0},{count:4,offset:28},{count:2,offset:44},{count:3,offset:52},{count:2,offset:64},{count:4,offset:12}],li=[{count:2,offset:0}],Rt=(t,e,r,a)=>{const u=t.createShader(e);if(!u)throw new Error(`failed to create shader '${a}'`);if(t.shaderSource(u,r),t.compileShader(u),!t.getShaderParameter(u,t.COMPILE_STATUS)){const o=t.getShaderInfoLog(u);throw new Error(`compilation error in shader '${a}':
${o}`)}return u},Qt=(t,e,r,a)=>{const u=t.createProgram();if(!u)throw new Error(`failed to create program '${a}'`);if(t.attachShader(u,e),t.attachShader(u,r),t.linkProgram(u),t.detachShader(u,e),t.detachShader(u,r),!t.getProgramParameter(u,t.LINK_STATUS)){const o=t.getProgramInfoLog(u);throw new Error(`link error in program '${a}':
${o}`)}return u};var ci=(t,e,r,a)=>e(r(),a()),_i=Ht('<div class="static select-none m-0 border-none w-full text-left"><button> </button></div>'),di=Ht('<div class="static select-none m-0 border-none w-full"><input class="ml-1" type="checkbox"> <label> </label> <br></div>'),hi=Ht('<div class="static select-none m-0 border-none w-full"><b>All textures</b></div> <!> <br> <div class="static select-none m-0 border-none w-full"><b>All entities</b></div> <!>',1);function vi(t,e){ir(e,!1);let r=Hr(e,"data",12),a=Hr(e,"redraw",8);const u=(E,L)=>{r().selectedTexture===L?r(r().selectedTexture=null,!0):(r(r().selectedTextureId=E,!0),r(r().selectedTexture=L,!0)),a()()};let o=null,c=!1,w=!1;const d=E=>{o=E,w=!E.enabled},f=()=>{c=!1,o=null},_=E=>{o&&(c||(o.enabled=w),E.enabled=w,r(r()),a()())};wn();var v=hi(),s=zt($e(v),2);Cr(s,1,()=>Object.entries(r().textures),Lr,(E,L)=>{let W=()=>i(L)[0],O=()=>i(L)[1];var B=_i(),V=Jt(B);V.__click=[ci,u,W,O];var Z=Jt(V);Sr(()=>{za(V,1,Va(r().selectedTexture===O()?"bg-rose-400 hover:bg-rose-500 w-full":"bg-slate-300 hover:bg-slate-400 w-full")),Pr(Z,W())}),Ot(E,B)});var m=zt(s,6);Cr(m,1,()=>r().entities,Lr,(E,L,W)=>{var O=di(),B=Jt(O);_e(B,"draggable",!0),_e(B,"id",`menu${W}`),B.__change=function(...z){var K;(K=a())==null||K.apply(this,z)};var V=zt(B,2);_e(V,"draggable",!0),_e(V,"for",`menu${W}`);var Z=Jt(V);Sr(()=>Pr(Z,i(L).type)),Zt("dragenter",O,()=>_(i(L))),Zt("dragstart",B,()=>d(i(L))),Zt("dragend",B,f),$a(B,()=>i(L).enabled,z=>(i(L).enabled=z,Fa(()=>r().entities))),Zt("dragstart",V,()=>d(i(L))),Zt("dragend",V,f),Ot(E,O)}),Ot(t,v),or()}vn(["click","change"]);var pi=(t,e)=>C(e,!1),wi=Ht('<div class="overflow-auto absolute w-50 h-full left-0 top-0 m-0 p-0 bg-slate-200"><!></div> <input type="image" src="plugin://app/images/bars-solid.svg" class="absolute rounded-sm mx-61 my-6 p-1 w-9 h-9 bg-gray-200 opacity-75 hover:opacity-100" alt="hide menu">',1),xi=(t,e)=>C(e,!0),mi=Ht('<input type="image" src="plugin://app/images/bars-solid.svg" class="absolute rounded-sm m-6 p-1 w-9 h-9 bg-gray-200 opacity-75 hover:opacity-100" alt="show menu">'),bi=(t,e,r,a,u)=>{ve(e,i(e).selectedTexture=null),r(i(a),i(u))},yi=Ht('<input type="image" src="plugin://app/images/xmark-solid.svg" class="absolute right-0 rounded-sm m-4 p-1 w-8 h-8 bg-gray-200 opacity-75 hover:opacity-100" alt="close">'),Ei=Ht('<canvas class="absolute right-0"></canvas> <!> <!>',1);function Ai(t,e){ir(e,!1);let r=k({textures:{},entities:[],selectedTexture:null,selectedTextureId:""});const a=x=>{const n=cr.get(x);return n?parseInt(n):0},u=(x,n,l,h,j)=>new Float32Array([l/(x*j),0,0,0,0,l/(n*j),0,0,0,0,(h+l)/(h-l),1,0,0,-2*h*l/(h-l),0]),o=0;let c=k(null),w=k(null),d=k(null),f=k(null),_=k(null),v=k(null),s=k(null),m=k(null),E=k(null),L=k(null),W=k(null),O=k(null),B=k(null),V=k(null),Z=k(null),z=k(null),K=k(null),wt=k(null),Y=k(null),ft=k(null),dt=k(null),lr=k(null),Me=null;const cr=new URLSearchParams(window.location.search),_r=cr.get("n"),xn=_r?Math.max(parseInt(_r),1):1,Gt=a("w"),$t=a("h"),dr=a("gx"),hr=a("gy"),Oe=a("gw"),Ne=a("gh");let Kt=0,se=k(0),fe=k(),Lt=null,le=null,At=0,gt=0,vr=u(Oe,Ne,460,66560,5/16),Be=k(!1),ke=k(!1),tt=k(null),p=k(null);const Ct=(x,n,l)=>{x.bindBuffer(x.ARRAY_BUFFER,n.vbo);for(let h=0;h<i(se);h+=1){const j=n.attribs[h];if(!j){x.disableVertexAttribArray(h);continue}x.enableVertexAttribArray(h),x.vertexAttribPointer(h,j.count,x.FLOAT,!1,n.step,j.offset)}x.drawArrays(x.TRIANGLES,0,l)},xt=(x,n)=>{if(n.viewport(0,0,x.width,x.height),n.scissor(0,0,x.width,x.height),n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),!i(Be)){n.viewport(0,0,x.width,x.height);const l=()=>{n.clearColor(.525,.968,.495,1),n.clear(n.COLOR_BUFFER_BIT)},h=()=>{n.clearColor(.2,.2,.2,1),n.clear(n.COLOR_BUFFER_BIT)},j=Math.min(Kt/xn,1),F=Math.floor(x.width*.65)&-2,A=70,P=8,b=P*2,q=F*j;if(l(),x.width<=b||x.height<=b)return;n.scissor(P,P,x.width-b,x.height-b),h(),n.scissor(x.width/2-(F/2+P),x.height/2-(A/2+P),F+b,A+b),l(),n.scissor(x.width/2-F/2+q,x.height/2-A/2,F-q,A),h();return}if(i(r).selectedTexture){if(n.useProgram(i(dt)),n.uniform2fv(i(lr),[x.width,x.height]),!Me){const U=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,U),n.bufferData(n.ARRAY_BUFFER,new Float32Array([0,0,1,0,0,1,1,0,1,1,0,1]),n.STATIC_DRAW),Me={vbo:U,step:8,attribs:li}}Ct(n,Me,6);const l=i(r).selectedTexture,h=x.width/x.height,j=l.width/l.height,F=h>=j,A=F?l.width*x.height/l.height:x.width,P=F?x.height:l.height*x.width/l.width,b=F?(x.width-x.height)/2:0,q=A+b,T=F?0:(x.height-x.width)/2,$=P+T;n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA),n.disable(n.DEPTH_TEST),n.useProgram(i(c)),n.viewport(0,0,Gt,$t),n.uniform4fv(i(w),[l.width,l.height,x.width,x.height]),n.bindTexture(n.TEXTURE_2D,l.texture),n.uniform1i(i(d),o);const S=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,S),n.bufferData(n.ARRAY_BUFFER,new Float32Array([b,T,0,0,0,0,l.width,l.height,1,1,1,1,0,0,0,q,T,1,0,0,0,l.width,l.height,1,1,1,1,0,0,0,b,$,0,1,0,0,l.width,l.height,1,1,1,1,0,0,0,q,T,1,0,0,0,l.width,l.height,1,1,1,1,0,0,0,q,$,1,1,0,0,l.width,l.height,1,1,1,1,0,0,0,b,$,0,1,0,0,l.width,l.height,1,1,1,1,0,0,0]),n.STATIC_DRAW),Ct(n,{vbo:S,step:60,attribs:he},6),n.deleteBuffer(S);return}n.disable(n.SCISSOR_TEST);for(let l of i(r).entities)if(l.enabled){if(l.type==="batch2d"){n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA),n.disable(n.DEPTH_TEST);const h=i(r).textures[l.textureId];n.useProgram(i(c)),n.viewport(0,0,Gt,$t),n.uniform4fv(i(w),[h.width,h.height,l.targetWidth,l.targetHeight]),n.bindTexture(n.TEXTURE_2D,h.texture),n.uniform1i(i(d),o),Ct(n,l.buffer,l.vertexCount)}if(l.type==="render3d"){n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA),n.enable(n.DEPTH_TEST);const h=i(r).textures[l.textureId];n.useProgram(l.animated?i(L):i(f)),n.viewport(dr,hr,Oe,Ne),n.uniformMatrix4fv(l.animated?i(W):i(_),!1,l.modelMatrix),n.uniformMatrix4fv(l.animated?i(O):i(v),!1,l.viewMatrix),n.uniformMatrix4fv(l.animated?i(B):i(s),!1,vr),n.uniform2fv(l.animated?i(V):i(m),[h.width,h.height]),n.bindTexture(n.TEXTURE_2D,h.texture),n.uniform1i(l.animated?i(Z):i(E),o),Ct(n,l.buffer,l.vertexCount)}if(l.type==="renderparticles"){n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA),n.enable(n.DEPTH_TEST);const h=i(r).textures[l.textureId];n.useProgram(i(z)),n.viewport(dr,hr,Oe,Ne),n.uniformMatrix4fv(i(K),!1,l.viewMatrix),n.uniformMatrix4fv(i(wt),!1,vr),n.uniform2fv(i(ft),[h.width,h.height]),n.bindTexture(n.TEXTURE_2D,h.texture),n.uniform1i(i(Y),o),Ct(n,l.buffer,l.vertexCount)}if(l.type==="icon"||l.type==="bigicon"){const h=l.texSize;n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA),n.disable(n.DEPTH_TEST),n.useProgram(i(c)),n.viewport(0,0,Gt,$t),n.bindTexture(n.TEXTURE_2D,l.texture),n.uniform1i(i(d),o),n.uniform4fv(i(w),[h,h,l.targetWidth,l.targetHeight]),Ct(n,l.buffer,6)}if(l.type==="minimap"){if(Lt===null)continue;n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA),n.disable(n.DEPTH_TEST),n.useProgram(i(c)),n.viewport(0,0,Gt,$t),n.uniform4fv(i(w),[At,gt,l.targetWidth,l.targetHeight]),n.bindTexture(n.TEXTURE_2D,Lt),n.uniform1i(i(d),o),Ct(n,l.buffer,6)}}},mn=(x,n,l)=>{const h=new DataView(l),j=h.getUint32(0,!0);switch(j){case 0:{C(Be,!0),xt(x,n);break}case 1:{const F=h.getUint32(4,!0),A=h.getUint32(8,!0),P=h.getUint32(12,!0),b=n.createTexture(),q=new Uint8Array(l,16,A*P*4);n.bindTexture(n.TEXTURE_2D,b),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,A,P,0,n.RGBA,n.UNSIGNED_BYTE,q),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,n.LINEAR),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,n.LINEAR),ve(r,i(r).textures[F]={texture:b,width:A,height:P,data:q});break}case 2:case 3:{const F=j===3,A=F?104:40,P=F?120:56,b=h.getUint32(4,!0),q=h.getUint32(8,!0),T=new Float32Array(16);T.set(new Float32Array(l,16,16));const $=new Float32Array(16);$.set(new Float32Array(l,80,16));const S=new DataView(l,144,b*A),I=new Array(b),U=new ArrayBuffer(b*P),g=new DataView(U);for(let D=0;D<b;D+=1){const y=A*D,M=P*D;let at=null;F&&(at=new Float32Array(16),at.set(new Float32Array(l,144+A*D+40,16)));const N={x:S.getInt16(y,!0),y:S.getInt16(y+2,!0),z:S.getInt16(y+4,!0),u:S.getFloat32(y+8,!0),v:S.getFloat32(y+12,!0),ax:S.getUint16(y+16,!0),ay:S.getUint16(y+18,!0),aw:S.getUint16(y+20,!0),ah:S.getUint16(y+22,!0),r:S.getFloat32(y+24,!0),g:S.getFloat32(y+28,!0),b:S.getFloat32(y+32,!0),a:S.getFloat32(y+36,!0),anim:at};if(I[D]=N,g.setFloat32(M,N.x,!0),g.setFloat32(M+4,N.y,!0),g.setFloat32(M+8,N.z,!0),g.setFloat32(M+12,0,!0),g.setFloat32(M+16,N.u,!0),g.setFloat32(M+20,N.v,!0),g.setFloat32(M+24,N.ax,!0),g.setFloat32(M+28,N.ay,!0),g.setFloat32(M+32,N.aw,!0),g.setFloat32(M+36,N.ah,!0),g.setFloat32(M+40,N.r,!0),g.setFloat32(M+44,N.g,!0),g.setFloat32(M+48,N.b,!0),g.setFloat32(M+52,N.a,!0),at)for(let it=0;it<16;it+=1)g.setFloat32(M+56+it*4,at[it],!0)}const R=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,R),n.bufferData(n.ARRAY_BUFFER,g,n.STATIC_DRAW),i(r).entities.push({type:"render3d",animated:F,textureId:q,vertexCount:b,modelMatrix:T,viewMatrix:$,vertices:I,buffer:{vbo:R,step:P,attribs:F?si:ui},enabled:!0}),Kt+=b,xt(x,n);break}case 4:{const P=h.getUint32(4,!0),b=h.getUint32(8,!0),q=h.getUint16(12,!0),T=h.getUint16(14,!0),$=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,$);const S=new DataView(l,16,P*40),I=new ArrayBuffer(P*60),U=new DataView(I),g=new Array(P);for(let R=0;R<P;R+=1){const D=40*R,y=60*R,M={x:S.getInt16(D,!0),y:S.getInt16(D+2,!0),ax:S.getInt16(D+4,!0),ay:S.getInt16(D+6,!0),aw:S.getInt16(D+8,!0),ah:S.getInt16(D+10,!0),discard:S.getUint8(D+12),wrapx:S.getUint8(D+13),wrapy:S.getUint8(D+14),u:S.getFloat32(D+16,!0),v:S.getFloat32(D+20,!0),r:S.getFloat32(D+24,!0),g:S.getFloat32(D+28,!0),b:S.getFloat32(D+32,!0),a:S.getFloat32(D+36,!0)};g[R]=M,U.setFloat32(y,M.x,!0),U.setFloat32(y+4,M.y,!0),U.setFloat32(y+8,M.u,!0),U.setFloat32(y+12,M.v,!0),U.setFloat32(y+16,M.ax,!0),U.setFloat32(y+20,M.ay,!0),U.setFloat32(y+24,M.aw,!0),U.setFloat32(y+28,M.ah,!0),U.setFloat32(y+32,M.r,!0),U.setFloat32(y+36,M.g,!0),U.setFloat32(y+40,M.b,!0),U.setFloat32(y+44,M.a,!0),U.setFloat32(y+48,M.discard,!0),U.setFloat32(y+52,M.wrapx,!0),U.setFloat32(y+56,M.wrapy,!0)}n.bufferData(n.ARRAY_BUFFER,U,n.STATIC_DRAW),i(r).entities.push({type:"batch2d",textureId:b,vertexCount:P,vertices:g,targetWidth:q,targetHeight:T,buffer:{vbo:$,step:60,attribs:he},enabled:!0}),Kt+=P,xt(x,n);break}case 5:case 8:{const A=j===5?64:512,P=h.getInt16(4,!0),b=h.getInt16(6,!0),q=h.getInt16(8,!0),T=h.getInt16(10,!0),$=h.getUint32(12,!0),S=h.getFloat32(16,!0),I=h.getFloat32(20,!0),U=h.getFloat32(24,!0),g=h.getFloat32(28,!0),R=h.getUint16(32,!0),D=h.getUint16(34,!0),y=n.createTexture(),M=n.createFramebuffer();n.bindTexture(n.TEXTURE_2D,y),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,M),n.texStorage2D(n.TEXTURE_2D,1,n.RGBA8,A,A),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,y,0),n.disable(n.SCISSOR_TEST),n.enable(n.CULL_FACE),n.cullFace(n.FRONT),n.viewport(0,0,A,A),n.clearColor(0,0,0,0),n.clear(n.COLOR_BUFFER_BIT);let at=Array($),N=36;for(let Ve=0;Ve<$;Ve+=1){const ce=h.getUint32(N,!0);let br=Array(ce);const gn=new ArrayBuffer(ce*56),ot=new DataView(gn),Xe=new Float32Array(16);Xe.set(new Float32Array(l,N+4,16));const ze=new Float32Array(16);ze.set(new Float32Array(l,N+68,16));const Ye=new Float32Array(16);Ye.set(new Float32Array(l,N+132,16)),N+=196;for(let ht=0;ht<ce;ht+=1){const Ft={x:h.getInt16(N,!0),y:h.getInt16(N+2,!0),z:h.getInt16(N+4,!0),r:h.getFloat32(N+8,!0),g:h.getFloat32(N+12,!0),b:h.getFloat32(N+16,!0),a:h.getFloat32(N+20,!0)},lt=ht*56;ot.setFloat32(lt,Ft.x,!0),ot.setFloat32(lt+4,Ft.y,!0),ot.setFloat32(lt+8,Ft.z,!0),ot.setFloat32(lt+24,0,!0),ot.setFloat32(lt+28,0,!0),ot.setFloat32(lt+32,A,!0),ot.setFloat32(lt+36,A,!0),ot.setFloat32(lt+40,Ft.r,!0),ot.setFloat32(lt+44,Ft.g,!0),ot.setFloat32(lt+48,Ft.b,!0),ot.setFloat32(lt+52,Ft.a,!0),br[ht]=Ft,N+=24}at[Ve]={vertices:br,modelMatrix:Xe,viewMatrix:ze,projMatrix:Ye};const yr=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,yr),n.bufferData(n.ARRAY_BUFFER,ot,n.STATIC_DRAW),n.useProgram(i(f)),n.uniformMatrix4fv(i(_),!1,Xe),n.uniformMatrix4fv(i(v),!1,ze),n.uniformMatrix4fv(i(s),!1,Ye),n.uniform2fv(i(m),[1,1]),n.bindTexture(n.TEXTURE_2D,i(fe)),n.uniform1i(i(E),o);for(let ht=0;ht<i(se);ht+=1)ht<4?n.enableVertexAttribArray(ht):n.disableVertexAttribArray(ht);n.vertexAttribPointer(0,4,n.FLOAT,!1,56,0),n.vertexAttribPointer(1,2,n.FLOAT,!1,56,16),n.vertexAttribPointer(2,4,n.FLOAT,!1,56,24),n.vertexAttribPointer(3,4,n.FLOAT,!1,56,40),n.drawArrays(n.TRIANGLES,0,ce),n.deleteBuffer(yr)}const it=P,Wt=P+q,He=b,We=b+T,mr=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,mr),n.bufferData(n.ARRAY_BUFFER,new Float32Array([it,He,0,1,0,0,A,A,S,U,I,g,0,0,0,Wt,He,1,1,0,0,A,A,S,U,I,g,0,0,0,it,We,0,0,0,0,A,A,S,U,I,g,0,0,0,Wt,He,1,1,0,0,A,A,S,U,I,g,0,0,0,Wt,We,1,0,0,0,A,A,S,U,I,g,0,0,0,it,We,0,0,0,0,A,A,S,U,I,g,0,0,0]),n.STATIC_DRAW),i(r).entities.push({type:j===5?"icon":"bigicon",models:at,texture:y,targetWidth:R,targetHeight:D,texSize:A,buffer:{vbo:mr,step:60,attribs:he},enabled:!0}),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.deleteFramebuffer(M),n.disable(n.CULL_FACE);break}case 6:{const F=h.getUint32(4,!0),A=h.getUint32(8,!0);At=h.getUint16(12,!0),gt=h.getUint16(14,!0);const P=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,P);const b=new DataView(l,16,F*40),q=new ArrayBuffer(F*60),T=new DataView(q),$=new Array(F);for(let I=0;I<F;I+=1){const U=40*I,g=60*I,R={x:b.getInt16(U,!0),y:b.getInt16(U+2,!0),ax:b.getInt16(U+4,!0),ay:b.getInt16(U+6,!0),aw:b.getInt16(U+8,!0),ah:b.getInt16(U+10,!0),discard:b.getUint8(U+12),wrapx:b.getUint8(U+13),wrapy:b.getUint8(U+14),u:b.getFloat32(U+16,!0),v:b.getFloat32(U+20,!0),r:b.getFloat32(U+24,!0),g:b.getFloat32(U+28,!0),b:b.getFloat32(U+32,!0),a:b.getFloat32(U+36,!0)};$[I]=R,T.setFloat32(g,R.x,!0),T.setFloat32(g+4,R.y,!0),T.setFloat32(g+8,R.u,!0),T.setFloat32(g+12,R.v,!0),T.setFloat32(g+16,R.ax,!0),T.setFloat32(g+20,R.ay,!0),T.setFloat32(g+24,R.aw,!0),T.setFloat32(g+28,R.ah,!0),T.setFloat32(g+32,R.r,!0),T.setFloat32(g+36,R.g,!0),T.setFloat32(g+40,R.b,!0),T.setFloat32(g+44,R.a,!0),T.setFloat32(g+48,R.discard,!0),T.setFloat32(g+52,R.wrapx,!0),T.setFloat32(g+56,R.wrapy,!0)}n.bufferData(n.ARRAY_BUFFER,T,n.STATIC_DRAW),!Lt||!le?(Lt=n.createTexture(),n.bindTexture(n.TEXTURE_2D,Lt),n.texStorage2D(n.TEXTURE_2D,1,n.RGBA8,At,gt),le=n.createFramebuffer(),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,le),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Lt,0),n.bindTexture(n.TEXTURE_2D,null)):n.bindFramebuffer(n.DRAW_FRAMEBUFFER,le),n.viewport(0,0,At,gt),n.scissor(0,0,At,gt),n.disable(n.DEPTH_TEST);const S=i(r).textures[A];n.useProgram(i(c)),n.uniform4fv(i(w),[S.width,S.height,At,gt]),n.bindTexture(n.TEXTURE_2D,S.texture),n.uniform1i(i(d),o);for(let I=0;I<i(se);I+=1)I<4?n.enableVertexAttribArray(I):n.disableVertexAttribArray(I);n.vertexAttribPointer(0,4,n.FLOAT,!1,60,0),n.vertexAttribPointer(1,4,n.FLOAT,!1,60,16),n.vertexAttribPointer(2,4,n.FLOAT,!1,60,32),n.vertexAttribPointer(3,3,n.FLOAT,!1,60,48),n.drawArrays(n.TRIANGLES,0,F),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),i(r).entities.push({type:"minimap2d",textureId:A,vbo:P,vertices:$,enabled:!0}),Kt+=F,xt(x,n);break}case 7:{if(!Lt)break;const F=h.getInt16(4,!0),A=h.getInt16(6,!0),P=h.getUint16(8,!0),b=h.getUint16(10,!0),q=h.getInt16(12,!0),T=h.getInt16(14,!0),$=h.getUint16(16,!0),S=h.getUint16(18,!0),I=h.getUint16(20,!0),U=h.getUint16(22,!0),g=q,R=q+$,D=T,y=T+S,M=F/At,at=(F+P)/At,N=A/gt,it=(A+b)/gt,Wt=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,Wt),n.bufferData(n.ARRAY_BUFFER,new Float32Array([g,D,M,it,F,A,P,b,1,1,1,1,0,0,0,R,D,at,it,F,A,P,b,1,1,1,1,0,0,0,g,y,M,N,F,A,P,b,1,1,1,1,0,0,0,R,D,at,it,F,A,P,b,1,1,1,1,0,0,0,R,y,at,N,F,A,P,b,1,1,1,1,0,0,0,g,y,M,N,F,A,P,b,1,1,1,1,0,0,0]),n.STATIC_DRAW),i(r).entities.push({type:"minimap",sourcex:F,sourcey:A,sourcew:P,sourceh:b,targetx:q,targety:T,targetw:$,targeth:S,targetWidth:I,targetHeight:U,buffer:{vbo:Wt,step:60,attribs:he},enabled:!0}),xt(x,n);break}case 9:{const F=h.getUint32(4,!0),A=h.getUint32(8,!0),P=64,b=72,q=new Float32Array(16);q.set(new Float32Array(l,16,16));const T=new DataView(l,80,F*P),$=new Array(F),S=new ArrayBuffer(F*b),I=new DataView(S);for(let g=0;g<F;g+=1){const R=P*g,D=b*g,y={x:T.getFloat32(R,!0),y:T.getFloat32(R+4,!0),z:T.getFloat32(R+8,!0),offsetx2d:T.getFloat32(R+12,!0),offsety2d:T.getFloat32(R+16,!0),offsetx3d:T.getFloat32(R+20,!0),offsety3d:T.getFloat32(R+24,!0),offsetz3d:T.getFloat32(R+28,!0),ax:T.getUint16(R+32,!0),ay:T.getUint16(R+34,!0),aw:T.getUint16(R+36,!0),ah:T.getUint16(R+38,!0),r:T.getFloat32(R+40,!0),g:T.getFloat32(R+44,!0),b:T.getFloat32(R+48,!0),a:T.getFloat32(R+52,!0),u:T.getFloat32(R+56,!0),v:T.getFloat32(R+60,!0)};$[g]=y,I.setFloat32(D,y.x,!0),I.setFloat32(D+4,y.y,!0),I.setFloat32(D+8,y.z,!0),I.setFloat32(D+12,y.ax,!0),I.setFloat32(D+16,y.ay,!0),I.setFloat32(D+20,y.aw,!0),I.setFloat32(D+24,y.ah,!0),I.setFloat32(D+28,y.r,!0),I.setFloat32(D+32,y.g,!0),I.setFloat32(D+36,y.b,!0),I.setFloat32(D+40,y.a,!0),I.setFloat32(D+44,y.offsetx2d,!0),I.setFloat32(D+48,y.offsety2d,!0),I.setFloat32(D+52,y.offsetx3d,!0),I.setFloat32(D+56,y.offsety3d,!0),I.setFloat32(D+60,y.offsetz3d,!0),I.setFloat32(D+64,y.u,!0),I.setFloat32(D+68,y.v,!0)}const U=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,U),n.bufferData(n.ARRAY_BUFFER,I,n.STATIC_DRAW),i(r).entities.push({type:"renderparticles",textureId:A,vertexCount:F,vertices:$,viewMatrix:q,buffer:{vbo:U,step:b,attribs:fi},enabled:!0}),Kt+=F,xt(x,n);break}}};window.addEventListener("message",async x=>{if(typeof x.data=="object"&&x.data.type==="pluginMessage"){if(typeof x.data.content!="object"||!i(tt)||!i(p))return;mn(i(tt),i(p),x.data.content)}}),la(()=>(i(tt),i(p),i(fe),i(c),i(f),i(L),i(z),i(dt)),()=>{if(i(tt)&&(ve(tt,i(tt).width=Gt),ve(tt,i(tt).height=$t),C(p,i(tt).getContext("webgl2")),i(p))){C(se,i(p).getParameter(i(p).MAX_VERTEX_ATTRIBS)),C(fe,i(p).createTexture()),i(p).bindTexture(i(p).TEXTURE_2D,i(fe));const x=new Uint8Array([255,255,255,255]);i(p).texImage2D(i(p).TEXTURE_2D,0,i(p).RGBA,1,1,0,i(p).RGBA,i(p).UNSIGNED_BYTE,x);const n=Rt(i(p),i(p).VERTEX_SHADER,Ja,"2D vertex shader"),l=Rt(i(p),i(p).FRAGMENT_SHADER,ti,"2D fragment shader"),h=Rt(i(p),i(p).VERTEX_SHADER,ei,"3D vertex shader"),j=Rt(i(p),i(p).VERTEX_SHADER,ri,"3D anim vertex shader"),F=Rt(i(p),i(p).FRAGMENT_SHADER,ni,"3D fragment shader"),A=Rt(i(p),i(p).VERTEX_SHADER,ai,"particle vertex shader"),P=Rt(i(p),i(p).VERTEX_SHADER,ii,"checkers vertex shader"),b=Rt(i(p),i(p).FRAGMENT_SHADER,oi,"checkers fragment shader");C(c,Qt(i(p),n,l,"2D program")),C(w,i(p).getUniformLocation(i(c),"atlas_wh_screen_wh")),C(d,i(p).getUniformLocation(i(c),"tex")),C(f,Qt(i(p),h,F,"3D program")),C(_,i(p).getUniformLocation(i(f),"modelmatrix")),C(v,i(p).getUniformLocation(i(f),"viewmatrix")),C(s,i(p).getUniformLocation(i(f),"projmatrix")),C(m,i(p).getUniformLocation(i(f),"atlas_wh")),C(E,i(p).getUniformLocation(i(f),"tex")),C(L,Qt(i(p),j,F,"3D animated program")),C(W,i(p).getUniformLocation(i(L),"modelmatrix")),C(O,i(p).getUniformLocation(i(L),"viewmatrix")),C(B,i(p).getUniformLocation(i(L),"projmatrix")),C(V,i(p).getUniformLocation(i(L),"atlas_wh")),C(Z,i(p).getUniformLocation(i(L),"tex")),C(z,Qt(i(p),A,F,"Particles program")),C(K,i(p).getUniformLocation(i(z),"viewmatrix")),C(wt,i(p).getUniformLocation(i(z),"projmatrix")),C(Y,i(p).getUniformLocation(i(z),"tex")),C(ft,i(p).getUniformLocation(i(z),"atlas_wh")),C(dt,Qt(i(p),P,b,"Checkers program")),C(lr,i(p).getUniformLocation(i(dt),"screen_wh")),i(p).deleteShader(n),i(p).deleteShader(l),i(p).deleteShader(h),i(p).deleteShader(F),i(p).deleteShader(j),i(p).deleteShader(A),i(p).deleteShader(P),i(p).deleteShader(b),i(p).activeTexture(i(p).TEXTURE0+o),i(p).enable(i(p).SCISSOR_TEST),i(p).disable(i(p).CULL_FACE),i(p).disable(i(p).DEPTH_TEST),i(p).enable(i(p).BLEND),i(p).blendEquationSeparate(i(p).FUNC_ADD,i(p).FUNC_ADD),i(p).depthFunc(i(p).LEQUAL),xt(i(tt),i(p))}}),ca(),wn();var pr=Ei(),wr=$e(pr);Ka(wr,x=>C(tt,x),()=>i(tt));var xr=zt(wr,2);{var bn=x=>{var n=wi(),l=$e(n),h=Jt(l);vi(h,{redraw:()=>{xt(i(tt),i(p))},get data(){return i(r)},set data(F){C(r,F)},$$legacy:!0});var j=zt(l,2);j.__click=[pi,ke],Ot(x,n)},yn=(x,n)=>{{var l=h=>{var j=mi();j.__click=[xi,ke],Ot(h,j)};qe(x,h=>{i(Be)&&h(l)},n)}};qe(xr,x=>{i(ke)?x(bn):x(yn,!1)})}var En=zt(xr,2);{var An=x=>{var n=yi();n.__click=[bi,r,xt,tt,p],Ot(x,n)};qe(En,x=>{i(r).selectedTexture&&x(An)})}Ot(t,pr),or()}vn(["click"]);Ca(Ai,{target:document.body});
