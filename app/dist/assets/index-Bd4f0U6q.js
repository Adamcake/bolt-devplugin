(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();const en=!1;var Vr=Array.isArray,qn=Array.prototype.indexOf,Hr=Array.from,jn=Object.defineProperty,Ot=Object.getOwnPropertyDescriptor,bn=Object.getOwnPropertyDescriptors,Gn=Object.prototype,Kn=Array.prototype,Xr=Object.getPrototypeOf,tn=Object.isExtensible;function Zn(e){return e()}function Mr(e){for(var r=0;r<e.length;r++)e[r]()}const qe=2,yn=4,yr=8,Yr=16,ct=32,Vt=64,_r=128,Ye=256,vr=512,Ce=1024,dt=2048,Dt=4096,st=8192,Er=16384,Qn=32768,Wr=65536,En=1<<17,Jn=1<<19,An=1<<20,Cr=1<<21,Ut=Symbol("$state"),ea=Symbol("legacy props"),ta=Symbol("");function Fn(e){return e===this.v}function ra(e,r){return e!=e?r==r:e!==r||e!==null&&typeof e=="object"||typeof e=="function"}function zr(e){return!ra(e,this.v)}function na(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function aa(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ia(e){throw new Error("https://svelte.dev/e/effect_orphan")}function oa(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function ua(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function sa(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function la(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function fa(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}let tr=!1,ca=!1;function da(){tr=!0}const qr=1,jr=2,Tn=4,_a=8,va=16,xa=1,ha=2,pa=4,ga=8,ma=16,wa=1,ba=2,Pe=Symbol(),ya="http://www.w3.org/1999/xhtml";let _e=null;function rn(e){_e=e}function At(e,r=!1,t){var i=_e={p:_e,c:null,d:!1,e:null,m:!1,s:e,x:null,l:null};tr&&!r&&(_e.l={s:null,u:null,r1:[],r2:Zt(!1)}),$n(()=>{i.d=!0})}function Ft(e){const r=_e;if(r!==null){const f=r.e;if(f!==null){var t=ae,i=te;r.e=null;try{for(var o=0;o<f.length;o++){var u=f[o];Et(u.effect),tt(u.reaction),Kr(u.fn)}}finally{Et(t),tt(i)}}_e=r.p,r.m=!0}return{}}function Ar(){return!tr||_e!==null&&_e.l===null}function St(e,r){if(typeof e!="object"||e===null||Ut in e)return e;const t=Xr(e);if(t!==Gn&&t!==Kn)return e;var i=new Map,o=Vr(e),u=pt(0),f=te,g=d=>{var l=te;tt(f);var _;return _=d(),tt(l),_};return o&&i.set("length",pt(e.length)),new Proxy(e,{defineProperty(d,l,_){(!("value"in _)||_.configurable===!1||_.enumerable===!1||_.writable===!1)&&sa();var x=i.get(l);return x===void 0?(x=g(()=>pt(_.value)),i.set(l,x)):I(x,g(()=>St(_.value))),!0},deleteProperty(d,l){var _=i.get(l);if(_===void 0)l in d&&i.set(l,g(()=>pt(Pe)));else{if(o&&typeof l=="string"){var x=i.get("length"),s=Number(l);Number.isInteger(s)&&s<x.v&&I(x,s)}I(_,Pe),nn(u)}return!0},get(d,l,_){var y;if(l===Ut)return e;var x=i.get(l),s=l in d;if(x===void 0&&(!s||(y=Ot(d,l))!=null&&y.writable)&&(x=g(()=>pt(St(s?d[l]:Pe))),i.set(l,x)),x!==void 0){var m=n(x);return m===Pe?void 0:m}return Reflect.get(d,l,_)},getOwnPropertyDescriptor(d,l){var _=Reflect.getOwnPropertyDescriptor(d,l);if(_&&"value"in _){var x=i.get(l);x&&(_.value=n(x))}else if(_===void 0){var s=i.get(l),m=s==null?void 0:s.v;if(s!==void 0&&m!==Pe)return{enumerable:!0,configurable:!0,value:m,writable:!0}}return _},has(d,l){var m;if(l===Ut)return!0;var _=i.get(l),x=_!==void 0&&_.v!==Pe||Reflect.has(d,l);if(_!==void 0||ae!==null&&(!x||(m=Ot(d,l))!=null&&m.writable)){_===void 0&&(_=g(()=>pt(x?St(d[l]):Pe)),i.set(l,_));var s=n(_);if(s===Pe)return!1}return x},set(d,l,_,x){var ne;var s=i.get(l),m=l in d;if(o&&l==="length")for(var y=_;y<s.v;y+=1){var V=i.get(y+"");V!==void 0?I(V,Pe):y in d&&(V=g(()=>pt(Pe)),i.set(y+"",V))}s===void 0?(!m||(ne=Ot(d,l))!=null&&ne.writable)&&(s=g(()=>pt(void 0)),I(s,g(()=>St(_))),i.set(l,s)):(m=s.v!==Pe,I(s,g(()=>St(_))));var z=Reflect.getOwnPropertyDescriptor(d,l);if(z!=null&&z.set&&z.set.call(x,_),!m){if(o&&typeof l=="string"){var le=i.get("length"),fe=Number(l);Number.isInteger(fe)&&fe>=le.v&&I(le,fe+1)}nn(u)}return!0},ownKeys(d){n(u);var l=Reflect.ownKeys(d).filter(s=>{var m=i.get(s);return m===void 0||m.v!==Pe});for(var[_,x]of i)x.v!==Pe&&!(_ in d)&&l.push(_);return l},setPrototypeOf(){la()}})}function nn(e,r=1){I(e,e.v+r)}const Kt=new Map;function Zt(e,r){var t={f:0,v:e,reactions:null,equals:Fn,rv:0,wv:0};return t}function pt(e,r){const t=Zt(e);return Ca(t),t}function N(e,r=!1){var i;const t=Zt(e);return r||(t.equals=zr),tr&&_e!==null&&_e.l!==null&&((i=_e.l).s??(i.s=[])).push(t),t}function Qe(e,r){return I(e,ft(()=>n(e))),r}function I(e,r,t=!1){te!==null&&!et&&Ar()&&(te.f&(qe|Yr))!==0&&!(Ie!=null&&Ie.includes(e))&&fa();let i=t?St(r):r;return Qt(e,i)}function Qt(e,r){if(!e.equals(r)){var t=e.v;nr?Kt.set(e,r):Kt.set(e,t),e.v=r,e.wv=Vn(),Rn(e,dt),Ar()&&ae!==null&&(ae.f&Ce)!==0&&(ae.f&(ct|Vt))===0&&(He===null?La([e]):He.push(e))}return r}function Rn(e,r){var t=e.reactions;if(t!==null)for(var i=Ar(),o=t.length,u=0;u<o;u++){var f=t[u],g=f.f;(g&dt)===0&&(!i&&f===ae||(je(f,r),(g&(Ce|Ye))!==0&&((g&qe)!==0?Rn(f,Dt):Sr(f))))}}let Ea=!1;var an,Sn,Un,In;function Aa(){if(an===void 0){an=window,Sn=/Firefox/.test(navigator.userAgent);var e=Element.prototype,r=Node.prototype,t=Text.prototype;Un=Ot(r,"firstChild").get,In=Ot(r,"nextSibling").get,tn(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),tn(t)&&(t.__t=void 0)}}function Gr(e=""){return document.createTextNode(e)}function xr(e){return Un.call(e)}function Fr(e){return In.call(e)}function Ue(e,r){return xr(e)}function de(e,r){{var t=xr(e);return t instanceof Comment&&t.data===""?Fr(t):t}}function j(e,r=1,t=!1){let i=e;for(;r--;)i=Fr(i);return i}function Fa(e){e.textContent=""}function Jt(e){var r=qe|dt,t=te!==null&&(te.f&qe)!==0?te:null;return ae===null||t!==null&&(t.f&Ye)!==0?r|=Ye:ae.f|=An,{ctx:_e,deps:null,effects:null,equals:Fn,f:r,fn:e,reactions:null,rv:0,v:null,wv:0,parent:t??ae}}function C(e){const r=Jt(e);return r.equals=zr,r}function Dn(e){var r=e.effects;if(r!==null){e.effects=null;for(var t=0;t<r.length;t+=1)yt(r[t])}}function Ta(e){for(var r=e.parent;r!==null;){if((r.f&qe)===0)return r;r=r.parent}return null}function Ra(e){var r,t=ae;Et(Ta(e));try{Dn(e),r=Xn(e)}finally{Et(t)}return r}function Bn(e){var r=Ra(e),t=(bt||(e.f&Ye)!==0)&&e.deps!==null?Dt:Ce;je(e,t),e.equals(r)||(e.v=r,e.wv=Vn())}function Pn(e){ae===null&&te===null&&ia(),te!==null&&(te.f&Ye)!==0&&ae===null&&aa(),nr&&na()}function Sa(e,r){var t=r.last;t===null?r.last=r.first=e:(t.next=e,e.prev=t,r.last=e)}function Ht(e,r,t,i=!0){var o=ae,u={ctx:_e,deps:null,nodes_start:null,nodes_end:null,f:e|dt,first:null,fn:r,last:null,next:null,parent:o,prev:null,teardown:null,transitions:null,wv:0};if(t)try{Rr(u),u.f|=Qn}catch(d){throw yt(u),d}else r!==null&&Sr(u);var f=t&&u.deps===null&&u.first===null&&u.nodes_start===null&&u.teardown===null&&(u.f&(An|_r))===0;if(!f&&i&&(o!==null&&Sa(u,o),te!==null&&(te.f&qe)!==0)){var g=te;(g.effects??(g.effects=[])).push(u)}return u}function $n(e){const r=Ht(yr,null,!1);return je(r,Ce),r.teardown=e,r}function on(e){Pn();var r=ae!==null&&(ae.f&ct)!==0&&_e!==null&&!_e.m;if(r){var t=_e;(t.e??(t.e=[])).push({fn:e,effect:ae,reaction:te})}else{var i=Kr(e);return i}}function Ua(e){return Pn(),rr(e)}function Ia(e){const r=Ht(Vt,e,!0);return(t={})=>new Promise(i=>{t.outro?hr(r,()=>{yt(r),i(void 0)}):(yt(r),i(void 0))})}function Kr(e){return Ht(yn,e,!1)}function Da(e,r){var t=_e,i={effect:null,ran:!1};t.l.r1.push(i),i.effect=rr(()=>{e(),!i.ran&&(i.ran=!0,I(t.l.r2,!0),ft(r))})}function Ba(){var e=_e;rr(()=>{if(n(e.l.r2)){for(var r of e.l.r1){var t=r.effect;(t.f&Ce)!==0&&je(t,Dt),Xt(t)&&Rr(t),r.ran=!1}e.l.r2.v=!1}})}function rr(e){return Ht(yr,e,!0)}function Xe(e,r=[],t=Jt){const i=r.map(t);return Zr(()=>e(...i.map(n)))}function Zr(e,r=0){return Ht(yr|Yr|r,e,!0)}function er(e,r=!0){return Ht(yr|ct,e,!0,r)}function Mn(e){var r=e.teardown;if(r!==null){const t=nr,i=te;un(!0),tt(null);try{r.call(null)}finally{un(t),tt(i)}}}function Cn(e,r=!1){var t=e.first;for(e.first=e.last=null;t!==null;){var i=t.next;(t.f&Vt)!==0?t.parent=null:yt(t,r),t=i}}function Pa(e){for(var r=e.first;r!==null;){var t=r.next;(r.f&ct)===0&&yt(r),r=t}}function yt(e,r=!0){var t=!1;if((r||(e.f&Jn)!==0)&&e.nodes_start!==null){for(var i=e.nodes_start,o=e.nodes_end;i!==null;){var u=i===o?null:Fr(i);i.remove(),i=u}t=!0}Cn(e,r&&!t),br(e,0),je(e,Er);var f=e.transitions;if(f!==null)for(const d of f)d.stop();Mn(e);var g=e.parent;g!==null&&g.first!==null&&Ln(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes_start=e.nodes_end=null}function Ln(e){var r=e.parent,t=e.prev,i=e.next;t!==null&&(t.next=i),i!==null&&(i.prev=t),r!==null&&(r.first===e&&(r.first=i),r.last===e&&(r.last=t))}function hr(e,r){var t=[];Qr(e,t,!0),kn(t,()=>{yt(e),r&&r()})}function kn(e,r){var t=e.length;if(t>0){var i=()=>--t||r();for(var o of e)o.out(i)}else r()}function Qr(e,r,t){if((e.f&st)===0){if(e.f^=st,e.transitions!==null)for(const f of e.transitions)(f.is_global||t)&&r.push(f);for(var i=e.first;i!==null;){var o=i.next,u=(i.f&Wr)!==0||(i.f&ct)!==0;Qr(i,r,u?t:!1),i=o}}}function pr(e){Nn(e,!0)}function Nn(e,r){if((e.f&st)!==0){e.f^=st,(e.f&Ce)===0&&(e.f^=Ce),Xt(e)&&(je(e,dt),Sr(e));for(var t=e.first;t!==null;){var i=t.next,o=(t.f&Wr)!==0||(t.f&ct)!==0;Nn(t,o?r:!1),t=i}if(e.transitions!==null)for(const u of e.transitions)(u.is_global||r)&&u.in()}}let gr=[];function $a(){var e=gr;gr=[],Mr(e)}function Jr(e){gr.length===0&&queueMicrotask($a),gr.push(e)}let cr=!1,Lr=!1,mr=null,It=!1,nr=!1;function un(e){nr=e}let dr=[];let te=null,et=!1;function tt(e){te=e}let ae=null;function Et(e){ae=e}let Ie=null;function Ma(e){Ie=e}function Ca(e){te!==null&&te.f&Cr&&(Ie===null?Ma([e]):Ie.push(e))}let Se=null,Le=0,He=null;function La(e){He=e}let On=1,wr=0,bt=!1,wt=null;function Vn(){return++On}function Xt(e){var x;var r=e.f;if((r&dt)!==0)return!0;if((r&Dt)!==0){var t=e.deps,i=(r&Ye)!==0;if(t!==null){var o,u,f=(r&vr)!==0,g=i&&ae!==null&&!bt,d=t.length;if(f||g){var l=e,_=l.parent;for(o=0;o<d;o++)u=t[o],(f||!((x=u==null?void 0:u.reactions)!=null&&x.includes(l)))&&(u.reactions??(u.reactions=[])).push(l);f&&(l.f^=vr),g&&_!==null&&(_.f&Ye)===0&&(l.f^=Ye)}for(o=0;o<d;o++)if(u=t[o],Xt(u)&&Bn(u),u.wv>e.wv)return!0}(!i||ae!==null&&!bt)&&je(e,Ce)}return!1}function ka(e,r){for(var t=r;t!==null;){if((t.f&_r)!==0)try{t.fn(e);return}catch{t.f^=_r}t=t.parent}throw cr=!1,e}function Na(e){return(e.f&Er)===0&&(e.parent===null||(e.parent.f&_r)===0)}function Tr(e,r,t,i){if(cr){if(t===null&&(cr=!1),Na(r))throw e;return}t!==null&&(cr=!0);{ka(e,r);return}}function Hn(e,r,t=!0){var i=e.reactions;if(i!==null)for(var o=0;o<i.length;o++){var u=i[o];Ie!=null&&Ie.includes(e)||((u.f&qe)!==0?Hn(u,r,!1):r===u&&(t?je(u,dt):(u.f&Ce)!==0&&je(u,Dt),Sr(u)))}}function Xn(e){var m;var r=Se,t=Le,i=He,o=te,u=bt,f=Ie,g=_e,d=et,l=e.f;Se=null,Le=0,He=null,bt=(l&Ye)!==0&&(et||!It||te===null),te=(l&(ct|Vt))===0?e:null,Ie=null,rn(e.ctx),et=!1,wr++,e.f|=Cr;try{var _=(0,e.fn)(),x=e.deps;if(Se!==null){var s;if(br(e,Le),x!==null&&Le>0)for(x.length=Le+Se.length,s=0;s<Se.length;s++)x[Le+s]=Se[s];else e.deps=x=Se;if(!bt)for(s=Le;s<x.length;s++)((m=x[s]).reactions??(m.reactions=[])).push(e)}else x!==null&&Le<x.length&&(br(e,Le),x.length=Le);if(Ar()&&He!==null&&!et&&x!==null&&(e.f&(qe|Dt|dt))===0)for(s=0;s<He.length;s++)Hn(He[s],e);return o!==null&&(wr++,He!==null&&(i===null?i=He:i.push(...He))),_}finally{Se=r,Le=t,He=i,te=o,bt=u,Ie=f,rn(g),et=d,e.f^=Cr}}function Oa(e,r){let t=r.reactions;if(t!==null){var i=qn.call(t,e);if(i!==-1){var o=t.length-1;o===0?t=r.reactions=null:(t[i]=t[o],t.pop())}}t===null&&(r.f&qe)!==0&&(Se===null||!Se.includes(r))&&(je(r,Dt),(r.f&(Ye|vr))===0&&(r.f^=vr),Dn(r),br(r,0))}function br(e,r){var t=e.deps;if(t!==null)for(var i=r;i<t.length;i++)Oa(e,t[i])}function Rr(e){var r=e.f;if((r&Er)===0){je(e,Ce);var t=ae,i=_e,o=It;ae=e,It=!0;try{(r&Yr)!==0?Pa(e):Cn(e),Mn(e);var u=Xn(e);e.teardown=typeof u=="function"?u:null,e.wv=On;var f=e.deps,g;en&&ca&&e.f&dt}catch(d){Tr(d,e,t,i||e.ctx)}finally{It=o,ae=t}}}function Va(){try{oa()}catch(e){if(mr!==null)Tr(e,mr,null);else throw e}}function Ha(){var e=It;try{var r=0;for(It=!0;dr.length>0;){r++>1e3&&Va();var t=dr,i=t.length;dr=[];for(var o=0;o<i;o++){var u=Ya(t[o]);Xa(u)}}}finally{Lr=!1,It=e,mr=null,Kt.clear()}}function Xa(e){var r=e.length;if(r!==0)for(var t=0;t<r;t++){var i=e[t];if((i.f&(Er|st))===0)try{Xt(i)&&(Rr(i),i.deps===null&&i.first===null&&i.nodes_start===null&&(i.teardown===null?Ln(i):i.fn=null))}catch(o){Tr(o,i,null,i.ctx)}}}function Sr(e){Lr||(Lr=!0,queueMicrotask(Ha));for(var r=mr=e;r.parent!==null;){r=r.parent;var t=r.f;if((t&(Vt|ct))!==0){if((t&Ce)===0)return;r.f^=Ce}}dr.push(r)}function Ya(e){for(var r=[],t=e;t!==null;){var i=t.f,o=(i&(ct|Vt))!==0,u=o&&(i&Ce)!==0;if(!u&&(i&st)===0){if((i&yn)!==0)r.push(t);else if(o)t.f^=Ce;else{var f=te;try{te=t,Xt(t)&&Rr(t)}catch(l){Tr(l,t,null,t.ctx)}finally{te=f}}var g=t.first;if(g!==null){t=g;continue}}var d=t.parent;for(t=t.next;t===null&&d!==null;)t=d.next,d=d.parent}return r}function n(e){var r=e.f,t=(r&qe)!==0;if(wt!==null&&wt.add(e),te!==null&&!et){if(!(Ie!=null&&Ie.includes(e))){var i=te.deps;e.rv<wr&&(e.rv=wr,Se===null&&i!==null&&i[Le]===e?Le++:Se===null?Se=[e]:(!bt||!Se.includes(e))&&Se.push(e))}}else if(t&&e.deps===null&&e.effects===null){var o=e,u=o.parent;u!==null&&(u.f&Ye)===0&&(o.f^=Ye)}return t&&(o=e,Xt(o)&&Bn(o)),nr&&Kt.has(e)?Kt.get(e):e.v}function Wa(e){var r=wt;wt=new Set;var t=wt,i;try{if(ft(e),r!==null)for(i of wt)r.add(i)}finally{wt=r}return t}function $e(e){var r=Wa(()=>ft(e));for(var t of r)if((t.f&En)!==0)for(const i of t.deps||[])(i.f&qe)===0&&Qt(i,i.v);else Qt(t,t.v)}function ft(e){var r=et;try{return et=!0,e()}finally{et=r}}const za=-7169;function je(e,r){e.f=e.f&za|r}function qa(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Ut in e)kr(e);else if(!Array.isArray(e))for(let r in e){const t=e[r];typeof t=="object"&&t&&Ut in t&&kr(t)}}}function kr(e,r=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!r.has(e)){r.add(e),e instanceof Date&&e.getTime();for(let i in e)try{kr(e[i],r)}catch{}const t=Xr(e);if(t!==Object.prototype&&t!==Array.prototype&&t!==Map.prototype&&t!==Set.prototype&&t!==Date.prototype){const i=bn(t);for(let o in i){const u=i[o].get;if(u)try{u.call(e)}catch{}}}}}const ja=["touchstart","touchmove"];function Ga(e){return ja.includes(e)}let sn=!1;function Ka(){sn||(sn=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{var r;if(!e.defaultPrevented)for(const t of e.target.elements)(r=t.__on_r)==null||r.call(t)})},{capture:!0}))}function Yn(e){var r=te,t=ae;tt(null),Et(null);try{return e()}finally{tt(r),Et(t)}}function Za(e,r,t,i=t){e.addEventListener(r,()=>Yn(t));const o=e.__on_r;o?e.__on_r=()=>{o(),i(!0)}:e.__on_r=()=>i(!0),Ka()}const Wn=new Set,Nr=new Set;function Qa(e,r,t,i={}){function o(u){if(i.capture||Gt.call(r,u),!u.cancelBubble)return Yn(()=>t==null?void 0:t.call(this,u))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?Jr(()=>{r.addEventListener(e,o,i)}):r.addEventListener(e,o,i),o}function Ct(e,r,t,i,o){var u={capture:i,passive:o},f=Qa(e,r,t,u);(r===document.body||r===window||r===document)&&$n(()=>{r.removeEventListener(e,f,u)})}function Ur(e){for(var r=0;r<e.length;r++)Wn.add(e[r]);for(var t of Nr)t(e)}function Gt(e){var fe;var r=this,t=r.ownerDocument,i=e.type,o=((fe=e.composedPath)==null?void 0:fe.call(e))||[],u=o[0]||e.target,f=0,g=e.__root;if(g){var d=o.indexOf(g);if(d!==-1&&(r===document||r===window)){e.__root=r;return}var l=o.indexOf(r);if(l===-1)return;d<=l&&(f=d)}if(u=o[f]||e.target,u!==r){jn(e,"currentTarget",{configurable:!0,get(){return u||t}});var _=te,x=ae;tt(null),Et(null);try{for(var s,m=[];u!==null;){var y=u.assignedSlot||u.parentNode||u.host||null;try{var V=u["__"+i];if(V!=null&&(!u.disabled||e.target===u))if(Vr(V)){var[z,...le]=V;z.apply(u,[e,...le])}else V.call(u,e)}catch(ne){s?m.push(ne):s=ne}if(e.cancelBubble||y===r||y===null)break;u=y}if(s){for(let ne of m)queueMicrotask(()=>{throw ne});throw s}}finally{e.__root=r,delete e.currentTarget,tt(_),Et(x)}}}function Ja(e){var r=document.createElement("template");return r.innerHTML=e,r.content}function Or(e,r){var t=ae;t.nodes_start===null&&(t.nodes_start=e,t.nodes_end=r)}function Y(e,r){var t=(r&wa)!==0,i=(r&ba)!==0,o,u=!e.startsWith("<!>");return()=>{o===void 0&&(o=Ja(u?e:"<!>"+e),t||(o=xr(o)));var f=i||Sn?document.importNode(o,!0):o.cloneNode(!0);if(t){var g=xr(f),d=f.lastChild;Or(g,d)}else Or(f,f);return f}}function lr(){var e=document.createDocumentFragment(),r=document.createComment(""),t=Gr();return e.append(r,t),Or(r,t),e}function L(e,r){e!==null&&e.before(r)}function be(e,r){var t=r==null?"":typeof r=="object"?r+"":r;t!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=t,e.nodeValue=t+"")}function ei(e,r){return ti(e,r)}const Lt=new Map;function ti(e,{target:r,anchor:t,props:i={},events:o,context:u,intro:f=!0}){Aa();var g=new Set,d=x=>{for(var s=0;s<x.length;s++){var m=x[s];if(!g.has(m)){g.add(m);var y=Ga(m);r.addEventListener(m,Gt,{passive:y});var V=Lt.get(m);V===void 0?(document.addEventListener(m,Gt,{passive:y}),Lt.set(m,1)):Lt.set(m,V+1)}}};d(Hr(Wn)),Nr.add(d);var l=void 0,_=Ia(()=>{var x=t??r.appendChild(Gr());return er(()=>{if(u){At({});var s=_e;s.c=u}o&&(i.$$events=o),l=e(x,i)||{},u&&Ft()}),()=>{var y;for(var s of g){r.removeEventListener(s,Gt);var m=Lt.get(s);--m===0?(document.removeEventListener(s,Gt),Lt.delete(s)):Lt.set(s,m)}Nr.delete(d),x!==t&&((y=x.parentNode)==null||y.removeChild(x))}});return ri.set(l,_),l}let ri=new WeakMap;function re(e,r,[t,i]=[0,0]){var o=e,u=null,f=null,g=Pe,d=t>0?Wr:0,l=!1;const _=(s,m=!0)=>{l=!0,x(m,s)},x=(s,m)=>{g!==(g=s)&&(g?(u?pr(u):m&&(u=er(()=>m(o))),f&&hr(f,()=>{f=null})):(f?pr(f):m&&(f=er(()=>m(o,[t+1,i]))),u&&hr(u,()=>{u=null})))};Zr(()=>{l=!1,r(_),l||x(null,null)},d)}function ot(e,r){return r}function ni(e,r,t,i){for(var o=[],u=r.length,f=0;f<u;f++)Qr(r[f].e,o,!0);var g=u>0&&o.length===0&&t!==null;if(g){var d=t.parentNode;Fa(d),d.append(t),i.clear(),mt(e,r[0].prev,r[u-1].next)}kn(o,()=>{for(var l=0;l<u;l++){var _=r[l];g||(i.delete(_.k),mt(e,_.prev,_.next)),yt(_.e,!g)}})}function ut(e,r,t,i,o,u=null){var f=e,g={flags:r,items:new Map,first:null},d=(r&Tn)!==0;if(d){var l=e;f=l.appendChild(Gr())}var _=null,x=!1,s=C(()=>{var m=t();return Vr(m)?m:m==null?[]:Hr(m)});Zr(()=>{var m=n(s),y=m.length;x&&y===0||(x=y===0,ai(m,g,f,o,r,i,t),u!==null&&(y===0?_?pr(_):_=er(()=>u(f)):_!==null&&hr(_,()=>{_=null})),n(s))})}function ai(e,r,t,i,o,u,f){var vt,$t,Ge,rt;var g=(o&_a)!==0,d=(o&(qr|jr))!==0,l=e.length,_=r.items,x=r.first,s=x,m,y=null,V,z=[],le=[],fe,ne,D,H;if(g)for(H=0;H<l;H+=1)fe=e[H],ne=u(fe,H),D=_.get(ne),D!==void 0&&((vt=D.a)==null||vt.measure(),(V??(V=new Set)).add(D));for(H=0;H<l;H+=1){if(fe=e[H],ne=u(fe,H),D=_.get(ne),D===void 0){var G=s?s.e.nodes_start:t;y=oi(G,r,y,y===null?r.first:y.next,fe,ne,H,i,o,f),_.set(ne,y),z=[],le=[],s=y.next;continue}if(d&&ii(D,fe,H,o),(D.e.f&st)!==0&&(pr(D.e),g&&(($t=D.a)==null||$t.unfix(),(V??(V=new Set)).delete(D))),D!==s){if(m!==void 0&&m.has(D)){if(z.length<le.length){var W=le[0],q;y=W.prev;var ie=z[0],De=z[z.length-1];for(q=0;q<z.length;q+=1)ln(z[q],W,t);for(q=0;q<le.length;q+=1)m.delete(le[q]);mt(r,ie.prev,De.next),mt(r,y,ie),mt(r,De,W),s=W,y=De,H-=1,z=[],le=[]}else m.delete(D),ln(D,s,t),mt(r,D.prev,D.next),mt(r,D,y===null?r.first:y.next),mt(r,y,D),y=D;continue}for(z=[],le=[];s!==null&&s.k!==ne;)(s.e.f&st)===0&&(m??(m=new Set)).add(s),le.push(s),s=s.next;if(s===null)continue;D=s}z.push(D),y=D,s=D.next}if(s!==null||m!==void 0){for(var ke=m===void 0?[]:Hr(m);s!==null;)(s.e.f&st)===0&&ke.push(s),s=s.next;var _t=ke.length;if(_t>0){var Pt=(o&Tn)!==0&&l===0?t:null;if(g){for(H=0;H<_t;H+=1)(Ge=ke[H].a)==null||Ge.measure();for(H=0;H<_t;H+=1)(rt=ke[H].a)==null||rt.fix()}ni(r,ke,Pt,_)}}g&&Jr(()=>{var xt;if(V!==void 0)for(D of V)(xt=D.a)==null||xt.apply()}),ae.first=r.first&&r.first.e,ae.last=y&&y.e}function ii(e,r,t,i){(i&qr)!==0&&Qt(e.v,r),(i&jr)!==0?Qt(e.i,t):e.i=t}function oi(e,r,t,i,o,u,f,g,d,l){var _=(d&qr)!==0,x=(d&va)===0,s=_?x?N(o):Zt(o):o,m=(d&jr)===0?f:Zt(f),y={i:m,v:s,k:u,a:null,e:null,prev:t,next:i};try{return y.e=er(()=>g(e,s,m,l),Ea),y.e.prev=t&&t.e,y.e.next=i&&i.e,t===null?r.first=y:(t.next=y,t.e.next=y.e),i!==null&&(i.prev=y,i.e.prev=y.e),y}finally{}}function ln(e,r,t){for(var i=e.next?e.next.e.nodes_start:t,o=r?r.e.nodes_start:t,u=e.e.nodes_start;u!==i;){var f=Fr(u);o.before(u),u=f}}function mt(e,r,t){r===null?e.first=t:(r.next=t,r.e.next=t&&t.e),t!==null&&(t.prev=r,t.e.prev=r&&r.e)}function zn(e){var r,t,i="";if(typeof e=="string"||typeof e=="number")i+=e;else if(typeof e=="object")if(Array.isArray(e)){var o=e.length;for(r=0;r<o;r++)e[r]&&(t=zn(e[r]))&&(i&&(i+=" "),i+=t)}else for(t in e)e[t]&&(i&&(i+=" "),i+=t);return i}function ui(){for(var e,r,t=0,i="",o=arguments.length;t<o;t++)(e=arguments[t])&&(r=zn(e))&&(i&&(i+=" "),i+=r);return i}function si(e){return typeof e=="object"?ui(e):e??""}function li(e,r,t){var i=e==null?"":""+e;return i===""?null:i}function fn(e,r,t,i,o,u){var f=e.__className;if(f!==t){var g=li(t);g==null?e.removeAttribute("class"):e.className=g,e.__className=t}return u}const fi=Symbol("is custom element"),ci=Symbol("is html");function kt(e,r,t,i){var o=di(e);o[r]!==(o[r]=t)&&(r==="loading"&&(e[ta]=t),t==null?e.removeAttribute(r):typeof t!="string"&&_i(e).includes(r)?e[r]=t:e.setAttribute(r,t))}function di(e){return e.__attributes??(e.__attributes={[fi]:e.nodeName.includes("-"),[ci]:e.namespaceURI===ya})}var cn=new Map;function _i(e){var r=cn.get(e.nodeName);if(r)return r;cn.set(e.nodeName,r=[]);for(var t,i=e,o=Element.prototype;o!==i;){t=bn(i);for(var u in t)t[u].set&&r.push(u);i=Xr(i)}return r}function vi(e,r,t=r){Za(e,"change",i=>{var o=i?e.defaultChecked:e.checked;t(o)}),ft(r)==null&&t(e.checked),rr(()=>{var i=r();e.checked=!!i})}function dn(e,r){return e===r||(e==null?void 0:e[Ut])===r}function xi(e={},r,t,i){return Kr(()=>{var o,u;return rr(()=>{o=u,u=[],ft(()=>{e!==t(...u)&&(r(e,...u),o&&dn(t(...o),e)&&r(null,...o))})}),()=>{Jr(()=>{u&&dn(t(...u),e)&&r(null,...u)})}}),e}function Bt(e=!1){const r=_e,t=r.l.u;if(!t)return;let i=()=>qa(r.s);if(e){let o=0,u={};const f=Jt(()=>{let g=!1;const d=r.s;for(const l in d)d[l]!==u[l]&&(u[l]=d[l],g=!0);return g&&o++,o});i=()=>n(f)}t.b.length&&Ua(()=>{_n(r,i),Mr(t.b)}),on(()=>{const o=ft(()=>t.m.map(Zn));return()=>{for(const u of o)typeof u=="function"&&u()}}),t.a.length&&on(()=>{_n(r,i),Mr(t.a)})}function _n(e,r){if(e.l.s)for(const t of e.l.s)n(t);r()}let fr=!1;function hi(e){var r=fr;try{return fr=!1,[e(),fr]}finally{fr=r}}function vn(e){var r;return((r=e.ctx)==null?void 0:r.d)??!1}function Me(e,r,t,i){var W;var o=(t&xa)!==0,u=!tr||(t&ha)!==0,f=(t&ga)!==0,g=(t&ma)!==0,d=!1,l;f?[l,d]=hi(()=>e[r]):l=e[r];var _=Ut in e||ea in e,x=f&&(((W=Ot(e,r))==null?void 0:W.set)??(_&&r in e&&(q=>e[r]=q)))||void 0,s=i,m=!0,y=!1,V=()=>(y=!0,m&&(m=!1,g?s=ft(i):s=i),s);l===void 0&&i!==void 0&&(x&&u&&ua(),l=V(),x&&x(l));var z;if(u)z=()=>{var q=e[r];return q===void 0?V():(m=!0,y=!1,q)};else{var le=(o?Jt:C)(()=>e[r]);le.f|=En,z=()=>{var q=n(le);return q!==void 0&&(s=void 0),q===void 0?s:q}}if((t&pa)===0)return z;if(x){var fe=e.$$legacy;return function(q,ie){return arguments.length>0?((!u||!ie||fe||d)&&x(ie?z():q),q):z()}}var ne=!1,D=!1,H=N(l),G=Jt(()=>{var q=z(),ie=n(H);return ne?(ne=!1,D=!0,ie):(D=!1,H.v=q)});return f&&n(G),o||(G.equals=zr),function(q,ie){if(wt!==null&&(ne=D,z(),n(H)),arguments.length>0){const De=ie?n(G):u&&f?St(q):q;if(!G.equals(De)){if(ne=!0,I(H,De),y&&s!==void 0&&(s=De),vn(G))return q;ft(()=>n(G))}return q}return vn(G)?G.v:n(G)}}const pi="5";var wn;typeof window<"u"&&((wn=window.__svelte??(window.__svelte={})).v??(wn.v=new Set)).add(pi);da();const gi=`#version 300 es
layout (location = 0) in highp vec4 xy_uv;
layout (location = 1) in highp vec4 in_image_xywh;
layout (location = 2) in highp vec4 in_rgba;
layout (location = 3) in lowp vec3 in_discard_wrapx_wrapy;
out highp vec4 rgba;
out highp vec2 uv;
out highp vec4 image_xywh;
out lowp vec3 discard_wrapx_wrapy;
uniform highp vec4 atlas_wh_screen_wh;
void main() {
    rgba = in_rgba;
    uv = xy_uv.pq;
    image_xywh = in_image_xywh;
    discard_wrapx_wrapy = in_discard_wrapx_wrapy;
    gl_Position = vec4(
        (xy_uv.x * 2.0 / atlas_wh_screen_wh.p) - 1.0,
        1.0 - (xy_uv.y * 2.0 / atlas_wh_screen_wh.q),
        0.0,
        1.0
    );
}
`,mi=`#version 300 es
in highp vec4 rgba;
in highp vec2 uv;
in highp vec4 image_xywh;
in lowp vec3 discard_wrapx_wrapy;
out highp vec4 col;
uniform sampler2D tex;
uniform highp vec4 atlas_wh_screen_wh;
void main() {
    if (discard_wrapx_wrapy.x > 0.5) {
        col = rgba;
    } else {
        highp vec2 atlas_wh = atlas_wh_screen_wh.st;
        highp vec2 mod_atlas_uv = (image_xywh.st + (fract((uv - (image_xywh.st / atlas_wh)) / (image_xywh.pq / atlas_wh)) * image_xywh.pq)) / atlas_wh;
        highp vec2 clamp_atlas_uv = min(max(uv * atlas_wh, image_xywh.st), image_xywh.st + image_xywh.pq) / atlas_wh;
        col = texture(tex, mix(clamp_atlas_uv, mod_atlas_uv, discard_wrapx_wrapy.yz)) * rgba;
    }
}
`,wi=`#version 300 es
layout (location = 0) in highp vec4 xyz_and_bone;
layout (location = 1) in highp vec2 in_uv;
layout (location = 2) in highp vec4 in_image_xywh;
layout (location = 3) in highp vec4 in_rgba;
out highp vec4 rgba;
out highp vec2 uv;
out highp vec4 image_xywh;
uniform mat4 modelmatrix;
uniform mat4 viewmatrix;
uniform mat4 projmatrix;
uniform highp vec2 atlas_wh;
void main() {
    rgba = in_rgba;
    uv = in_uv;
    image_xywh = vec4(
        in_image_xywh.s / atlas_wh.s,
        in_image_xywh.t / atlas_wh.t,
        in_image_xywh.p / atlas_wh.s,
        in_image_xywh.q / atlas_wh.t
    );
    gl_Position = projmatrix * viewmatrix * modelmatrix * vec4(xyz_and_bone.xyz, 1.0);
}
`,bi=`#version 300 es
layout (location = 0) in highp vec4 xyz_and_bone;
layout (location = 1) in highp vec2 in_uv;
layout (location = 2) in highp vec4 in_image_xywh;
layout (location = 3) in highp vec4 in_rgba;
layout (location = 4) in highp mat4 anim;
out highp vec4 rgba;
out highp vec2 uv;
out highp vec4 image_xywh;
uniform mat4 modelmatrix;
uniform mat4 viewmatrix;
uniform mat4 projmatrix;
uniform highp vec2 atlas_wh;
void main() {
    rgba = in_rgba;
    uv = in_uv;
    image_xywh = vec4(
        in_image_xywh.s / atlas_wh.s,
        in_image_xywh.t / atlas_wh.t,
        in_image_xywh.p / atlas_wh.s,
        in_image_xywh.q / atlas_wh.t
    );
    gl_Position = projmatrix * viewmatrix * modelmatrix * anim * vec4(xyz_and_bone.xyz, 1.0);
}
`,yi=`#version 300 es
in highp vec4 rgba;
in highp vec2 uv;
in highp vec4 image_xywh;
out highp vec4 col;
uniform sampler2D tex;
void main() {
    col = texture(tex, image_xywh.st + (fract(uv) * image_xywh.pq)) * rgba;
}
`,Ei=`#version 300 es
layout (location = 0) in highp vec3 xyz;
layout (location = 1) in highp vec4 in_rgba;
layout (location = 2) in highp vec2 offset2d;
layout (location = 3) in highp vec3 offset3d;
layout (location = 4) in highp vec2 in_uv;
layout (location = 5) in highp vec4 in_image_xywh;
out highp vec4 rgba;
out highp vec2 uv;
out highp vec4 image_xywh;
uniform mat4 viewmatrix;
uniform mat4 projmatrix;
uniform highp vec2 atlas_wh;
void main() {
    rgba = in_rgba;
    uv = in_uv;
    image_xywh = vec4(
        in_image_xywh.s / atlas_wh.s,
        in_image_xywh.t / atlas_wh.t,
        in_image_xywh.p / atlas_wh.s,
        in_image_xywh.q / atlas_wh.t
    );
    gl_Position = projmatrix * (vec4(offset2d, 0.0, 0.0) + (viewmatrix * vec4(xyz + offset3d, 1.0)));
}
`,Ai=`#version 300 es
layout (location = 0) in highp vec2 in_xy;
out highp vec2 xy;
uniform highp vec2 screen_wh;
void main() {
    xy = in_xy;
    gl_Position = vec4(
        in_xy.x * 2.0 - 1.0,
        in_xy.y * 2.0 - 1.0,
        0.0,
        1.0
    );
}
`,Fi=`#version 300 es
in highp vec2 xy;
out highp vec4 col;
uniform highp vec2 screen_wh;
void main() {
    highp float xpixel = xy.x * screen_wh.s;
    highp float ypixel = xy.y * screen_wh.t;
    highp float rgb = mod(floor(xpixel / 24.0) + floor(ypixel / 24.0), 2.0) >= 1.0 ? 0.8 : 0.7;
    col = vec4(rgb, rgb, rgb, 1.0);
}
`,qt=[{count:4,offset:0},{count:4,offset:16},{count:4,offset:32},{count:3,offset:48}],xn=[{count:4,offset:0},{count:2,offset:16},{count:4,offset:24},{count:4,offset:40}],Ti=[{count:4,offset:0},{count:2,offset:16},{count:4,offset:24},{count:4,offset:40},{count:4,offset:56},{count:4,offset:72},{count:4,offset:88},{count:4,offset:104}],Ri=[{count:3,offset:0},{count:4,offset:28},{count:2,offset:44},{count:3,offset:52},{count:2,offset:64},{count:4,offset:12}],Si=[{count:2,offset:0}],gt=(e,r,t,i)=>{const o=e.createShader(r);if(!o)throw new Error(`failed to create shader '${i}'`);if(e.shaderSource(o,t),e.compileShader(o),!e.getShaderParameter(o,e.COMPILE_STATUS)){const u=e.getShaderInfoLog(o);throw new Error(`compilation error in shader '${i}':
${u}`)}return o},jt=(e,r,t,i)=>{const o=e.createProgram();if(!o)throw new Error(`failed to create program '${i}'`);if(e.attachShader(o,r),e.attachShader(o,t),e.linkProgram(o),e.detachShader(o,r),e.detachShader(o,t),!e.getProgramParameter(o,e.LINK_STATUS)){const u=e.getProgramInfoLog(o);throw new Error(`link error in program '${i}':
${u}`)}return o};function*Ui(e,r){let t=0;for(;!(t>e.length);){const i=t+r;yield e.slice(t,i),t=i}}function*Ii(e,r){let t=0;for(;;){const i=t+r;if(i>e.length)break;yield e.slice(t,i),t=i}}function Pr(e,r,t,i){const o=r*2,u=e.map(t);return u.length<o?u:Ui(u,r).map(f=>[...f]).map(i).toArray()}function lt(e){return Math.round(e*255)}let Je=null;const Di=(e,r,t,i)=>{Je={value:e,level:r,draggedID:t,set:i}},Bi=()=>{Je=null},Pi=(e,r,t)=>{!Je||Je.level!==e||Je.draggedID===r||(Je.set&&(Je.set(Je.value),Je.set=null),t(Je.value))};var $i=(e,r)=>r(!1),Mi=Y('<button class="h-4 w-4 rounded-lg hover:bg-white"><img src="plugin://app/images/caret-down-solid.svg" class="h-full w-full" alt="hide"></button>'),Ci=(e,r)=>r(!0),Li=Y('<button class="h-4 w-4 rounded-lg hover:bg-white"><img src="plugin://app/images/caret-down-solid.svg" class="h-full w-full rotate-270" alt="expand"></button>'),ki=Y('<input type="checkbox">'),Ni=Y("<!> <!> <label> </label> <br>",1);function Re(e,r){At(r,!1);let t=Me(r,"expanded",12),i=Me(r,"id",8),o=Me(r,"text",8),u=Me(r,"checked",12,null),f=Me(r,"level",8),g=Me(r,"onexpandedchange",8,null),d=Me(r,"oncheckedchange",8,null);const l=G=>{t(G),g()&&g()()},_=G=>{u(G),d()&&d()()},x=()=>Di(!u(),f(),i(),_),s=()=>Pi(f(),i(),_),m=Bi;Bt();var y=Ni(),V=de(y);{var z=G=>{var W=Mi();W.__click=[$i,l],Xe(()=>kt(W,"id",u()===null?i():null)),L(G,W)},le=G=>{var W=Li();W.__click=[Ci,l],Xe(()=>kt(W,"id",u()===null?i():null)),L(G,W)};re(V,G=>{t()?G(z):G(le,!1)})}var fe=j(V,2);{var ne=G=>{var W=ki();kt(W,"draggable",!0),W.__change=function(...q){var ie;(ie=d())==null||ie.apply(this,q)},Xe(()=>kt(W,"id",i())),Ct("dragstart",W,x),Ct("dragenter",W,s),Ct("dragend",W,m),vi(W,u),L(G,W)};re(fe,G=>{u()!==null&&G(ne)})}var D=j(fe,2);kt(D,"draggable",!0),D.__change=function(...G){var W;(W=d())==null||W.apply(this,G)};var H=Ue(D);Xe(()=>{kt(D,"for",i()),be(H,o())}),Ct("dragstart",D,x),Ct("dragenter",D,s),Ct("dragend",D,m),L(e,y),Ft()}Ur(["click","change"]);var Oi=Y('<div class="ml-2 w-full"> <br> <br> <br> <br></div>');function hn(e,r){At(r,!1);let t=Me(r,"image",8);Bt();var i=Oi(),o=Ue(i),u=j(o,2),f=j(u,2),g=j(f,2);Xe((d,l,_,x)=>{be(o,`screen: ${t().x??""},${t().y??""}
  ${t().w??""}x${t().h??""} `),be(u,` atlas: ${t().ax??""},${t().ay??""}
  ${t().aw??""}x${t().ah??""} `),be(f,` rgb: ${d??""}, ${l??""}, ${_??""} `),be(g,` alpha: ${x??""} `)},[()=>lt(t().r),()=>lt(t().g),()=>lt(t().b),()=>t().a.toPrecision(4)],C),L(e,i),Ft()}var Vi=Y(" <br>",1),Hi=Y('<div class="ml-2 w-full"><!> <br> <br> <br> <br></div>');function pn(e,r){At(r,!1);let t=Me(r,"vertex",8);Bt();var i=Hi(),o=Ue(i);{var u=_=>{var x=Vi(),s=de(x);Xe(()=>be(s,`model: ${t().modelpoint.x??""},${t().modelpoint.y??""},${t().modelpoint.z??""} `)),L(_,x)};re(o,_=>{t().modelpoint&&_(u)})}var f=j(o),g=j(f,2),d=j(g,2),l=j(d,2);Xe((_,x,s,m,y,V)=>{be(f,` atlas: ${t().ax??""},${t().ay??""}
  ${t().aw??""}x${t().ah??""} `),be(g,` uv: ${_??""}, ${x??""} `),be(d,` rgb: ${s??""}, ${m??""}, ${y??""} `),be(l,` alpha: ${V??""} `)},[()=>t().u.toPrecision(4),()=>t().v.toPrecision(4),()=>lt(t().r),()=>lt(t().g),()=>lt(t().b),()=>t().a.toPrecision(4)],C),L(e,i),Ft()}var Xi=Y('<div class="ml-2 w-full"> <br> <br> <br></div>');function gn(e,r){At(r,!1);let t=Me(r,"vertex",8);Bt();var i=Xi(),o=Ue(i),u=j(o,2),f=j(u,2);Xe((g,d,l,_)=>{be(o,`model: ${t().modelpoint.x??""},${t().modelpoint.y??""},${t().modelpoint.z??""} `),be(u,` rgb: ${g??""}, ${d??""}, ${l??""} `),be(f,` alpha: ${_??""} `)},[()=>lt(t().r),()=>lt(t().g),()=>lt(t().b),()=>t().a.toPrecision(4)],C),L(e,i),Ft()}var Yi=Y("<div> </div>"),Wi=(e,r,t)=>{const i=r().textureId,o=t().textures[i];t(t().selectedTextureId=i.toString(),!0),t(t().selectedTexture=o,!0),t(t().textureBoundX=0,!0),t(t().textureBoundY=0,!0),t(t().textureBoundW=o.width,!0),t(t().textureBoundH=o.height,!0),t(t().textureViewX=0,!0),t(t().textureViewY=0,!0),t().redraw()},zi=Y('<button class="hover:bg-gray-200"> </button> <br>',1),qi=Y("<!> <!>",1),ji=Y('<div class="ml-1"></div>'),Gi=Y("<!> <!>",1),Ki=Y("<!> <!>",1),Zi=Y('<div class="ml-1"><!></div>'),Qi=Y("<!> <!>",1),Ji=Y("<!> <!>",1),eo=Y('<div class="ml-1"></div>'),to=Y("<!> <!>",1),ro=Y("<!> <!>",1),no=Y('<div class="ml-1"><!></div>'),ao=Y("<!> <!>",1),io=Y("<!> <!>",1),oo=Y('<div class="ml-1"></div>'),uo=Y("<!> <!>",1),so=Y("<!> <!>",1),lo=Y('<div class="ml-1"><!></div>'),fo=Y("<!> <!>",1),co=Y('<div class="ml-1"><!> <!></div>'),_o=Y(" <br> <!> <!>",1),vo=Y('<div class="ml-3 text-sm"><!> <!> <!> <!> <!></div>');function xo(e,r){At(r,!1);let t=Me(r,"entity",12),i=Me(r,"menuData",12),o=Me(r,"level",8);const u=6,f=100;let g=N(!1),d=N(!1),l=N(!1);function _(R){return"images"in R}function x(R){return"vertices"in R}function s(R){return"vertices"in R}const m=(R,Q)=>{const M=R[0];let ce=M.x,ye=M.x,he=M.y,pe=M.y;for(const oe of R)oe.x<ce&&(ce=oe.x),oe.x>ye&&(ye=oe.x),oe.y<he&&(he=oe.y),oe.y>pe&&(pe=oe.y);return{x:ce,y:he,w:ye-ce,h:pe-he,ax:M.ax,ay:M.ay,aw:M.aw,ah:M.ah,r:M.r,g:M.g,b:M.b,a:M.a,expanded:!1,index:Q}},y=(R,Q)=>{const M=Q*f,ce=M*u;return{images:R,desc:`${M}-${M+R.length-1}`,expanded:!1,vertexRangeStart:ce,vertexRangeEnd:ce+R.length*u}},V=(R,Q)=>({modelpoint:{...R},expanded:!1,index:Q,...R}),z=(R,Q)=>({modelpoint:null,expanded:!1,index:Q,...R}),le=(R,Q)=>{const M=Q*f;return{vertices:R,desc:`${M}-${M+R.length-1}`,expanded:!1}},fe=(R,Q)=>({modelpoint:{...R},expanded:!1,index:Q,...R}),ne=(R,Q)=>{const M=Q*f;return{vertices:R,desc:`${M}-${M+R.length-1}`,expanded:!1}},D=(R,Q)=>({vertices:Pr(R.vertices,f,fe,ne),vertexCount:R.vertices.length,expanded:!1,verticesExpanded:!1,index:Q});let H=N(null),G=N(0),W=N(null),q=N(0),ie=N(null),De=N(0);if(t().type==="batch2d"||t().type==="minimap2d"){const R=[...Ii(t().vertices,u)];I(G,R.length),I(H,Pr(R,f,m,y))}else if(t().vertices){const R=t().type!=="renderparticles"?V:z;I(q,t().vertices.length),I(W,Pr(t().vertices,f,R,le))}t().models&&(I(De,t().models.length),I(ie,t().models.map(D))),Bt();var ke=vo(),_t=Ue(ke);{var Pt=R=>{var Q=Yi(),M=Ue(Q);Xe(()=>be(M,`animated: ${t().animated??""}`)),L(R,Q)};re(_t,R=>{typeof t().animated=="boolean"&&R(Pt)})}var vt=j(_t,2);{var $t=R=>{var Q=zi(),M=de(Q);M.__click=[Wi,t,i];var ce=Ue(M);Xe(()=>be(ce,`texture: #${t().textureId??""}`)),L(R,Q)};re(vt,R=>{typeof t().textureId=="number"&&R($t)})}var Ge=j(vt,2);{var rt=R=>{var Q=Qi(),M=de(Q);const ce=C(()=>`${t().uuid}-images2d`),ye=C(()=>`2D images (${n(G)})`);Re(M,{get id(){return n(ce)},get text(){return n(ye)},get level(){return o()},get expanded(){return n(g)},set expanded(oe){I(g,oe)},$$legacy:!0});var he=j(M,2);{var pe=oe=>{var Fe=lr(),Ke=de(Fe);ut(Ke,1,()=>n(H),ot,(nt,k,Z)=>{var h=Zi(),Ee=Ue(h);{var ge=me=>{var Ae=Gi(),ve=de(Ae),Ne=()=>n(k).images.every(v=>t().enabledVerticesList[v.index*u]),Te=v=>{for(let c=n(k).vertexRangeStart;c<n(k).vertexRangeEnd;c+=1)t(t().enabledVerticesList[c]=v,!0)};const Oe=C(()=>`${t().uuid}-images-${n(k).desc}`),Ve=C(()=>`[Images ${n(k).desc}]`),We=C(()=>o()+1);Re(ve,{get checked(){return Ne()},set checked(v){Te(v)},get oncheckedchange(){return i().redraw},get id(){return n(Oe)},get text(){return n(Ve)},get level(){return n(We)},get expanded(){return n(k).expanded},set expanded(v){n(k).expanded=v,$e(()=>n(H))},$$legacy:!0});var p=j(ve,2);{var a=v=>{var c=ji();ut(c,5,()=>n(k).images,ot,(O,w,A)=>{var U=qi(),b=de(U),P=()=>t().enabledVerticesList[n(w).index*u],X=F=>{for(let B=0;B<u;B+=1)t(t().enabledVerticesList[n(w).index*u+B]=F,!0)};const J=C(()=>`${t().uuid}-images-${n(k).desc}-${A}`),T=C(()=>o()+2);Re(b,{get checked(){return P()},set checked(F){X(F)},get oncheckedchange(){return i().redraw},get id(){return n(J)},text:`Image ${Z*f+A}`,get level(){return n(T)},get expanded(){return n(w).expanded},set expanded(F){n(w).expanded=F,$e(()=>(n(H),n(k).images))},$$legacy:!0});var K=j(b,2);{var E=F=>{hn(F,{get image(){return n(w)}})};re(K,F=>{n(w).expanded&&F(E)})}L(O,U)}),L(v,c)};re(p,v=>{n(k).expanded&&v(a)})}L(me,Ae)},Tt=me=>{var Ae=Ki(),ve=de(Ae),Ne=()=>t().enabledVerticesList[n(k).index*u],Te=a=>{for(let v=0;v<u;v+=1)t(t().enabledVerticesList[n(k).index*u+v]=a,!0)};const Oe=C(()=>`${t().uuid}-images-${Z}`),Ve=C(()=>o()+1);Re(ve,{get checked(){return Ne()},set checked(a){Te(a)},get oncheckedchange(){return i().redraw},get id(){return n(Oe)},text:`Image ${Z}`,get level(){return n(Ve)},get expanded(){return n(k).expanded},set expanded(a){n(k).expanded=a,$e(()=>n(H))},$$legacy:!0});var We=j(ve,2);{var p=a=>{hn(a,{get image(){return n(k)}})};re(We,a=>{n(k).expanded&&a(p)})}L(me,Ae)};re(Ee,me=>{_(n(k))?me(ge):me(Tt,!1)})}L(nt,h)}),L(oe,Fe)};re(he,oe=>{n(g)&&oe(pe)})}L(R,Q)};re(Ge,R=>{n(H)&&n(G)&&R(rt)})}var xt=j(Ge,2);{var ar=R=>{var Q=ao(),M=de(Q);const ce=C(()=>`${t().uuid}-vertices3d`),ye=C(()=>`3D vertices (${n(q)})`);Re(M,{get id(){return n(ce)},get text(){return n(ye)},get level(){return o()},get expanded(){return n(d)},set expanded(oe){I(d,oe)},$$legacy:!0});var he=j(M,2);{var pe=oe=>{var Fe=lr(),Ke=de(Fe);ut(Ke,1,()=>n(W),ot,(nt,k,Z)=>{var h=no(),Ee=Ue(h);{var ge=me=>{var Ae=to(),ve=de(Ae);const Ne=C(()=>`${t().uuid}-vertices-${n(k).desc}`),Te=C(()=>`[Vertices ${n(k).desc}]`),Oe=C(()=>o()+1);Re(ve,{get id(){return n(Ne)},get text(){return n(Te)},get level(){return n(Oe)},get expanded(){return n(k).expanded},set expanded(p){n(k).expanded=p,$e(()=>n(W))},$$legacy:!0});var Ve=j(ve,2);{var We=p=>{var a=eo();ut(a,5,()=>n(k).vertices,ot,(v,c,O)=>{var w=Ji(),A=de(w);const U=C(()=>`${t().uuid}-vertices-${n(k).desc}-${n(c).index}`),b=C(()=>`Vertex ${n(c).index}`),P=C(()=>o()+2);Re(A,{get id(){return n(U)},get text(){return n(b)},get level(){return n(P)},get expanded(){return n(c).expanded},set expanded(T){n(c).expanded=T,$e(()=>(n(W),n(k).vertices))},$$legacy:!0});var X=j(A,2);{var J=T=>{pn(T,{get vertex(){return n(c)}})};re(X,T=>{n(c).expanded&&T(J)})}L(v,w)}),L(p,a)};re(Ve,p=>{n(k).expanded&&p(We)})}L(me,Ae)},Tt=me=>{var Ae=ro(),ve=de(Ae);const Ne=C(()=>`${t().uuid}-vertices-${n(k).index}`),Te=C(()=>`Vertex ${n(k).index}`),Oe=C(()=>o()+1);Re(ve,{get id(){return n(Ne)},get text(){return n(Te)},get level(){return n(Oe)},get expanded(){return n(k).expanded},set expanded(p){n(k).expanded=p,$e(()=>n(W))},$$legacy:!0});var Ve=j(ve,2);{var We=p=>{pn(p,{get vertex(){return n(k)}})};re(Ve,p=>{n(k).expanded&&p(We)})}L(me,Ae)};re(Ee,me=>{x(n(k))?me(ge):me(Tt,!1)})}L(nt,h)}),L(oe,Fe)};re(he,oe=>{n(d)&&oe(pe)})}L(R,Q)};re(xt,R=>{n(W)&&n(q)&&R(ar)})}var ir=j(xt,2);{var or=R=>{var Q=_o(),M=de(Q),ce=j(M,3);const ye=C(()=>`${t().uuid}-models`),he=C(()=>`Models (${n(De)})`);Re(ce,{get id(){return n(ye)},get text(){return n(he)},get level(){return o()},get expanded(){return n(l)},set expanded(Fe){I(l,Fe)},$$legacy:!0});var pe=j(ce,2);{var oe=Fe=>{var Ke=lr(),nt=de(Ke);ut(nt,1,()=>n(ie),ot,(k,Z,h)=>{var Ee=co(),ge=Ue(Ee);const Tt=C(()=>`${t().uuid}-models`),me=C(()=>`Model ${n(Z).index}`),Ae=C(()=>o()+1);Re(ge,{get id(){return n(Tt)},get text(){return n(me)},get level(){return n(Ae)},get expanded(){return n(Z).expanded},set expanded(Te){n(Z).expanded=Te,$e(()=>n(ie))},$$legacy:!0});var ve=j(ge,2);{var Ne=Te=>{var Oe=fo(),Ve=de(Oe);const We=C(()=>`${t().uuid}-vertices`),p=C(()=>`Vertices (${n(Z).vertexCount})`),a=C(()=>o()+2);Re(Ve,{get id(){return n(We)},get text(){return n(p)},get level(){return n(a)},get expanded(){return n(Z).verticesExpanded},set expanded(O){n(Z).verticesExpanded=O,$e(()=>n(ie))},$$legacy:!0});var v=j(Ve,2);{var c=O=>{var w=lr(),A=de(w);ut(A,1,()=>n(Z).vertices,ot,(U,b,P)=>{var X=lo(),J=Ue(X);{var T=E=>{var F=uo(),B=de(F);const S=C(()=>`${t().uuid}-vertices-${n(b).desc}`),$=C(()=>`[Vertices ${n(b).desc}]`),ee=C(()=>o()+3);Re(B,{get id(){return n(S)},get text(){return n($)},get level(){return n(ee)},get expanded(){return n(b).expanded},set expanded(xe){n(b).expanded=xe,$e(()=>(n(ie),n(Z).vertices))},$$legacy:!0});var se=j(B,2);{var ue=xe=>{var at=oo();ut(at,5,()=>n(b).vertices,ot,(Yt,Ze,Ir)=>{var Mt=io(),Rt=de(Mt);const ur=C(()=>`${t().uuid}-vertices-${n(b).desc}-${n(Ze).index}`),Dr=C(()=>`Vertex ${n(Ze).index}`),Be=C(()=>o()+4);Re(Rt,{get id(){return n(ur)},get text(){return n(Dr)},get level(){return n(Be)},get expanded(){return n(Ze).expanded},set expanded(it){n(Ze).expanded=it,$e(()=>(n(ie),n(Z).vertices,n(b).vertices))},$$legacy:!0});var Wt=j(Rt,2);{var zt=it=>{gn(it,{get vertex(){return n(Ze)}})};re(Wt,it=>{n(Ze).expanded&&it(zt)})}L(Yt,Mt)}),L(xe,at)};re(se,xe=>{n(b).expanded&&xe(ue)})}L(E,F)},K=E=>{var F=so(),B=de(F);const S=C(()=>`${t().uuid}-${n(Z).index}-vertex-${n(b).index}`),$=C(()=>`Vertex ${n(b).index}`),ee=C(()=>o()+3);Re(B,{get id(){return n(S)},get text(){return n($)},get level(){return n(ee)},get expanded(){return n(b).expanded},set expanded(xe){n(b).expanded=xe,$e(()=>(n(ie),n(Z).vertices))},$$legacy:!0});var se=j(B,2);{var ue=xe=>{gn(xe,{get vertex(){return n(b)}})};re(se,xe=>{n(b).expanded&&xe(ue)})}L(E,F)};re(J,E=>{s(n(b))?E(T):E(K,!1)})}L(U,X)}),L(O,w)};re(v,O=>{n(Z).verticesExpanded&&O(c)})}L(Te,Oe)};re(ve,Te=>{n(Z).expanded&&Te(Ne)})}L(k,Ee)}),L(Fe,Ke)};re(pe,Fe=>{n(l)&&Fe(oe)})}Xe(()=>be(M,`screen: ${t().targetx??""},${t().targety??""}
    ${t().targetw??""}x${t().targeth??""} `)),L(R,Q)};re(ir,R=>{n(ie)&&n(De)&&R(or)})}L(e,ke),Ft()}Ur(["click"]);var ho=(e,r,t,i)=>r(t(),i()),po=Y('<div class="static select-none m-0 border-none w-full text-left"><button> </button></div>'),go=Y("<div><!> <!></div>"),mo=Y('<div class="static select-none m-0 border-none w-full"><b>All textures</b></div> <!> <br> <div class="static select-none m-0 border-none w-full"><b>All entities</b></div> <!>',1);function wo(e,r){At(r,!1);let t=Me(r,"data",12);const i=(d,l)=>{t().selectedTexture===l?t(t().selectedTexture=null,!0):(t(t().selectedTextureId=d,!0),t(t().selectedTexture=l,!0),t(t().textureBoundX=0,!0),t(t().textureBoundY=0,!0),t(t().textureBoundW=l.width,!0),t(t().textureBoundH=l.height,!0),t(t().textureViewX=0,!0),t(t().textureViewY=0,!0)),t().redraw()},o=1;Bt();var u=mo(),f=j(de(u),2);ut(f,1,()=>Object.entries(t().textures),ot,(d,l)=>{let _=()=>n(l)[0],x=()=>n(l)[1];var s=po(),m=Ue(s);m.__click=[ho,i,_,x];var y=Ue(m);Xe(()=>{fn(m,1,si(t().selectedTexture===x()?"bg-rose-400 hover:bg-rose-500 w-full":"bg-slate-300 hover:bg-slate-400 w-full")),be(y,`#${_()??""}`)}),L(d,s)});var g=j(f,6);ut(g,1,()=>t().entities,ot,(d,l,_)=>{var x=go();fn(x,1,`select-none m-0 border-none w-full ${_&1?"bg-[#c4c4e4]":"bg-[#b8b8d8]"}`);var s=Ue(x);Re(s,{id:`menu${_}`,get text(){return t().entities[_].type},get oncheckedchange(){return t().redraw},level:o,get expanded(){return t().entities[_].expanded},set expanded(V){t().entities[_].expanded=V,$e(()=>t().entities)},get checked(){return t().entities[_].enabled},set checked(V){t().entities[_].enabled=V,$e(()=>t().entities)},$$legacy:!0});var m=j(s,2);{var y=V=>{xo(V,{level:o+1,get entity(){return t().entities[_]},set entity(z){t().entities[_]=z,$e(()=>t().entities)},get menuData(){return t()},set menuData(z){t(z)},$$legacy:!0})};re(m,V=>{t().entities[_].expanded&&V(y)})}L(d,x)}),L(e,u),Ft()}Ur(["click"]);const we=[];for(let e=0;e<256;++e)we.push((e+256).toString(16).slice(1));function bo(e,r=0){return(we[e[r+0]]+we[e[r+1]]+we[e[r+2]]+we[e[r+3]]+"-"+we[e[r+4]]+we[e[r+5]]+"-"+we[e[r+6]]+we[e[r+7]]+"-"+we[e[r+8]]+we[e[r+9]]+"-"+we[e[r+10]]+we[e[r+11]]+we[e[r+12]]+we[e[r+13]]+we[e[r+14]]+we[e[r+15]]).toLowerCase()}let $r;const yo=new Uint8Array(16);function Eo(){if(!$r){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$r=crypto.getRandomValues.bind(crypto)}return $r(yo)}const Ao=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),mn={randomUUID:Ao};function Nt(e,r,t){var o;if(mn.randomUUID&&!e)return mn.randomUUID();e=e||{};const i=e.random??((o=e.rng)==null?void 0:o.call(e))??Eo();if(i.length<16)throw new Error("Random bytes length must be >= 16");return i[6]=i[6]&15|64,i[8]=i[8]&63|128,bo(i)}var Fo=(e,r,t)=>I(r,t),To=(e,r)=>I(r,null),Ro=(e,r)=>I(r,!1),So=Y('<div class="overflow-auto absolute w-60 h-full left-0 top-0 m-0 p-0 bg-slate-200"><!></div> <input type="image" src="plugin://app/images/bars-solid.svg" class="absolute rounded-sm mx-61 my-6 p-1 w-9 h-9 bg-gray-200 opacity-75 hover:opacity-100" alt="hide menu">',1),Uo=(e,r)=>I(r,!0),Io=Y('<input type="image" src="plugin://app/images/bars-solid.svg" class="absolute rounded-sm m-6 p-1 w-9 h-9 bg-gray-200 opacity-75 hover:opacity-100" alt="show menu">'),Do=(e,r,t,i,o)=>{Qe(r,n(r).selectedTexture=null),t(n(i),n(o))},Bo=Y('<input type="image" src="plugin://app/images/xmark-solid.svg" class="absolute right-0 rounded-sm m-4 p-1 w-8 h-8 bg-gray-200 opacity-75 hover:opacity-100" alt="close">'),Po=Y('<canvas class="absolute right-0"></canvas> <!> <!>',1);function $o(e,r){At(r,!1);let t=N({textures:{},entities:[],selectedTexture:null,selectedTextureId:"",textureBoundX:0,textureBoundY:0,textureBoundW:1,textureBoundH:1,textureViewX:0,textureViewY:0,redraw:()=>ge(n(Z),n(h))});const i=p=>{const a=Pt.get(p);return a?parseInt(a):0},o=0;let u=N(null),f=N(null),g=N(null),d=N(null),l=N(null),_=N(null),x=N(null),s=N(null),m=N(null),y=N(null),V=N(null),z=N(null),le=N(null),fe=N(null),ne=N(null),D=N(null),H=N(null),G=N(null),W=N(null),q=N(null),ie=N(null),De=N(null),ke=null;const _t=new Float32Array([0,0,1,0,0,1,1,0,1,1,0,1]),Pt=new URLSearchParams(window.location.search),vt=Pt.get("n"),$t=vt?Math.max(parseInt(vt),1):1,Ge=i("w"),rt=i("h"),xt=i("gx"),ar=i("gy"),ir=i("gw"),or=i("gh");let R=0,Q=N(0),M=N(),ce=null,ye=null,he=0,pe=0,oe,Fe,Ke=N(!1),nt=N(!1),k=N(null),Z=N(null),h=N(null);const Ee=(p,a,v,c)=>{p.bindBuffer(p.ARRAY_BUFFER,a.vbo);for(let w=0;w<n(Q);w+=1){const A=a.attribs[w];if(!A){p.disableVertexAttribArray(w);continue}p.enableVertexAttribArray(w),p.vertexAttribPointer(w,A.count,p.FLOAT,!1,a.step,A.offset)}if(!c){p.drawArrays(p.TRIANGLES,0,v);return}let O=null;for(let w=0;w<v;w+=1){const A=c[w];O===null?A&&(O=w):A||(p.drawArrays(p.TRIANGLES,O,w-O),O=null)}O!==null&&p.drawArrays(p.TRIANGLES,O,v-O)},ge=(p,a)=>{if(a.viewport(0,0,p.width,p.height),a.scissor(0,0,p.width,p.height),a.clearColor(0,0,0,1),a.clear(a.COLOR_BUFFER_BIT|a.DEPTH_BUFFER_BIT),!n(Ke)){a.viewport(0,0,p.width,p.height);const v=()=>{a.clearColor(.525,.968,.495,1),a.clear(a.COLOR_BUFFER_BIT)},c=()=>{a.clearColor(.2,.2,.2,1),a.clear(a.COLOR_BUFFER_BIT)},O=Math.min(R/$t,1),w=Math.floor(p.width*.65)&-2,A=70,U=8,b=U*2,P=w*O;if(v(),p.width<=b||p.height<=b)return;a.scissor(U,U,p.width-b,p.height-b),c(),a.scissor(p.width/2-(w/2+U),p.height/2-(A/2+U),w+b,A+b),v(),a.scissor(p.width/2-w/2+P,p.height/2-A/2,w-P,A),c();return}if(n(t).selectedTexture){if(a.useProgram(n(ie)),a.viewport(0,0,p.width,p.height),a.uniform2fv(n(De),[p.width,p.height]),!ke){const P=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,P),a.bufferData(a.ARRAY_BUFFER,_t,a.STATIC_DRAW),ke={vbo:P,step:8,attribs:Si}}Ee(a,ke,6);const v=n(t).selectedTexture,c=n(t).textureBoundX-n(t).textureViewX,O=c+v.width,w=n(t).textureBoundY-n(t).textureViewY,A=w+v.height;a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA),a.disable(a.DEPTH_TEST),a.useProgram(n(u)),a.uniform4fv(n(f),[v.width,v.height,p.width,p.height]),a.bindTexture(a.TEXTURE_2D,v.texture),a.uniform1i(n(g),o);const U=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,U),a.bufferData(a.ARRAY_BUFFER,new Float32Array([c,w,0,0,n(t).textureBoundX,n(t).textureBoundY,n(t).textureBoundW,n(t).textureBoundH,1,1,1,1,0,0,0,O,w,1,0,n(t).textureBoundX,n(t).textureBoundY,n(t).textureBoundW,n(t).textureBoundH,1,1,1,1,0,0,0,c,A,0,1,n(t).textureBoundX,n(t).textureBoundY,n(t).textureBoundW,n(t).textureBoundH,1,1,1,1,0,0,0,O,w,1,0,n(t).textureBoundX,n(t).textureBoundY,n(t).textureBoundW,n(t).textureBoundH,1,1,1,1,0,0,0,O,A,1,1,n(t).textureBoundX,n(t).textureBoundY,n(t).textureBoundW,n(t).textureBoundH,1,1,1,1,0,0,0,c,A,0,1,n(t).textureBoundX,n(t).textureBoundY,n(t).textureBoundW,n(t).textureBoundH,1,1,1,1,0,0,0]),a.STATIC_DRAW),Ee(a,{vbo:U,step:60,attribs:qt},6),a.deleteBuffer(U);return}ye&&(a.bindFramebuffer(a.DRAW_FRAMEBUFFER,ye),a.clearColor(0,0,0,0),a.clear(a.COLOR_BUFFER_BIT),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null)),a.disable(a.SCISSOR_TEST);for(let v of n(t).entities)if(v.enabled){if(v.type==="batch2d"){a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA),a.disable(a.DEPTH_TEST);const c=n(t).textures[v.textureId];a.useProgram(n(u)),a.viewport(0,0,Ge,rt),a.uniform4fv(n(f),[c.width,c.height,v.targetWidth,v.targetHeight]),a.bindTexture(a.TEXTURE_2D,c.texture),a.uniform1i(n(g),o),Ee(a,v.buffer,v.vertexCount,v.enabledVerticesList)}if(v.type==="render3d"){a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA),a.enable(a.DEPTH_TEST);const c=n(t).textures[v.textureId];a.useProgram(v.animated?n(y):n(d)),a.viewport(xt,ar,ir,or),a.uniformMatrix4fv(v.animated?n(V):n(l),!1,v.modelMatrix),a.uniformMatrix4fv(v.animated?n(z):n(_),!1,oe),a.uniformMatrix4fv(v.animated?n(le):n(x),!1,Fe),a.uniform2fv(v.animated?n(fe):n(s),[c.width,c.height]),a.bindTexture(a.TEXTURE_2D,c.texture),a.uniform1i(v.animated?n(ne):n(m),o),Ee(a,v.buffer,v.vertexCount)}if(v.type==="renderparticles"){a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA),a.enable(a.DEPTH_TEST);const c=n(t).textures[v.textureId];a.useProgram(n(D)),a.viewport(xt,ar,ir,or),a.uniformMatrix4fv(n(H),!1,oe),a.uniformMatrix4fv(n(G),!1,Fe),a.uniform2fv(n(q),[c.width,c.height]),a.bindTexture(a.TEXTURE_2D,c.texture),a.uniform1i(n(W),o),Ee(a,v.buffer,v.vertexCount)}if(v.type==="icon"||v.type==="bigicon"){const c=v.texSize;a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA),a.disable(a.DEPTH_TEST),a.useProgram(n(u)),a.viewport(0,0,Ge,rt),a.bindTexture(a.TEXTURE_2D,v.texture),a.uniform1i(n(g),o),a.uniform4fv(n(f),[c,c,v.targetWidth,v.targetHeight]),Ee(a,v.buffer,6)}if(v.type==="minimap2d"){!ce||!ye?(ce=a.createTexture(),a.bindTexture(a.TEXTURE_2D,ce),a.texStorage2D(a.TEXTURE_2D,1,a.RGBA8,he,pe),ye=a.createFramebuffer(),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,ye),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,ce,0)):a.bindFramebuffer(a.DRAW_FRAMEBUFFER,ye),a.viewport(0,0,he,pe),a.disable(a.DEPTH_TEST);const c=n(t).textures[v.textureId];a.useProgram(n(u)),a.uniform4fv(n(f),[c.width,c.height,he,pe]),a.bindTexture(a.TEXTURE_2D,c.texture),a.uniform1i(n(g),o),Ee(a,v.buffer,v.vertexCount,v.enabledVerticesList),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null)}if(v.type==="minimap"){if(ce===null)continue;a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA),a.disable(a.DEPTH_TEST),a.useProgram(n(u)),a.viewport(0,0,Ge,rt),a.uniform4fv(n(f),[he,pe,v.targetWidth,v.targetHeight]),a.bindTexture(a.TEXTURE_2D,ce),a.uniform1i(n(g),o),Ee(a,v.buffer,6)}}},Tt=(p,a,v)=>{const c=new DataView(v),O=c.getUint32(0,!0);switch(O){case 0:{I(Ke,!0),ge(p,a);break}case 1:{const w=c.getUint32(4,!0),A=c.getUint32(8,!0),U=c.getUint32(12,!0),b=a.createTexture(),P=new Uint8Array(v,16,A*U*4);a.bindTexture(a.TEXTURE_2D,b),a.texImage2D(a.TEXTURE_2D,0,a.RGBA,A,U,0,a.RGBA,a.UNSIGNED_BYTE,P),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_S,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_WRAP_T,a.CLAMP_TO_EDGE),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MIN_FILTER,a.LINEAR),a.texParameteri(a.TEXTURE_2D,a.TEXTURE_MAG_FILTER,a.LINEAR),Qe(t,n(t).textures[w]={texture:b,width:A,height:U,data:P});break}case 2:case 3:{const w=O===3,A=w?104:40,U=w?120:56,b=c.getUint32(4,!0),P=c.getUint32(8,!0),X=new Float32Array(16);X.set(new Float32Array(v,16,16));const J=new DataView(v,80,b*A),T=new Array(b),K=new ArrayBuffer(b*U),E=new DataView(K);for(let B=0;B<b;B+=1){const S=A*B,$=U*B;let ee=null;w&&(ee=new Float32Array(16),ee.set(new Float32Array(v,80+A*B+40,16)));const se={x:J.getInt16(S,!0),y:J.getInt16(S+2,!0),z:J.getInt16(S+4,!0),u:J.getFloat32(S+8,!0),v:J.getFloat32(S+12,!0),ax:J.getUint16(S+16,!0),ay:J.getUint16(S+18,!0),aw:J.getUint16(S+20,!0),ah:J.getUint16(S+22,!0),r:J.getFloat32(S+24,!0),g:J.getFloat32(S+28,!0),b:J.getFloat32(S+32,!0),a:J.getFloat32(S+36,!0),anim:ee};if(T[B]=se,E.setFloat32($,se.x,!0),E.setFloat32($+4,se.y,!0),E.setFloat32($+8,se.z,!0),E.setFloat32($+12,0,!0),E.setFloat32($+16,se.u,!0),E.setFloat32($+20,se.v,!0),E.setFloat32($+24,se.ax,!0),E.setFloat32($+28,se.ay,!0),E.setFloat32($+32,se.aw,!0),E.setFloat32($+36,se.ah,!0),E.setFloat32($+40,se.r,!0),E.setFloat32($+44,se.g,!0),E.setFloat32($+48,se.b,!0),E.setFloat32($+52,se.a,!0),ee)for(let ue=0;ue<16;ue+=1)E.setFloat32($+56+ue*4,ee[ue],!0)}const F=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,F),a.bufferData(a.ARRAY_BUFFER,E,a.STATIC_DRAW),n(t).entities.push({type:"render3d",animated:w,textureId:P,vertexCount:b,modelMatrix:X,vertices:T,buffer:{vbo:F,step:U,attribs:w?Ti:xn},enabled:!0,expanded:!1,uuid:Nt()}),R+=b,ge(p,a);break}case 4:{const U=c.getUint32(4,!0),b=c.getUint32(8,!0),P=c.getUint16(12,!0),X=c.getUint16(14,!0),J=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,J);const T=new DataView(v,16,U*40),K=new ArrayBuffer(U*60),E=new DataView(K),F=new Array(U);for(let B=0;B<U;B+=1){const S=40*B,$=60*B,ee={x:T.getInt16(S,!0),y:T.getInt16(S+2,!0),ax:T.getInt16(S+4,!0),ay:T.getInt16(S+6,!0),aw:T.getInt16(S+8,!0),ah:T.getInt16(S+10,!0),discard:T.getUint8(S+12),wrapx:T.getUint8(S+13),wrapy:T.getUint8(S+14),u:T.getFloat32(S+16,!0),v:T.getFloat32(S+20,!0),r:T.getFloat32(S+24,!0),g:T.getFloat32(S+28,!0),b:T.getFloat32(S+32,!0),a:T.getFloat32(S+36,!0)};F[B]=ee,E.setFloat32($,ee.x,!0),E.setFloat32($+4,ee.y,!0),E.setFloat32($+8,ee.u,!0),E.setFloat32($+12,ee.v,!0),E.setFloat32($+16,ee.ax,!0),E.setFloat32($+20,ee.ay,!0),E.setFloat32($+24,ee.aw,!0),E.setFloat32($+28,ee.ah,!0),E.setFloat32($+32,ee.r,!0),E.setFloat32($+36,ee.g,!0),E.setFloat32($+40,ee.b,!0),E.setFloat32($+44,ee.a,!0),E.setFloat32($+48,ee.discard,!0),E.setFloat32($+52,ee.wrapx,!0),E.setFloat32($+56,ee.wrapy,!0)}a.bufferData(a.ARRAY_BUFFER,E,a.STATIC_DRAW),n(t).entities.push({type:"batch2d",textureId:b,vertexCount:U,vertices:F,targetWidth:P,targetHeight:X,buffer:{vbo:J,step:60,attribs:qt},enabled:!0,expanded:!1,uuid:Nt(),enabledVerticesList:Array(Math.floor(U)).fill(!0)}),R+=U,ge(p,a);break}case 5:case 8:{const A=O===5?64:512,U=c.getInt16(4,!0),b=c.getInt16(6,!0),P=c.getInt16(8,!0),X=c.getInt16(10,!0),J=c.getUint32(12,!0),T=c.getFloat32(16,!0),K=c.getFloat32(20,!0),E=c.getFloat32(24,!0),F=c.getFloat32(28,!0),B=c.getUint16(32,!0),S=c.getUint16(34,!0),$=a.createTexture(),ee=a.createFramebuffer();a.bindTexture(a.TEXTURE_2D,$),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,ee),a.texStorage2D(a.TEXTURE_2D,1,a.RGBA8,A,A),a.framebufferTexture2D(a.DRAW_FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_2D,$,0),a.enable(a.CULL_FACE),a.cullFace(a.FRONT),a.viewport(0,0,A,A),a.scissor(0,0,A,A);let se=Array(J),ue=36;for(let Mt=0;Mt<J;Mt+=1){const Rt=c.getUint32(ue,!0);let ur=Array(Rt);const Dr=new ArrayBuffer(Rt*56),Be=new DataView(Dr),Wt=new Float32Array(16);Wt.set(new Float32Array(v,ue+4,16));const zt=new Float32Array(16);zt.set(new Float32Array(v,ue+68,16));const it=new Float32Array(16);it.set(new Float32Array(v,ue+132,16)),ue+=196;for(let sr=0;sr<Rt;sr+=1){const ht={x:c.getInt16(ue,!0),y:c.getInt16(ue+2,!0),z:c.getInt16(ue+4,!0),r:c.getFloat32(ue+8,!0),g:c.getFloat32(ue+12,!0),b:c.getFloat32(ue+16,!0),a:c.getFloat32(ue+20,!0)},ze=sr*56;Be.setFloat32(ze,ht.x,!0),Be.setFloat32(ze+4,ht.y,!0),Be.setFloat32(ze+8,ht.z,!0),Be.setFloat32(ze+24,0,!0),Be.setFloat32(ze+28,0,!0),Be.setFloat32(ze+32,A,!0),Be.setFloat32(ze+36,A,!0),Be.setFloat32(ze+40,ht.r,!0),Be.setFloat32(ze+44,ht.g,!0),Be.setFloat32(ze+48,ht.b,!0),Be.setFloat32(ze+52,ht.a,!0),ur[sr]=ht,ue+=24}se[Mt]={vertices:ur,modelMatrix:Wt,viewMatrix:zt,projMatrix:it};const Br=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,Br),a.bufferData(a.ARRAY_BUFFER,Be,a.STATIC_DRAW),a.useProgram(n(d)),a.uniformMatrix4fv(n(l),!1,Wt),a.uniformMatrix4fv(n(_),!1,zt),a.uniformMatrix4fv(n(x),!1,it),a.uniform2fv(n(s),[1,1]),a.bindTexture(a.TEXTURE_2D,n(M)),a.uniform1i(n(m),o),Ee(a,{vbo:Br,attribs:xn,step:56},Rt),a.deleteBuffer(Br)}const xe=U,at=U+P,Yt=b,Ze=b+X,Ir=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,Ir),a.bufferData(a.ARRAY_BUFFER,new Float32Array([xe,Yt,0,1,0,0,A,A,T,E,K,F,0,0,0,at,Yt,1,1,0,0,A,A,T,E,K,F,0,0,0,xe,Ze,0,0,0,0,A,A,T,E,K,F,0,0,0,at,Yt,1,1,0,0,A,A,T,E,K,F,0,0,0,at,Ze,1,0,0,0,A,A,T,E,K,F,0,0,0,xe,Ze,0,0,0,0,A,A,T,E,K,F,0,0,0]),a.STATIC_DRAW),n(t).entities.push({type:O===5?"icon":"bigicon",models:se,texture:$,targetWidth:B,targetHeight:S,texSize:A,buffer:{vbo:Ir,step:60,attribs:qt},targetx:U,targety:b,targetw:P,targeth:X,enabled:!0,expanded:!1,uuid:Nt()}),a.bindFramebuffer(a.DRAW_FRAMEBUFFER,null),a.deleteFramebuffer(ee),a.disable(a.CULL_FACE);break}case 6:{const w=c.getUint32(4,!0),A=c.getUint32(8,!0);he=c.getUint16(12,!0),pe=c.getUint16(14,!0);const U=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,U);const b=new DataView(v,16,w*40),P=new ArrayBuffer(w*60),X=new DataView(P),J=new Array(w);for(let T=0;T<w;T+=1){const K=40*T,E=60*T,F={x:b.getInt16(K,!0),y:b.getInt16(K+2,!0),ax:b.getInt16(K+4,!0),ay:b.getInt16(K+6,!0),aw:b.getInt16(K+8,!0),ah:b.getInt16(K+10,!0),discard:b.getUint8(K+12),wrapx:b.getUint8(K+13),wrapy:b.getUint8(K+14),u:b.getFloat32(K+16,!0),v:b.getFloat32(K+20,!0),r:b.getFloat32(K+24,!0),g:b.getFloat32(K+28,!0),b:b.getFloat32(K+32,!0),a:b.getFloat32(K+36,!0)};J[T]=F,X.setFloat32(E,F.x,!0),X.setFloat32(E+4,F.y,!0),X.setFloat32(E+8,F.u,!0),X.setFloat32(E+12,F.v,!0),X.setFloat32(E+16,F.ax,!0),X.setFloat32(E+20,F.ay,!0),X.setFloat32(E+24,F.aw,!0),X.setFloat32(E+28,F.ah,!0),X.setFloat32(E+32,F.r,!0),X.setFloat32(E+36,F.g,!0),X.setFloat32(E+40,F.b,!0),X.setFloat32(E+44,F.a,!0),X.setFloat32(E+48,F.discard,!0),X.setFloat32(E+52,F.wrapx,!0),X.setFloat32(E+56,F.wrapy,!0)}a.bufferData(a.ARRAY_BUFFER,X,a.STATIC_DRAW),n(t).entities.push({type:"minimap2d",textureId:A,buffer:{vbo:U,attribs:qt,step:60},vertices:J,vertexCount:w,enabled:!0,expanded:!1,enabledVerticesList:Array(Math.floor(w)).fill(!0),uuid:Nt()}),R+=w,ge(p,a);break}case 7:{const w=c.getInt16(4,!0),A=c.getInt16(6,!0),U=c.getUint16(8,!0),b=c.getUint16(10,!0),P=c.getInt16(12,!0),X=c.getInt16(14,!0),J=c.getUint16(16,!0),T=c.getUint16(18,!0),K=c.getUint16(20,!0),E=c.getUint16(22,!0),F=P,B=P+J,S=X,$=X+T,ee=w/he,se=(w+U)/he,ue=A/pe,xe=(A+b)/pe,at=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,at),a.bufferData(a.ARRAY_BUFFER,new Float32Array([F,S,ee,xe,w,A,U,b,1,1,1,1,0,0,0,B,S,se,xe,w,A,U,b,1,1,1,1,0,0,0,F,$,ee,ue,w,A,U,b,1,1,1,1,0,0,0,B,S,se,xe,w,A,U,b,1,1,1,1,0,0,0,B,$,se,ue,w,A,U,b,1,1,1,1,0,0,0,F,$,ee,ue,w,A,U,b,1,1,1,1,0,0,0]),a.STATIC_DRAW),n(t).entities.push({type:"minimap",sourcex:w,sourcey:A,sourcew:U,sourceh:b,targetx:P,targety:X,targetw:J,targeth:T,targetWidth:K,targetHeight:E,buffer:{vbo:at,step:60,attribs:qt},enabled:!0,expanded:!1,uuid:Nt()}),ge(p,a);break}case 9:{const w=c.getUint32(4,!0),A=c.getUint32(8,!0),U=64,b=72,P=new DataView(v,16,w*U),X=new Array(w),J=new ArrayBuffer(w*b),T=new DataView(J);for(let E=0;E<w;E+=1){const F=U*E,B=b*E,S={x:P.getFloat32(F,!0),y:P.getFloat32(F+4,!0),z:P.getFloat32(F+8,!0),offsetx2d:P.getFloat32(F+12,!0),offsety2d:P.getFloat32(F+16,!0),offsetx3d:P.getFloat32(F+20,!0),offsety3d:P.getFloat32(F+24,!0),offsetz3d:P.getFloat32(F+28,!0),ax:P.getUint16(F+32,!0),ay:P.getUint16(F+34,!0),aw:P.getUint16(F+36,!0),ah:P.getUint16(F+38,!0),r:P.getFloat32(F+40,!0),g:P.getFloat32(F+44,!0),b:P.getFloat32(F+48,!0),a:P.getFloat32(F+52,!0),u:P.getFloat32(F+56,!0),v:P.getFloat32(F+60,!0)};X[E]=S,T.setFloat32(B,S.x,!0),T.setFloat32(B+4,S.y,!0),T.setFloat32(B+8,S.z,!0),T.setFloat32(B+12,S.ax,!0),T.setFloat32(B+16,S.ay,!0),T.setFloat32(B+20,S.aw,!0),T.setFloat32(B+24,S.ah,!0),T.setFloat32(B+28,S.r,!0),T.setFloat32(B+32,S.g,!0),T.setFloat32(B+36,S.b,!0),T.setFloat32(B+40,S.a,!0),T.setFloat32(B+44,S.offsetx2d,!0),T.setFloat32(B+48,S.offsety2d,!0),T.setFloat32(B+52,S.offsetx3d,!0),T.setFloat32(B+56,S.offsety3d,!0),T.setFloat32(B+60,S.offsetz3d,!0),T.setFloat32(B+64,S.u,!0),T.setFloat32(B+68,S.v,!0)}const K=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,K),a.bufferData(a.ARRAY_BUFFER,T,a.STATIC_DRAW),n(t).entities.push({type:"renderparticles",textureId:A,vertexCount:w,vertices:X,buffer:{vbo:K,step:b,attribs:Ri},enabled:!0,expanded:!1,uuid:Nt()}),R+=w,ge(p,a);break}case 10:{oe=new Float32Array(v,4,16),Fe=new Float32Array(v,68,16);break}}};window.addEventListener("message",async p=>{if(typeof p.data=="object"&&p.data.type==="pluginMessage"){if(typeof p.data.content!="object"||!n(Z)||!n(h))return;Tt(n(Z),n(h),p.data.content)}});const me=p=>{const a=n(Z);if(!(p.buttons&1)){I(k,null);return}const v=n(t).textureBoundX-a.width/2,c=n(t).textureBoundY-a.height/2,O=v+n(t).textureBoundW,w=c+n(t).textureBoundH;Qe(t,n(t).textureViewX-=p.movementX),Qe(t,n(t).textureViewY-=p.movementY),n(t).textureViewX<v&&Qe(t,n(t).textureViewX=v),n(t).textureViewY<c&&Qe(t,n(t).textureViewY=c),n(t).textureViewX>O&&Qe(t,n(t).textureViewX=O),n(t).textureViewY>w&&Qe(t,n(t).textureViewY=w),ge(a,n(h))};Da(()=>(n(Z),n(h),n(M),n(u),n(d),n(y),n(D),n(ie)),()=>{if(n(Z)&&(Qe(Z,n(Z).width=Ge),Qe(Z,n(Z).height=rt),I(h,n(Z).getContext("webgl2")),n(h))){I(Q,n(h).getParameter(n(h).MAX_VERTEX_ATTRIBS)),I(M,n(h).createTexture()),n(h).bindTexture(n(h).TEXTURE_2D,n(M));const p=new Uint8Array([255,255,255,255]);n(h).texImage2D(n(h).TEXTURE_2D,0,n(h).RGBA,1,1,0,n(h).RGBA,n(h).UNSIGNED_BYTE,p);const a=gt(n(h),n(h).VERTEX_SHADER,gi,"2D vertex shader"),v=gt(n(h),n(h).FRAGMENT_SHADER,mi,"2D fragment shader"),c=gt(n(h),n(h).VERTEX_SHADER,wi,"3D vertex shader"),O=gt(n(h),n(h).VERTEX_SHADER,bi,"3D anim vertex shader"),w=gt(n(h),n(h).FRAGMENT_SHADER,yi,"3D fragment shader"),A=gt(n(h),n(h).VERTEX_SHADER,Ei,"particle vertex shader"),U=gt(n(h),n(h).VERTEX_SHADER,Ai,"checkers vertex shader"),b=gt(n(h),n(h).FRAGMENT_SHADER,Fi,"checkers fragment shader");I(u,jt(n(h),a,v,"2D program")),I(f,n(h).getUniformLocation(n(u),"atlas_wh_screen_wh")),I(g,n(h).getUniformLocation(n(u),"tex")),I(d,jt(n(h),c,w,"3D program")),I(l,n(h).getUniformLocation(n(d),"modelmatrix")),I(_,n(h).getUniformLocation(n(d),"viewmatrix")),I(x,n(h).getUniformLocation(n(d),"projmatrix")),I(s,n(h).getUniformLocation(n(d),"atlas_wh")),I(m,n(h).getUniformLocation(n(d),"tex")),I(y,jt(n(h),O,w,"3D animated program")),I(V,n(h).getUniformLocation(n(y),"modelmatrix")),I(z,n(h).getUniformLocation(n(y),"viewmatrix")),I(le,n(h).getUniformLocation(n(y),"projmatrix")),I(fe,n(h).getUniformLocation(n(y),"atlas_wh")),I(ne,n(h).getUniformLocation(n(y),"tex")),I(D,jt(n(h),A,w,"Particles program")),I(H,n(h).getUniformLocation(n(D),"viewmatrix")),I(G,n(h).getUniformLocation(n(D),"projmatrix")),I(W,n(h).getUniformLocation(n(D),"tex")),I(q,n(h).getUniformLocation(n(D),"atlas_wh")),I(ie,jt(n(h),U,b,"Checkers program")),I(De,n(h).getUniformLocation(n(ie),"screen_wh")),n(h).deleteShader(a),n(h).deleteShader(v),n(h).deleteShader(c),n(h).deleteShader(w),n(h).deleteShader(O),n(h).deleteShader(A),n(h).deleteShader(U),n(h).deleteShader(b),n(h).activeTexture(n(h).TEXTURE0+o),n(h).enable(n(h).SCISSOR_TEST),n(h).disable(n(h).CULL_FACE),n(h).disable(n(h).DEPTH_TEST),n(h).enable(n(h).BLEND),n(h).blendEquationSeparate(n(h).FUNC_ADD,n(h).FUNC_ADD),n(h).depthFunc(n(h).LEQUAL),ge(n(Z),n(h))}}),Ba(),Bt();var Ae=Po(),ve=de(Ae);ve.__mousedown=[Fo,k,me],ve.__mouseup=[To,k],ve.__mousemove=function(...p){var a;(a=n(k))==null||a.apply(this,p)},xi(ve,p=>I(Z,p),()=>n(Z));var Ne=j(ve,2);{var Te=p=>{var a=So(),v=de(a),c=Ue(v);wo(c,{get data(){return n(t)},set data(w){I(t,w)},$$legacy:!0});var O=j(v,2);O.__click=[Ro,nt],L(p,a)},Oe=(p,a)=>{{var v=c=>{var O=Io();O.__click=[Uo,nt],L(c,O)};re(p,c=>{n(Ke)&&c(v)},a)}};re(Ne,p=>{n(nt)?p(Te):p(Oe,!1)})}var Ve=j(Ne,2);{var We=p=>{var a=Bo();a.__click=[Do,t,ge,Z,h],L(p,a)};re(Ve,p=>{n(t).selectedTexture&&p(We)})}L(e,Ae),Ft()}Ur(["mousedown","mouseup","mousemove","click"]);ei($o,{target:document.body});
